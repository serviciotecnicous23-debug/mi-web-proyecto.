function QT(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function x1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lp={exports:{}},bc={},Fp={exports:{}},At={};var Mw;function GT(){if(Mw)return At;Mw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function N(I,ee,Ae){this.props=I,this.context=ee,this.refs=w,this.updater=Ae||b}N.prototype.isReactComponent={},N.prototype.setState=function(I,ee){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ee,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=N.prototype;function C(I,ee,Ae){this.props=I,this.context=ee,this.refs=w,this.updater=Ae||b}var P=C.prototype=new E;P.constructor=C,S(P,N.prototype),P.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function B(I,ee,Ae){var Ve,de={},ge=null,xe=null;if(ee!=null)for(Ve in ee.ref!==void 0&&(xe=ee.ref),ee.key!==void 0&&(ge=""+ee.key),ee)T.call(ee,Ve)&&!A.hasOwnProperty(Ve)&&(de[Ve]=ee[Ve]);var Ue=arguments.length-2;if(Ue===1)de.children=Ae;else if(1<Ue){for(var q=Array(Ue),Ne=0;Ne<Ue;Ne++)q[Ne]=arguments[Ne+2];de.children=q}if(I&&I.defaultProps)for(Ve in Ue=I.defaultProps,Ue)de[Ve]===void 0&&(de[Ve]=Ue[Ve]);return{$$typeof:e,type:I,key:ge,ref:xe,props:de,_owner:R.current}}function Z(I,ee){return{$$typeof:e,type:I.type,key:ee,ref:I.ref,props:I.props,_owner:I._owner}}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function re(I){var ee={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Ae){return ee[Ae]})}var H=/\/+/g;function ie(I,ee){return typeof I=="object"&&I!==null&&I.key!=null?re(""+I.key):ee.toString(36)}function Y(I,ee,Ae,Ve,de){var ge=typeof I;(ge==="undefined"||ge==="boolean")&&(I=null);var xe=!1;if(I===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(I.$$typeof){case e:case t:xe=!0}}if(xe)return xe=I,de=de(xe),I=Ve===""?"."+ie(xe,0):Ve,k(de)?(Ae="",I!=null&&(Ae=I.replace(H,"$&/")+"/"),Y(de,ee,Ae,"",function(Ne){return Ne})):de!=null&&($(de)&&(de=Z(de,Ae+(!de.key||xe&&xe.key===de.key?"":(""+de.key).replace(H,"$&/")+"/")+I)),ee.push(de)),1;if(xe=0,Ve=Ve===""?".":Ve+":",k(I))for(var Ue=0;Ue<I.length;Ue++){ge=I[Ue];var q=Ve+ie(ge,Ue);xe+=Y(ge,ee,Ae,q,de)}else if(q=v(I),typeof q=="function")for(I=q.call(I),Ue=0;!(ge=I.next()).done;)ge=ge.value,q=Ve+ie(ge,Ue++),xe+=Y(ge,ee,Ae,q,de);else if(ge==="object")throw ee=String(I),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return xe}function ve(I,ee,Ae){if(I==null)return I;var Ve=[],de=0;return Y(I,Ve,"","",function(ge){return ee.call(Ae,ge,de++)}),Ve}function W(I){if(I._status===-1){var ee=I._result;ee=ee(),ee.then(function(Ae){(I._status===0||I._status===-1)&&(I._status=1,I._result=Ae)},function(Ae){(I._status===0||I._status===-1)&&(I._status=2,I._result=Ae)}),I._status===-1&&(I._status=0,I._result=ee)}if(I._status===1)return I._result.default;throw I._result}var he={current:null},L={transition:null},z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:L,ReactCurrentOwner:R};function J(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:ve,forEach:function(I,ee,Ae){ve(I,function(){ee.apply(this,arguments)},Ae)},count:function(I){var ee=0;return ve(I,function(){ee++}),ee},toArray:function(I){return ve(I,function(ee){return ee})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},At.Component=N,At.Fragment=n,At.Profiler=i,At.PureComponent=C,At.StrictMode=s,At.Suspense=f,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,At.act=J,At.cloneElement=function(I,ee,Ae){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Ve=S({},I.props),de=I.key,ge=I.ref,xe=I._owner;if(ee!=null){if(ee.ref!==void 0&&(ge=ee.ref,xe=R.current),ee.key!==void 0&&(de=""+ee.key),I.type&&I.type.defaultProps)var Ue=I.type.defaultProps;for(q in ee)T.call(ee,q)&&!A.hasOwnProperty(q)&&(Ve[q]=ee[q]===void 0&&Ue!==void 0?Ue[q]:ee[q])}var q=arguments.length-2;if(q===1)Ve.children=Ae;else if(1<q){Ue=Array(q);for(var Ne=0;Ne<q;Ne++)Ue[Ne]=arguments[Ne+2];Ve.children=Ue}return{$$typeof:e,type:I.type,key:de,ref:ge,props:Ve,_owner:xe}},At.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},At.createElement=B,At.createFactory=function(I){var ee=B.bind(null,I);return ee.type=I,ee},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:c,render:I}},At.isValidElement=$,At.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:W}},At.memo=function(I,ee){return{$$typeof:m,type:I,compare:ee===void 0?null:ee}},At.startTransition=function(I){var ee=L.transition;L.transition={};try{I()}finally{L.transition=ee}},At.unstable_act=J,At.useCallback=function(I,ee){return he.current.useCallback(I,ee)},At.useContext=function(I){return he.current.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I){return he.current.useDeferredValue(I)},At.useEffect=function(I,ee){return he.current.useEffect(I,ee)},At.useId=function(){return he.current.useId()},At.useImperativeHandle=function(I,ee,Ae){return he.current.useImperativeHandle(I,ee,Ae)},At.useInsertionEffect=function(I,ee){return he.current.useInsertionEffect(I,ee)},At.useLayoutEffect=function(I,ee){return he.current.useLayoutEffect(I,ee)},At.useMemo=function(I,ee){return he.current.useMemo(I,ee)},At.useReducer=function(I,ee,Ae){return he.current.useReducer(I,ee,Ae)},At.useRef=function(I){return he.current.useRef(I)},At.useState=function(I){return he.current.useState(I)},At.useSyncExternalStore=function(I,ee,Ae){return he.current.useSyncExternalStore(I,ee,Ae)},At.useTransition=function(){return he.current.useTransition()},At.version="18.3.1",At}var Dw;function um(){return Dw||(Dw=1,Fp.exports=GT()),Fp.exports}var $w;function ZT(){if($w)return bc;$w=1;var e=um(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,m){var p,x={},v=null,b=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(b=f.ref);for(p in f)s.call(f,p)&&!o.hasOwnProperty(p)&&(x[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)x[p]===void 0&&(x[p]=f[p]);return{$$typeof:t,type:c,key:v,ref:b,props:x,_owner:i.current}}return bc.Fragment=n,bc.jsx=u,bc.jsxs=u,bc}var Lw;function XT(){return Lw||(Lw=1,Lp.exports=ZT()),Lp.exports}var r=XT(),zd={},zp={exports:{}},Dr={},Vp={exports:{}},Up={};var Fw;function JT(){return Fw||(Fw=1,(function(e){function t(L,z){var J=L.length;L.push(z);e:for(;0<J;){var I=J-1>>>1,ee=L[I];if(0<i(ee,z))L[I]=z,L[J]=ee,J=I;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var z=L[0],J=L.pop();if(J!==z){L[0]=J;e:for(var I=0,ee=L.length,Ae=ee>>>1;I<Ae;){var Ve=2*(I+1)-1,de=L[Ve],ge=Ve+1,xe=L[ge];if(0>i(de,J))ge<ee&&0>i(xe,de)?(L[I]=xe,L[ge]=J,I=ge):(L[I]=de,L[Ve]=J,I=Ve);else if(ge<ee&&0>i(xe,J))L[I]=xe,L[ge]=J,I=ge;else break e}}return z}function i(L,z){var J=L.sortIndex-z.sortIndex;return J!==0?J:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var f=[],m=[],p=1,x=null,v=3,b=!1,S=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(L){for(var z=n(m);z!==null;){if(z.callback===null)s(m);else if(z.startTime<=L)s(m),z.sortIndex=z.expirationTime,t(f,z);else break;z=n(m)}}function k(L){if(w=!1,P(L),!S)if(n(f)!==null)S=!0,W(T);else{var z=n(m);z!==null&&he(k,z.startTime-L)}}function T(L,z){S=!1,w&&(w=!1,E(B),B=-1),b=!0;var J=v;try{for(P(z),x=n(f);x!==null&&(!(x.expirationTime>z)||L&&!re());){var I=x.callback;if(typeof I=="function"){x.callback=null,v=x.priorityLevel;var ee=I(x.expirationTime<=z);z=e.unstable_now(),typeof ee=="function"?x.callback=ee:x===n(f)&&s(f),P(z)}else s(f);x=n(f)}if(x!==null)var Ae=!0;else{var Ve=n(m);Ve!==null&&he(k,Ve.startTime-z),Ae=!1}return Ae}finally{x=null,v=J,b=!1}}var R=!1,A=null,B=-1,Z=5,$=-1;function re(){return!(e.unstable_now()-$<Z)}function H(){if(A!==null){var L=e.unstable_now();$=L;var z=!0;try{z=A(!0,L)}finally{z?ie():(R=!1,A=null)}}else R=!1}var ie;if(typeof C=="function")ie=function(){C(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ve=Y.port2;Y.port1.onmessage=H,ie=function(){ve.postMessage(null)}}else ie=function(){N(H,0)};function W(L){A=L,R||(R=!0,ie())}function he(L,z){B=N(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,W(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var J=v;v=z;try{return L()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=v;v=L;try{return z()}finally{v=J}},e.unstable_scheduleCallback=function(L,z,J){var I=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?I+J:I):J=I,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,L={id:p++,callback:z,priorityLevel:L,startTime:J,expirationTime:ee,sortIndex:-1},J>I?(L.sortIndex=J,t(m,L),n(f)===null&&L===n(m)&&(w?(E(B),B=-1):w=!0,he(k,J-I))):(L.sortIndex=ee,t(f,L),S||b||(S=!0,W(T))),L},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(L){var z=v;return function(){var J=v;v=z;try{return L.apply(this,arguments)}finally{v=J}}}})(Up)),Up}var zw;function YT(){return zw||(zw=1,Vp.exports=JT()),Vp.exports}var Vw;function e4(){if(Vw)return Dr;Vw=1;var e=um(),t=YT();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function o(a,l){u(a,l),u(a+"Capture",l)}function u(a,l){for(i[a]=l,a=0;a<l.length;a++)s.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function v(a){return f.call(x,a)?!0:f.call(p,a)?!1:m.test(a)?x[a]=!0:(p[a]=!0,!1)}function b(a,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,d,g){if(l===null||typeof l>"u"||b(a,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(a,l,d,g,y,j,_){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=j,this.removeEmptyString=_}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){N[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];N[l]=new w(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){N[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){N[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){N[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){N[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){N[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){N[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){N[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(E,C);N[l]=new w(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(E,C);N[l]=new w(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(E,C);N[l]=new w(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){N[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,l,d,g){var y=N.hasOwnProperty(l)?N[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,y,g)&&(d=null),g||y===null?v(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):y.mustUseProperty?a[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,g=y.attributeNamespace,d===null?a.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,g?a.setAttributeNS(g,l,d):a.setAttribute(l,d))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),L=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,I;function ee(a){if(I===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+a}var Ae=!1;function Ve(a,l){if(!a||Ae)return"";Ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(se){var g=se}Reflect.construct(a,[],l)}else{try{l.call()}catch(se){g=se}a.call(l.prototype)}else{try{throw Error()}catch(se){g=se}a()}}catch(se){if(se&&g&&typeof se.stack=="string"){for(var y=se.stack.split(`
`),j=g.stack.split(`
`),_=y.length-1,M=j.length-1;1<=_&&0<=M&&y[_]!==j[M];)M--;for(;1<=_&&0<=M;_--,M--)if(y[_]!==j[M]){if(_!==1||M!==1)do if(_--,M--,0>M||y[_]!==j[M]){var V=`
`+y[_].replace(" at new "," at ");return a.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",a.displayName)),V}while(1<=_&&0<=M);break}}}finally{Ae=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?ee(a):""}function de(a){switch(a.tag){case 5:return ee(a.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return a=Ve(a.type,!1),a;case 11:return a=Ve(a.type.render,!1),a;case 1:return a=Ve(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case R:return"Portal";case Z:return"Profiler";case B:return"StrictMode";case ie:return"Suspense";case Y:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case re:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ve:return l=a.displayName||null,l!==null?l:ge(a.type)||"Memo";case W:l=a._payload,a=a._init;try{return ge(a(l))}catch{}}return null}function xe(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function q(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ne(a){var l=q(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,j=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(_){g=""+_,j.call(this,_)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(_){g=""+_},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function yt(a){a._valueTracker||(a._valueTracker=Ne(a))}function Pt(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=q(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function Vt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ln(a,l){var d=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Hn(a,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Ue(l.value!=null?l.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Wn(a,l){l=l.checked,l!=null&&P(a,"checked",l,!1)}function yr(a,l){Wn(a,l);var d=Ue(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Kn(a,l.type,d):l.hasOwnProperty("defaultValue")&&Kn(a,l.type,Ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function $t(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Kn(a,l,d){(l!=="number"||Vt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Xr=Array.isArray;function wr(a,l,d,g){if(a=a.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=l.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Ue(d),l=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function F(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function te(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Xr(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Ue(d)}}function fe(a,l){var d=Ue(l.value),g=Ue(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function Re(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Te(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Te(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ce,mt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,y){MSApp.execUnsafeLocalFunction(function(){return a(l,d,g,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ce.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function It(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(a){yi.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Kt[l]=Kt[a]})});function Fs(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Kt.hasOwnProperty(a)&&Kt[a]?(""+l).trim():l+"px"}function hs(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,y=Fs(d,l[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,y):a[d]=y}}var $a=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(a,l){if(l){if($a[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Vs(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=null;function La(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fa=null,Bs=null,qs=null;function O(a){if(a=ac(a)){if(typeof Fa!="function")throw Error(n(280));var l=a.stateNode;l&&(l=td(l),Fa(a.stateNode,a.type,l))}}function jt(a){Bs?qs?qs.push(a):qs=[a]:Bs=a}function Fn(){if(Bs){var a=Bs,l=qs;if(qs=Bs=null,O(a),l)for(a=0;a<l.length;a++)O(l[a])}}function Jr(a,l){return a(l)}function Tu(){}var $l=!1;function ae(a,l,d){if($l)return a(l,d);$l=!0;try{return Jr(a,l,d)}finally{$l=!1,(Bs!==null||qs!==null)&&(Tu(),Fn())}}function Yr(a,l){var d=a.stateNode;if(d===null)return null;var g=td(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var br=!1;if(c)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){br=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{br=!1}function Oe(a,l,d,g,y,j,_,M,V){var se=Array.prototype.slice.call(arguments,3);try{l.apply(d,se)}catch(je){this.onError(je)}}var ps=!1,on=null,jr=!1,Ll=null,Tr={onError:function(a){ps=!0,on=a}};function Au(a,l,d,g,y,j,_,M,V){ps=!1,on=null,Oe.apply(Tr,arguments)}function Ru(a,l,d,g,y,j,_,M,V){if(Au.apply(this,arguments),ps){if(ps){var se=on;ps=!1,on=null}else throw Error(n(198));jr||(jr=!0,Ll=se)}}function Ge(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Ou(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Fl(a){if(Ge(a)!==a)throw Error(n(188))}function nh(a){var l=a.alternate;if(!l){if(l=Ge(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,g=l;;){var y=d.return;if(y===null)break;var j=y.alternate;if(j===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===d)return Fl(y),a;if(j===g)return Fl(y),l;j=j.sibling}throw Error(n(188))}if(d.return!==g.return)d=y,g=j;else{for(var _=!1,M=y.child;M;){if(M===d){_=!0,d=y,g=j;break}if(M===g){_=!0,g=y,d=j;break}M=M.sibling}if(!_){for(M=j.child;M;){if(M===d){_=!0,d=j,g=y;break}if(M===g){_=!0,g=j,d=y;break}M=M.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function zl(a){return a=nh(a),a!==null?Iu(a):null}function Iu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Iu(a);if(l!==null)return l;a=a.sibling}return null}var Mu=t.unstable_scheduleCallback,Du=t.unstable_cancelCallback,$u=t.unstable_shouldYield,Lu=t.unstable_requestPaint,ln=t.unstable_now,rh=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,Ul=t.unstable_UserBlockingPriority,Bi=t.unstable_NormalPriority,sh=t.unstable_LowPriority,Fu=t.unstable_IdlePriority,za=null,es=null;function Qn(a){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(za,a,void 0,(a.current.flags&128)===128)}catch{}}var K=Math.clz32?Math.clz32:nt,oe=Math.log,le=Math.LN2;function nt(a){return a>>>=0,a===0?32:31-(oe(a)/le|0)|0}var et=64,Mt=4194304;function Lr(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function wi(a,l){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,j=a.pingedLanes,_=d&268435455;if(_!==0){var M=_&~y;M!==0?g=Lr(M):(j&=_,j!==0&&(g=Lr(j)))}else _=d&~y,_!==0?g=Lr(_):j!==0&&(g=Lr(j));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,j=l&-l,y>=j||y===16&&(j&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)d=31-K(l),y=1<<d,g|=a[d],l&=~y;return g}function mk(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hk(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,j=a.pendingLanes;0<j;){var _=31-K(j),M=1<<_,V=y[_];V===-1?((M&d)===0||(M&g)!==0)&&(y[_]=mk(M,l)):V<=l&&(a.expiredLanes|=M),j&=~M}}function ih(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function fy(){var a=et;return et<<=1,(et&4194240)===0&&(et=64),a}function ah(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Bl(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-K(l),a[l]=d}function pk(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var y=31-K(d),j=1<<y;l[y]=0,g[y]=-1,a[y]=-1,d&=~j}}function oh(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-K(d),y=1<<g;y&l|a[g]&l&&(a[g]|=l),d&=~y}}var qt=0;function my(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var hy,lh,py,gy,xy,ch=!1,zu=[],qi=null,Hi=null,Wi=null,ql=new Map,Hl=new Map,Ki=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(a,l){switch(a){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":ql.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(l.pointerId)}}function Wl(a,l,d,g,y,j){return a===null||a.nativeEvent!==j?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:j,targetContainers:[y]},l!==null&&(l=ac(l),l!==null&&lh(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function xk(a,l,d,g,y){switch(l){case"focusin":return qi=Wl(qi,a,l,d,g,y),!0;case"dragenter":return Hi=Wl(Hi,a,l,d,g,y),!0;case"mouseover":return Wi=Wl(Wi,a,l,d,g,y),!0;case"pointerover":var j=y.pointerId;return ql.set(j,Wl(ql.get(j)||null,a,l,d,g,y)),!0;case"gotpointercapture":return j=y.pointerId,Hl.set(j,Wl(Hl.get(j)||null,a,l,d,g,y)),!0}return!1}function yy(a){var l=Va(a.target);if(l!==null){var d=Ge(l);if(d!==null){if(l=d.tag,l===13){if(l=Ou(d),l!==null){a.blockedOn=l,xy(a.priority,function(){py(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vu(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=dh(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Us=g,d.target.dispatchEvent(g),Us=null}else return l=ac(d),l!==null&&lh(l),a.blockedOn=d,!1;l.shift()}return!0}function wy(a,l,d){Vu(a)&&d.delete(l)}function vk(){ch=!1,qi!==null&&Vu(qi)&&(qi=null),Hi!==null&&Vu(Hi)&&(Hi=null),Wi!==null&&Vu(Wi)&&(Wi=null),ql.forEach(wy),Hl.forEach(wy)}function Kl(a,l){a.blockedOn===l&&(a.blockedOn=null,ch||(ch=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vk)))}function Ql(a){function l(y){return Kl(y,a)}if(0<zu.length){Kl(zu[0],a);for(var d=1;d<zu.length;d++){var g=zu[d];g.blockedOn===a&&(g.blockedOn=null)}}for(qi!==null&&Kl(qi,a),Hi!==null&&Kl(Hi,a),Wi!==null&&Kl(Wi,a),ql.forEach(l),Hl.forEach(l),d=0;d<Ki.length;d++)g=Ki[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<Ki.length&&(d=Ki[0],d.blockedOn===null);)yy(d),d.blockedOn===null&&Ki.shift()}var Co=k.ReactCurrentBatchConfig,Uu=!0;function yk(a,l,d,g){var y=qt,j=Co.transition;Co.transition=null;try{qt=1,uh(a,l,d,g)}finally{qt=y,Co.transition=j}}function wk(a,l,d,g){var y=qt,j=Co.transition;Co.transition=null;try{qt=4,uh(a,l,d,g)}finally{qt=y,Co.transition=j}}function uh(a,l,d,g){if(Uu){var y=dh(a,l,d,g);if(y===null)Ph(a,l,g,Bu,d),vy(a,g);else if(xk(y,a,l,d,g))g.stopPropagation();else if(vy(a,g),l&4&&-1<gk.indexOf(a)){for(;y!==null;){var j=ac(y);if(j!==null&&hy(j),j=dh(a,l,d,g),j===null&&Ph(a,l,g,Bu,d),j===y)break;y=j}y!==null&&g.stopPropagation()}else Ph(a,l,g,null,d)}}var Bu=null;function dh(a,l,d,g){if(Bu=null,a=La(g),a=Va(a),a!==null)if(l=Ge(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Ou(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Bu=a,null}function by(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case Vl:return 1;case Ul:return 4;case Bi:case sh:return 16;case Fu:return 536870912;default:return 16}default:return 16}}var Qi=null,fh=null,qu=null;function jy(){if(qu)return qu;var a,l=fh,d=l.length,g,y="value"in Qi?Qi.value:Qi.textContent,j=y.length;for(a=0;a<d&&l[a]===y[a];a++);var _=d-a;for(g=1;g<=_&&l[d-g]===y[j-g];g++);return qu=y.slice(a,1<g?1-g:void 0)}function Hu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Wu(){return!0}function Ny(){return!1}function Fr(a){function l(d,g,y,j,_){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=j,this.target=_,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(d=a[M],this[M]=d?d(j):j[M]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Wu:Ny,this.isPropagationStopped=Ny,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),l}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=Fr(Eo),Gl=J({},Eo,{view:0,detail:0}),bk=Fr(Gl),hh,ph,Zl,Ku=J({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zl&&(Zl&&a.type==="mousemove"?(hh=a.screenX-Zl.screenX,ph=a.screenY-Zl.screenY):ph=hh=0,Zl=a),hh)},movementY:function(a){return"movementY"in a?a.movementY:ph}}),Sy=Fr(Ku),jk=J({},Ku,{dataTransfer:0}),Nk=Fr(jk),Sk=J({},Gl,{relatedTarget:0}),gh=Fr(Sk),Ck=J({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ek=Fr(Ck),_k=J({},Eo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pk=Fr(_k),kk=J({},Eo,{data:0}),Cy=Fr(kk),Tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ok(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Rk[a])?!!l[a]:!1}function xh(){return Ok}var Ik=J({},Gl,{key:function(a){if(a.key){var l=Tk[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Hu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ak[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(a){return a.type==="keypress"?Hu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Hu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Mk=Fr(Ik),Dk=J({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=Fr(Dk),$k=J({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),Lk=Fr($k),Fk=J({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=Fr(Fk),Vk=J({},Ku,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=Fr(Vk),Bk=[9,13,27,32],vh=c&&"CompositionEvent"in window,Xl=null;c&&"documentMode"in document&&(Xl=document.documentMode);var qk=c&&"TextEvent"in window&&!Xl,_y=c&&(!vh||Xl&&8<Xl&&11>=Xl),Py=" ",ky=!1;function Ty(a,l){switch(a){case"keyup":return Bk.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _o=!1;function Hk(a,l){switch(a){case"compositionend":return Ay(l);case"keypress":return l.which!==32?null:(ky=!0,Py);case"textInput":return a=l.data,a===Py&&ky?null:a;default:return null}}function Wk(a,l){if(_o)return a==="compositionend"||!vh&&Ty(a,l)?(a=jy(),qu=fh=Qi=null,_o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _y&&l.locale!=="ko"?null:l.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Kk[a.type]:l==="textarea"}function Oy(a,l,d,g){jt(g),l=Ju(l,"onChange"),0<l.length&&(d=new mh("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Jl=null,Yl=null;function Qk(a){Xy(a,0)}function Qu(a){var l=Ro(a);if(Pt(l))return a}function Gk(a,l){if(a==="change")return l}var Iy=!1;if(c){var yh;if(c){var wh="oninput"in document;if(!wh){var My=document.createElement("div");My.setAttribute("oninput","return;"),wh=typeof My.oninput=="function"}yh=wh}else yh=!1;Iy=yh&&(!document.documentMode||9<document.documentMode)}function Dy(){Jl&&(Jl.detachEvent("onpropertychange",$y),Yl=Jl=null)}function $y(a){if(a.propertyName==="value"&&Qu(Yl)){var l=[];Oy(l,Yl,a,La(a)),ae(Qk,l)}}function Zk(a,l,d){a==="focusin"?(Dy(),Jl=l,Yl=d,Jl.attachEvent("onpropertychange",$y)):a==="focusout"&&Dy()}function Xk(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qu(Yl)}function Jk(a,l){if(a==="click")return Qu(l)}function Yk(a,l){if(a==="input"||a==="change")return Qu(l)}function eT(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var gs=typeof Object.is=="function"?Object.is:eT;function ec(a,l){if(gs(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!f.call(l,y)||!gs(a[y],l[y]))return!1}return!0}function Ly(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Fy(a,l){var d=Ly(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ly(d)}}function zy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?zy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Vy(){for(var a=window,l=Vt();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Vt(a.document)}return l}function bh(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function tT(a){var l=Vy(),d=a.focusedElem,g=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&zy(d.ownerDocument.documentElement,d)){if(g!==null&&bh(d)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=d.textContent.length,j=Math.min(g.start,y);g=g.end===void 0?j:Math.min(g.end,y),!a.extend&&j>g&&(y=g,g=j,j=y),y=Fy(d,j);var _=Fy(d,g);y&&_&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),j>g?(a.addRange(l),a.extend(_.node,_.offset)):(l.setEnd(_.node,_.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var nT=c&&"documentMode"in document&&11>=document.documentMode,Po=null,jh=null,tc=null,Nh=!1;function Uy(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Nh||Po==null||Po!==Vt(g)||(g=Po,"selectionStart"in g&&bh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),tc&&ec(tc,g)||(tc=g,g=Ju(jh,"onSelect"),0<g.length&&(l=new mh("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Po)))}function Gu(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ko={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Sh={},By={};c&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Zu(a){if(Sh[a])return Sh[a];if(!ko[a])return a;var l=ko[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in By)return Sh[a]=l[d];return a}var qy=Zu("animationend"),Hy=Zu("animationiteration"),Wy=Zu("animationstart"),Ky=Zu("transitionend"),Qy=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(a,l){Qy.set(a,l),o(l,[a])}for(var Ch=0;Ch<Gy.length;Ch++){var Eh=Gy[Ch],rT=Eh.toLowerCase(),sT=Eh[0].toUpperCase()+Eh.slice(1);Gi(rT,"on"+sT)}Gi(qy,"onAnimationEnd"),Gi(Hy,"onAnimationIteration"),Gi(Wy,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Ky,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function Zy(a,l,d){var g=a.type||"unknown-event";a.currentTarget=d,Ru(g,l,void 0,a),a.currentTarget=null}function Xy(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],y=g.event;g=g.listeners;e:{var j=void 0;if(l)for(var _=g.length-1;0<=_;_--){var M=g[_],V=M.instance,se=M.currentTarget;if(M=M.listener,V!==j&&y.isPropagationStopped())break e;Zy(y,M,se),j=V}else for(_=0;_<g.length;_++){if(M=g[_],V=M.instance,se=M.currentTarget,M=M.listener,V!==j&&y.isPropagationStopped())break e;Zy(y,M,se),j=V}}}if(jr)throw a=Ll,jr=!1,Ll=null,a}function Gt(a,l){var d=l[Ih];d===void 0&&(d=l[Ih]=new Set);var g=a+"__bubble";d.has(g)||(Jy(l,a,2,!1),d.add(g))}function _h(a,l,d){var g=0;l&&(g|=4),Jy(d,a,g,l)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function rc(a){if(!a[Xu]){a[Xu]=!0,s.forEach(function(d){d!=="selectionchange"&&(iT.has(d)||_h(d,!1,a),_h(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Xu]||(l[Xu]=!0,_h("selectionchange",!1,l))}}function Jy(a,l,d,g){switch(by(l)){case 1:var y=yk;break;case 4:y=wk;break;default:y=uh}d=y.bind(null,l,d,a),y=void 0,!br||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(l,d,{capture:!0,passive:y}):a.addEventListener(l,d,!0):y!==void 0?a.addEventListener(l,d,{passive:y}):a.addEventListener(l,d,!1)}function Ph(a,l,d,g,y){var j=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var M=g.stateNode.containerInfo;if(M===y||M.nodeType===8&&M.parentNode===y)break;if(_===4)for(_=g.return;_!==null;){var V=_.tag;if((V===3||V===4)&&(V=_.stateNode.containerInfo,V===y||V.nodeType===8&&V.parentNode===y))return;_=_.return}for(;M!==null;){if(_=Va(M),_===null)return;if(V=_.tag,V===5||V===6){g=j=_;continue e}M=M.parentNode}}g=g.return}ae(function(){var se=j,je=La(d),Ee=[];e:{var we=Qy.get(a);if(we!==void 0){var $e=mh,We=a;switch(a){case"keypress":if(Hu(d)===0)break e;case"keydown":case"keyup":$e=Mk;break;case"focusin":We="focus",$e=gh;break;case"focusout":We="blur",$e=gh;break;case"beforeblur":case"afterblur":$e=gh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Lk;break;case qy:case Hy:case Wy:$e=Ek;break;case Ky:$e=zk;break;case"scroll":$e=bk;break;case"wheel":$e=Uk;break;case"copy":case"cut":case"paste":$e=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Ey}var Ze=(l&4)!==0,Sn=!Ze&&a==="scroll",X=Ze?we!==null?we+"Capture":null:we;Ze=[];for(var U=se,ne;U!==null;){ne=U;var ke=ne.stateNode;if(ne.tag===5&&ke!==null&&(ne=ke,X!==null&&(ke=Yr(U,X),ke!=null&&Ze.push(sc(U,ke,ne)))),Sn)break;U=U.return}0<Ze.length&&(we=new $e(we,We,null,d,je),Ee.push({event:we,listeners:Ze}))}}if((l&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",$e=a==="mouseout"||a==="pointerout",we&&d!==Us&&(We=d.relatedTarget||d.fromElement)&&(Va(We)||We[bi]))break e;if(($e||we)&&(we=je.window===je?je:(we=je.ownerDocument)?we.defaultView||we.parentWindow:window,$e?(We=d.relatedTarget||d.toElement,$e=se,We=We?Va(We):null,We!==null&&(Sn=Ge(We),We!==Sn||We.tag!==5&&We.tag!==6)&&(We=null)):($e=null,We=se),$e!==We)){if(Ze=Sy,ke="onMouseLeave",X="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=Ey,ke="onPointerLeave",X="onPointerEnter",U="pointer"),Sn=$e==null?we:Ro($e),ne=We==null?we:Ro(We),we=new Ze(ke,U+"leave",$e,d,je),we.target=Sn,we.relatedTarget=ne,ke=null,Va(je)===se&&(Ze=new Ze(X,U+"enter",We,d,je),Ze.target=ne,Ze.relatedTarget=Sn,ke=Ze),Sn=ke,$e&&We)t:{for(Ze=$e,X=We,U=0,ne=Ze;ne;ne=To(ne))U++;for(ne=0,ke=X;ke;ke=To(ke))ne++;for(;0<U-ne;)Ze=To(Ze),U--;for(;0<ne-U;)X=To(X),ne--;for(;U--;){if(Ze===X||X!==null&&Ze===X.alternate)break t;Ze=To(Ze),X=To(X)}Ze=null}else Ze=null;$e!==null&&Yy(Ee,we,$e,Ze,!1),We!==null&&Sn!==null&&Yy(Ee,Sn,We,Ze,!0)}}e:{if(we=se?Ro(se):window,$e=we.nodeName&&we.nodeName.toLowerCase(),$e==="select"||$e==="input"&&we.type==="file")var Xe=Gk;else if(Ry(we))if(Iy)Xe=Yk;else{Xe=Xk;var it=Zk}else($e=we.nodeName)&&$e.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Xe=Jk);if(Xe&&(Xe=Xe(a,se))){Oy(Ee,Xe,d,je);break e}it&&it(a,we,se),a==="focusout"&&(it=we._wrapperState)&&it.controlled&&we.type==="number"&&Kn(we,"number",we.value)}switch(it=se?Ro(se):window,a){case"focusin":(Ry(it)||it.contentEditable==="true")&&(Po=it,jh=se,tc=null);break;case"focusout":tc=jh=Po=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Uy(Ee,d,je);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":Uy(Ee,d,je)}var at;if(vh)e:{switch(a){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else _o?Ty(a,d)&&(ht="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ht="onCompositionStart");ht&&(_y&&d.locale!=="ko"&&(_o||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&_o&&(at=jy()):(Qi=je,fh="value"in Qi?Qi.value:Qi.textContent,_o=!0)),it=Ju(se,ht),0<it.length&&(ht=new Cy(ht,a,null,d,je),Ee.push({event:ht,listeners:it}),at?ht.data=at:(at=Ay(d),at!==null&&(ht.data=at)))),(at=qk?Hk(a,d):Wk(a,d))&&(se=Ju(se,"onBeforeInput"),0<se.length&&(je=new Cy("onBeforeInput","beforeinput",null,d,je),Ee.push({event:je,listeners:se}),je.data=at))}Xy(Ee,l)})}function sc(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Ju(a,l){for(var d=l+"Capture",g=[];a!==null;){var y=a,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=Yr(a,d),j!=null&&g.unshift(sc(a,j,y)),j=Yr(a,l),j!=null&&g.push(sc(a,j,y))),a=a.return}return g}function To(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Yy(a,l,d,g,y){for(var j=l._reactName,_=[];d!==null&&d!==g;){var M=d,V=M.alternate,se=M.stateNode;if(V!==null&&V===g)break;M.tag===5&&se!==null&&(M=se,y?(V=Yr(d,j),V!=null&&_.unshift(sc(d,V,M))):y||(V=Yr(d,j),V!=null&&_.push(sc(d,V,M)))),d=d.return}_.length!==0&&a.push({event:l,listeners:_})}var aT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function e0(a){return(typeof a=="string"?a:""+a).replace(aT,`
`).replace(oT,"")}function Yu(a,l,d){if(l=e0(l),e0(a)!==l&&d)throw Error(n(425))}function ed(){}var kh=null,Th=null;function Ah(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(a){return t0.resolve(null).then(a).catch(uT)}:Rh;function uT(a){setTimeout(function(){throw a})}function Oh(a,l){var d=l,g=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(g===0){a.removeChild(y),Ql(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=y}while(d);Ql(l)}function Zi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function n0(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Ao,ic="__reactProps$"+Ao,bi="__reactContainer$"+Ao,Ih="__reactEvents$"+Ao,dT="__reactListeners$"+Ao,fT="__reactHandles$"+Ao;function Va(a){var l=a[Ws];if(l)return l;for(var d=a.parentNode;d;){if(l=d[bi]||d[Ws]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=n0(a);a!==null;){if(d=a[Ws])return d;a=n0(a)}return l}a=d,d=a.parentNode}return null}function ac(a){return a=a[Ws]||a[bi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ro(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function td(a){return a[ic]||null}var Mh=[],Oo=-1;function Xi(a){return{current:a}}function Zt(a){0>Oo||(a.current=Mh[Oo],Mh[Oo]=null,Oo--)}function Qt(a,l){Oo++,Mh[Oo]=a.current,a.current=l}var Ji={},ir=Xi(Ji),Ar=Xi(!1),Ua=Ji;function Io(a,l){var d=a.type.contextTypes;if(!d)return Ji;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in d)y[j]=l[j];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Rr(a){return a=a.childContextTypes,a!=null}function nd(){Zt(Ar),Zt(ir)}function r0(a,l,d){if(ir.current!==Ji)throw Error(n(168));Qt(ir,l),Qt(Ar,d)}function s0(a,l,d){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(n(108,xe(a)||"Unknown",y));return J({},d,g)}function rd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ji,Ua=ir.current,Qt(ir,a),Qt(Ar,Ar.current),!0}function i0(a,l,d){var g=a.stateNode;if(!g)throw Error(n(169));d?(a=s0(a,l,Ua),g.__reactInternalMemoizedMergedChildContext=a,Zt(Ar),Zt(ir),Qt(ir,a)):Zt(Ar),Qt(Ar,d)}var ji=null,sd=!1,Dh=!1;function a0(a){ji===null?ji=[a]:ji.push(a)}function mT(a){sd=!0,a0(a)}function Yi(){if(!Dh&&ji!==null){Dh=!0;var a=0,l=qt;try{var d=ji;for(qt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}ji=null,sd=!1}catch(y){throw ji!==null&&(ji=ji.slice(a+1)),Mu(Vl,Yi),y}finally{qt=l,Dh=!1}}return null}var Mo=[],Do=0,id=null,ad=0,ts=[],ns=0,Ba=null,Ni=1,Si="";function qa(a,l){Mo[Do++]=ad,Mo[Do++]=id,id=a,ad=l}function o0(a,l,d){ts[ns++]=Ni,ts[ns++]=Si,ts[ns++]=Ba,Ba=a;var g=Ni;a=Si;var y=32-K(g)-1;g&=~(1<<y),d+=1;var j=32-K(l)+y;if(30<j){var _=y-y%5;j=(g&(1<<_)-1).toString(32),g>>=_,y-=_,Ni=1<<32-K(l)+y|d<<y|g,Si=j+a}else Ni=1<<j|d<<y|g,Si=a}function $h(a){a.return!==null&&(qa(a,1),o0(a,1,0))}function Lh(a){for(;a===id;)id=Mo[--Do],Mo[Do]=null,ad=Mo[--Do],Mo[Do]=null;for(;a===Ba;)Ba=ts[--ns],ts[ns]=null,Si=ts[--ns],ts[ns]=null,Ni=ts[--ns],ts[ns]=null}var zr=null,Vr=null,Yt=!1,xs=null;function l0(a,l){var d=as(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function c0(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,zr=a,Vr=Zi(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,zr=a,Vr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ba!==null?{id:Ni,overflow:Si}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=as(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,zr=a,Vr=null,!0):!1;default:return!1}}function Fh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function zh(a){if(Yt){var l=Vr;if(l){var d=l;if(!c0(a,l)){if(Fh(a))throw Error(n(418));l=Zi(d.nextSibling);var g=zr;l&&c0(a,l)?l0(g,d):(a.flags=a.flags&-4097|2,Yt=!1,zr=a)}}else{if(Fh(a))throw Error(n(418));a.flags=a.flags&-4097|2,Yt=!1,zr=a}}}function u0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;zr=a}function od(a){if(a!==zr)return!1;if(!Yt)return u0(a),Yt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Ah(a.type,a.memoizedProps)),l&&(l=Vr)){if(Fh(a))throw d0(),Error(n(418));for(;l;)l0(a,l),l=Zi(l.nextSibling)}if(u0(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){Vr=Zi(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}Vr=null}}else Vr=zr?Zi(a.stateNode.nextSibling):null;return!0}function d0(){for(var a=Vr;a;)a=Zi(a.nextSibling)}function $o(){Vr=zr=null,Yt=!1}function Vh(a){xs===null?xs=[a]:xs.push(a)}var hT=k.ReactCurrentBatchConfig;function oc(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,a));var y=g,j=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(_){var M=y.refs;_===null?delete M[j]:M[j]=_},l._stringRef=j,l)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function ld(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function f0(a){var l=a._init;return l(a._payload)}function m0(a){function l(X,U){if(a){var ne=X.deletions;ne===null?(X.deletions=[U],X.flags|=16):ne.push(U)}}function d(X,U){if(!a)return null;for(;U!==null;)l(X,U),U=U.sibling;return null}function g(X,U){for(X=new Map;U!==null;)U.key!==null?X.set(U.key,U):X.set(U.index,U),U=U.sibling;return X}function y(X,U){return X=oa(X,U),X.index=0,X.sibling=null,X}function j(X,U,ne){return X.index=ne,a?(ne=X.alternate,ne!==null?(ne=ne.index,ne<U?(X.flags|=2,U):ne):(X.flags|=2,U)):(X.flags|=1048576,U)}function _(X){return a&&X.alternate===null&&(X.flags|=2),X}function M(X,U,ne,ke){return U===null||U.tag!==6?(U=Rp(ne,X.mode,ke),U.return=X,U):(U=y(U,ne),U.return=X,U)}function V(X,U,ne,ke){var Xe=ne.type;return Xe===A?je(X,U,ne.props.children,ke,ne.key):U!==null&&(U.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===W&&f0(Xe)===U.type)?(ke=y(U,ne.props),ke.ref=oc(X,U,ne),ke.return=X,ke):(ke=Rd(ne.type,ne.key,ne.props,null,X.mode,ke),ke.ref=oc(X,U,ne),ke.return=X,ke)}function se(X,U,ne,ke){return U===null||U.tag!==4||U.stateNode.containerInfo!==ne.containerInfo||U.stateNode.implementation!==ne.implementation?(U=Op(ne,X.mode,ke),U.return=X,U):(U=y(U,ne.children||[]),U.return=X,U)}function je(X,U,ne,ke,Xe){return U===null||U.tag!==7?(U=Ja(ne,X.mode,ke,Xe),U.return=X,U):(U=y(U,ne),U.return=X,U)}function Ee(X,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Rp(""+U,X.mode,ne),U.return=X,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return ne=Rd(U.type,U.key,U.props,null,X.mode,ne),ne.ref=oc(X,null,U),ne.return=X,ne;case R:return U=Op(U,X.mode,ne),U.return=X,U;case W:var ke=U._init;return Ee(X,ke(U._payload),ne)}if(Xr(U)||z(U))return U=Ja(U,X.mode,ne,null),U.return=X,U;ld(X,U)}return null}function we(X,U,ne,ke){var Xe=U!==null?U.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Xe!==null?null:M(X,U,""+ne,ke);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return ne.key===Xe?V(X,U,ne,ke):null;case R:return ne.key===Xe?se(X,U,ne,ke):null;case W:return Xe=ne._init,we(X,U,Xe(ne._payload),ke)}if(Xr(ne)||z(ne))return Xe!==null?null:je(X,U,ne,ke,null);ld(X,ne)}return null}function $e(X,U,ne,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return X=X.get(ne)||null,M(U,X,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case T:return X=X.get(ke.key===null?ne:ke.key)||null,V(U,X,ke,Xe);case R:return X=X.get(ke.key===null?ne:ke.key)||null,se(U,X,ke,Xe);case W:var it=ke._init;return $e(X,U,ne,it(ke._payload),Xe)}if(Xr(ke)||z(ke))return X=X.get(ne)||null,je(U,X,ke,Xe,null);ld(U,ke)}return null}function We(X,U,ne,ke){for(var Xe=null,it=null,at=U,ht=U=0,Un=null;at!==null&&ht<ne.length;ht++){at.index>ht?(Un=at,at=null):Un=at.sibling;var zt=we(X,at,ne[ht],ke);if(zt===null){at===null&&(at=Un);break}a&&at&&zt.alternate===null&&l(X,at),U=j(zt,U,ht),it===null?Xe=zt:it.sibling=zt,it=zt,at=Un}if(ht===ne.length)return d(X,at),Yt&&qa(X,ht),Xe;if(at===null){for(;ht<ne.length;ht++)at=Ee(X,ne[ht],ke),at!==null&&(U=j(at,U,ht),it===null?Xe=at:it.sibling=at,it=at);return Yt&&qa(X,ht),Xe}for(at=g(X,at);ht<ne.length;ht++)Un=$e(at,X,ht,ne[ht],ke),Un!==null&&(a&&Un.alternate!==null&&at.delete(Un.key===null?ht:Un.key),U=j(Un,U,ht),it===null?Xe=Un:it.sibling=Un,it=Un);return a&&at.forEach(function(la){return l(X,la)}),Yt&&qa(X,ht),Xe}function Ze(X,U,ne,ke){var Xe=z(ne);if(typeof Xe!="function")throw Error(n(150));if(ne=Xe.call(ne),ne==null)throw Error(n(151));for(var it=Xe=null,at=U,ht=U=0,Un=null,zt=ne.next();at!==null&&!zt.done;ht++,zt=ne.next()){at.index>ht?(Un=at,at=null):Un=at.sibling;var la=we(X,at,zt.value,ke);if(la===null){at===null&&(at=Un);break}a&&at&&la.alternate===null&&l(X,at),U=j(la,U,ht),it===null?Xe=la:it.sibling=la,it=la,at=Un}if(zt.done)return d(X,at),Yt&&qa(X,ht),Xe;if(at===null){for(;!zt.done;ht++,zt=ne.next())zt=Ee(X,zt.value,ke),zt!==null&&(U=j(zt,U,ht),it===null?Xe=zt:it.sibling=zt,it=zt);return Yt&&qa(X,ht),Xe}for(at=g(X,at);!zt.done;ht++,zt=ne.next())zt=$e(at,X,ht,zt.value,ke),zt!==null&&(a&&zt.alternate!==null&&at.delete(zt.key===null?ht:zt.key),U=j(zt,U,ht),it===null?Xe=zt:it.sibling=zt,it=zt);return a&&at.forEach(function(KT){return l(X,KT)}),Yt&&qa(X,ht),Xe}function Sn(X,U,ne,ke){if(typeof ne=="object"&&ne!==null&&ne.type===A&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:e:{for(var Xe=ne.key,it=U;it!==null;){if(it.key===Xe){if(Xe=ne.type,Xe===A){if(it.tag===7){d(X,it.sibling),U=y(it,ne.props.children),U.return=X,X=U;break e}}else if(it.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===W&&f0(Xe)===it.type){d(X,it.sibling),U=y(it,ne.props),U.ref=oc(X,it,ne),U.return=X,X=U;break e}d(X,it);break}else l(X,it);it=it.sibling}ne.type===A?(U=Ja(ne.props.children,X.mode,ke,ne.key),U.return=X,X=U):(ke=Rd(ne.type,ne.key,ne.props,null,X.mode,ke),ke.ref=oc(X,U,ne),ke.return=X,X=ke)}return _(X);case R:e:{for(it=ne.key;U!==null;){if(U.key===it)if(U.tag===4&&U.stateNode.containerInfo===ne.containerInfo&&U.stateNode.implementation===ne.implementation){d(X,U.sibling),U=y(U,ne.children||[]),U.return=X,X=U;break e}else{d(X,U);break}else l(X,U);U=U.sibling}U=Op(ne,X.mode,ke),U.return=X,X=U}return _(X);case W:return it=ne._init,Sn(X,U,it(ne._payload),ke)}if(Xr(ne))return We(X,U,ne,ke);if(z(ne))return Ze(X,U,ne,ke);ld(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,U!==null&&U.tag===6?(d(X,U.sibling),U=y(U,ne),U.return=X,X=U):(d(X,U),U=Rp(ne,X.mode,ke),U.return=X,X=U),_(X)):d(X,U)}return Sn}var Lo=m0(!0),h0=m0(!1),cd=Xi(null),ud=null,Fo=null,Uh=null;function Bh(){Uh=Fo=ud=null}function qh(a){var l=cd.current;Zt(cd),a._currentValue=l}function Hh(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function zo(a,l){ud=a,Uh=Fo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Or=!0),a.firstContext=null)}function rs(a){var l=a._currentValue;if(Uh!==a)if(a={context:a,memoizedValue:l,next:null},Fo===null){if(ud===null)throw Error(n(308));Fo=a,ud.dependencies={lanes:0,firstContext:a}}else Fo=Fo.next=a;return l}var Ha=null;function Wh(a){Ha===null?Ha=[a]:Ha.push(a)}function p0(a,l,d,g){var y=l.interleaved;return y===null?(d.next=d,Wh(l)):(d.next=y.next,y.next=d),l.interleaved=d,Ci(a,g)}function Ci(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var ea=!1;function Kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ei(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ta(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Lt&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,Ci(a,d)}return y=g.interleaved,y===null?(l.next=l,Wh(g)):(l.next=y.next,y.next=l),g.interleaved=l,Ci(a,d)}function dd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,oh(a,d)}}function x0(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?y=j=_:j=j.next=_,d=d.next}while(d!==null);j===null?y=j=l:j=j.next=l}else y=j=l;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function fd(a,l,d,g){var y=a.updateQueue;ea=!1;var j=y.firstBaseUpdate,_=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var V=M,se=V.next;V.next=null,_===null?j=se:_.next=se,_=V;var je=a.alternate;je!==null&&(je=je.updateQueue,M=je.lastBaseUpdate,M!==_&&(M===null?je.firstBaseUpdate=se:M.next=se,je.lastBaseUpdate=V))}if(j!==null){var Ee=y.baseState;_=0,je=se=V=null,M=j;do{var we=M.lane,$e=M.eventTime;if((g&we)===we){je!==null&&(je=je.next={eventTime:$e,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var We=a,Ze=M;switch(we=l,$e=d,Ze.tag){case 1:if(We=Ze.payload,typeof We=="function"){Ee=We.call($e,Ee,we);break e}Ee=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=Ze.payload,we=typeof We=="function"?We.call($e,Ee,we):We,we==null)break e;Ee=J({},Ee,we);break e;case 2:ea=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,we=y.effects,we===null?y.effects=[M]:we.push(M))}else $e={eventTime:$e,lane:we,tag:M.tag,payload:M.payload,callback:M.callback,next:null},je===null?(se=je=$e,V=Ee):je=je.next=$e,_|=we;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;we=M,M=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);if(je===null&&(V=Ee),y.baseState=V,y.firstBaseUpdate=se,y.lastBaseUpdate=je,l=y.shared.interleaved,l!==null){y=l;do _|=y.lane,y=y.next;while(y!==l)}else j===null&&(y.shared.lanes=0);Qa|=_,a.lanes=_,a.memoizedState=Ee}}function v0(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(n(191,y));y.call(g)}}}var lc={},Ks=Xi(lc),cc=Xi(lc),uc=Xi(lc);function Wa(a){if(a===lc)throw Error(n(174));return a}function Qh(a,l){switch(Qt(uc,l),Qt(cc,a),Qt(Ks,lc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Se(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Se(l,a)}Zt(Ks),Qt(Ks,l)}function Vo(){Zt(Ks),Zt(cc),Zt(uc)}function y0(a){Wa(uc.current);var l=Wa(Ks.current),d=Se(l,a.type);l!==d&&(Qt(cc,a),Qt(Ks,d))}function Gh(a){cc.current===a&&(Zt(Ks),Zt(cc))}var cn=Xi(0);function md(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zh=[];function Xh(){for(var a=0;a<Zh.length;a++)Zh[a]._workInProgressVersionPrimary=null;Zh.length=0}var hd=k.ReactCurrentDispatcher,Jh=k.ReactCurrentBatchConfig,Ka=0,un=null,Rn=null,zn=null,pd=!1,dc=!1,fc=0,pT=0;function ar(){throw Error(n(321))}function Yh(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!gs(a[d],l[d]))return!1;return!0}function ep(a,l,d,g,y,j){if(Ka=j,un=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,hd.current=a===null||a.memoizedState===null?yT:wT,a=d(g,y),dc){j=0;do{if(dc=!1,fc=0,25<=j)throw Error(n(301));j+=1,zn=Rn=null,l.updateQueue=null,hd.current=bT,a=d(g,y)}while(dc)}if(hd.current=vd,l=Rn!==null&&Rn.next!==null,Ka=0,zn=Rn=un=null,pd=!1,l)throw Error(n(300));return a}function tp(){var a=fc!==0;return fc=0,a}function Qs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?un.memoizedState=zn=a:zn=zn.next=a,zn}function ss(){if(Rn===null){var a=un.alternate;a=a!==null?a.memoizedState:null}else a=Rn.next;var l=zn===null?un.memoizedState:zn.next;if(l!==null)zn=l,Rn=a;else{if(a===null)throw Error(n(310));Rn=a,a={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},zn===null?un.memoizedState=zn=a:zn=zn.next=a}return zn}function mc(a,l){return typeof l=="function"?l(a):l}function np(a){var l=ss(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=Rn,y=g.baseQueue,j=d.pending;if(j!==null){if(y!==null){var _=y.next;y.next=j.next,j.next=_}g.baseQueue=y=j,d.pending=null}if(y!==null){j=y.next,g=g.baseState;var M=_=null,V=null,se=j;do{var je=se.lane;if((Ka&je)===je)V!==null&&(V=V.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),g=se.hasEagerState?se.eagerState:a(g,se.action);else{var Ee={lane:je,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};V===null?(M=V=Ee,_=g):V=V.next=Ee,un.lanes|=je,Qa|=je}se=se.next}while(se!==null&&se!==j);V===null?_=g:V.next=M,gs(g,l.memoizedState)||(Or=!0),l.memoizedState=g,l.baseState=_,l.baseQueue=V,d.lastRenderedState=g}if(a=d.interleaved,a!==null){y=a;do j=y.lane,un.lanes|=j,Qa|=j,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function rp(a){var l=ss(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,j=l.memoizedState;if(y!==null){d.pending=null;var _=y=y.next;do j=a(j,_.action),_=_.next;while(_!==y);gs(j,l.memoizedState)||(Or=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),d.lastRenderedState=j}return[j,g]}function w0(){}function b0(a,l){var d=un,g=ss(),y=l(),j=!gs(g.memoizedState,y);if(j&&(g.memoizedState=y,Or=!0),g=g.queue,sp(S0.bind(null,d,g,a),[a]),g.getSnapshot!==l||j||zn!==null&&zn.memoizedState.tag&1){if(d.flags|=2048,hc(9,N0.bind(null,d,g,y,l),void 0,null),Vn===null)throw Error(n(349));(Ka&30)!==0||j0(d,l,y)}return y}function j0(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=un.updateQueue,l===null?(l={lastEffect:null,stores:null},un.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function N0(a,l,d,g){l.value=d,l.getSnapshot=g,C0(l)&&E0(a)}function S0(a,l,d){return d(function(){C0(l)&&E0(a)})}function C0(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!gs(a,d)}catch{return!0}}function E0(a){var l=Ci(a,1);l!==null&&bs(l,a,1,-1)}function _0(a){var l=Qs();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:a},l.queue=a,a=a.dispatch=vT.bind(null,un,a),[l.memoizedState,a]}function hc(a,l,d,g){return a={tag:a,create:l,destroy:d,deps:g,next:null},l=un.updateQueue,l===null?(l={lastEffect:null,stores:null},un.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a)),a}function P0(){return ss().memoizedState}function gd(a,l,d,g){var y=Qs();un.flags|=a,y.memoizedState=hc(1|l,d,void 0,g===void 0?null:g)}function xd(a,l,d,g){var y=ss();g=g===void 0?null:g;var j=void 0;if(Rn!==null){var _=Rn.memoizedState;if(j=_.destroy,g!==null&&Yh(g,_.deps)){y.memoizedState=hc(l,d,j,g);return}}un.flags|=a,y.memoizedState=hc(1|l,d,j,g)}function k0(a,l){return gd(8390656,8,a,l)}function sp(a,l){return xd(2048,8,a,l)}function T0(a,l){return xd(4,2,a,l)}function A0(a,l){return xd(4,4,a,l)}function R0(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function O0(a,l,d){return d=d!=null?d.concat([a]):null,xd(4,4,R0.bind(null,l,a),d)}function ip(){}function I0(a,l){var d=ss();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Yh(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function M0(a,l){var d=ss();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Yh(l,g[1])?g[0]:(a=a(),d.memoizedState=[a,l],a)}function D0(a,l,d){return(Ka&21)===0?(a.baseState&&(a.baseState=!1,Or=!0),a.memoizedState=d):(gs(d,l)||(d=fy(),un.lanes|=d,Qa|=d,a.baseState=!0),l)}function gT(a,l){var d=qt;qt=d!==0&&4>d?d:4,a(!0);var g=Jh.transition;Jh.transition={};try{a(!1),l()}finally{qt=d,Jh.transition=g}}function $0(){return ss().memoizedState}function xT(a,l,d){var g=ia(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},L0(a))F0(l,d);else if(d=p0(a,l,d,g),d!==null){var y=Sr();bs(d,a,g,y),z0(d,l,g)}}function vT(a,l,d){var g=ia(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(L0(a))F0(l,y);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var _=l.lastRenderedState,M=j(_,d);if(y.hasEagerState=!0,y.eagerState=M,gs(M,_)){var V=l.interleaved;V===null?(y.next=y,Wh(l)):(y.next=V.next,V.next=y),l.interleaved=y;return}}catch{}d=p0(a,l,y,g),d!==null&&(y=Sr(),bs(d,a,g,y),z0(d,l,g))}}function L0(a){var l=a.alternate;return a===un||l!==null&&l===un}function F0(a,l){dc=pd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function z0(a,l,d){if((d&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,oh(a,d)}}var vd={readContext:rs,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},yT={readContext:rs,useCallback:function(a,l){return Qs().memoizedState=[a,l===void 0?null:l],a},useContext:rs,useEffect:k0,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,gd(4194308,4,R0.bind(null,l,a),d)},useLayoutEffect:function(a,l){return gd(4194308,4,a,l)},useInsertionEffect:function(a,l){return gd(4,2,a,l)},useMemo:function(a,l){var d=Qs();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var g=Qs();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=xT.bind(null,un,a),[g.memoizedState,a]},useRef:function(a){var l=Qs();return a={current:a},l.memoizedState=a},useState:_0,useDebugValue:ip,useDeferredValue:function(a){return Qs().memoizedState=a},useTransition:function(){var a=_0(!1),l=a[0];return a=gT.bind(null,a[1]),Qs().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var g=un,y=Qs();if(Yt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Vn===null)throw Error(n(349));(Ka&30)!==0||j0(g,l,d)}y.memoizedState=d;var j={value:d,getSnapshot:l};return y.queue=j,k0(S0.bind(null,g,j,a),[a]),g.flags|=2048,hc(9,N0.bind(null,g,j,d,l),void 0,null),d},useId:function(){var a=Qs(),l=Vn.identifierPrefix;if(Yt){var d=Si,g=Ni;d=(g&~(1<<32-K(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=fc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=pT++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},wT={readContext:rs,useCallback:I0,useContext:rs,useEffect:sp,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:M0,useReducer:np,useRef:P0,useState:function(){return np(mc)},useDebugValue:ip,useDeferredValue:function(a){var l=ss();return D0(l,Rn.memoizedState,a)},useTransition:function(){var a=np(mc)[0],l=ss().memoizedState;return[a,l]},useMutableSource:w0,useSyncExternalStore:b0,useId:$0,unstable_isNewReconciler:!1},bT={readContext:rs,useCallback:I0,useContext:rs,useEffect:sp,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:M0,useReducer:rp,useRef:P0,useState:function(){return rp(mc)},useDebugValue:ip,useDeferredValue:function(a){var l=ss();return Rn===null?l.memoizedState=a:D0(l,Rn.memoizedState,a)},useTransition:function(){var a=rp(mc)[0],l=ss().memoizedState;return[a,l]},useMutableSource:w0,useSyncExternalStore:b0,useId:$0,unstable_isNewReconciler:!1};function vs(a,l){if(a&&a.defaultProps){l=J({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function ap(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:J({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var yd={isMounted:function(a){return(a=a._reactInternals)?Ge(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var g=Sr(),y=ia(a),j=Ei(g,y);j.payload=l,d!=null&&(j.callback=d),l=ta(a,j,y),l!==null&&(bs(l,a,y,g),dd(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=Sr(),y=ia(a),j=Ei(g,y);j.tag=1,j.payload=l,d!=null&&(j.callback=d),l=ta(a,j,y),l!==null&&(bs(l,a,y,g),dd(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Sr(),g=ia(a),y=Ei(d,g);y.tag=2,l!=null&&(y.callback=l),l=ta(a,y,g),l!==null&&(bs(l,a,g,d),dd(l,a,g))}};function V0(a,l,d,g,y,j,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,j,_):l.prototype&&l.prototype.isPureReactComponent?!ec(d,g)||!ec(y,j):!0}function U0(a,l,d){var g=!1,y=Ji,j=l.contextType;return typeof j=="object"&&j!==null?j=rs(j):(y=Rr(l)?Ua:ir.current,g=l.contextTypes,j=(g=g!=null)?Io(a,y):Ji),l=new l(d,j),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=yd,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=j),l}function B0(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&yd.enqueueReplaceState(l,l.state,null)}function op(a,l,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs={},Kh(a);var j=l.contextType;typeof j=="object"&&j!==null?y.context=rs(j):(j=Rr(l)?Ua:ir.current,y.context=Io(a,j)),y.state=a.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(ap(a,l,j,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&yd.enqueueReplaceState(y,y.state,null),fd(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Uo(a,l){try{var d="",g=l;do d+=de(g),g=g.return;while(g);var y=d}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:l,stack:y,digest:null}}function lp(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function cp(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var jT=typeof WeakMap=="function"?WeakMap:Map;function q0(a,l,d){d=Ei(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Ed||(Ed=!0,Sp=g),cp(a,l)},d}function H0(a,l,d){d=Ei(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;d.payload=function(){return g(y)},d.callback=function(){cp(a,l)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){cp(a,l),typeof g!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})}),d}function W0(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new jT;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(d)||(y.add(d),a=DT.bind(null,a,l,d),l.then(a,a))}function K0(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Q0(a,l,d,g,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ei(-1,1),l.tag=2,ta(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var NT=k.ReactCurrentOwner,Or=!1;function Nr(a,l,d,g){l.child=a===null?h0(l,null,d,g):Lo(l,a.child,d,g)}function G0(a,l,d,g,y){d=d.render;var j=l.ref;return zo(l,y),g=ep(a,l,d,g,j,y),d=tp(),a!==null&&!Or?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,_i(a,l,y)):(Yt&&d&&$h(l),l.flags|=1,Nr(a,l,g,y),l.child)}function Z0(a,l,d,g,y){if(a===null){var j=d.type;return typeof j=="function"&&!Ap(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=j,X0(a,l,j,g,y)):(a=Rd(d.type,null,g,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(j=a.child,(a.lanes&y)===0){var _=j.memoizedProps;if(d=d.compare,d=d!==null?d:ec,d(_,g)&&a.ref===l.ref)return _i(a,l,y)}return l.flags|=1,a=oa(j,g),a.ref=l.ref,a.return=l,l.child=a}function X0(a,l,d,g,y){if(a!==null){var j=a.memoizedProps;if(ec(j,g)&&a.ref===l.ref)if(Or=!1,l.pendingProps=g=j,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Or=!0);else return l.lanes=a.lanes,_i(a,l,y)}return up(a,l,d,g,y)}function J0(a,l,d){var g=l.pendingProps,y=g.children,j=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(qo,Ur),Ur|=d;else{if((d&1073741824)===0)return a=j!==null?j.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Qt(qo,Ur),Ur|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:d,Qt(qo,Ur),Ur|=g}else j!==null?(g=j.baseLanes|d,l.memoizedState=null):g=d,Qt(qo,Ur),Ur|=g;return Nr(a,l,y,d),l.child}function Y0(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function up(a,l,d,g,y){var j=Rr(d)?Ua:ir.current;return j=Io(l,j),zo(l,y),d=ep(a,l,d,g,j,y),g=tp(),a!==null&&!Or?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,_i(a,l,y)):(Yt&&g&&$h(l),l.flags|=1,Nr(a,l,d,y),l.child)}function ew(a,l,d,g,y){if(Rr(d)){var j=!0;rd(l)}else j=!1;if(zo(l,y),l.stateNode===null)bd(a,l),U0(l,d,g),op(l,d,g,y),g=!0;else if(a===null){var _=l.stateNode,M=l.memoizedProps;_.props=M;var V=_.context,se=d.contextType;typeof se=="object"&&se!==null?se=rs(se):(se=Rr(d)?Ua:ir.current,se=Io(l,se));var je=d.getDerivedStateFromProps,Ee=typeof je=="function"||typeof _.getSnapshotBeforeUpdate=="function";Ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==g||V!==se)&&B0(l,_,g,se),ea=!1;var we=l.memoizedState;_.state=we,fd(l,g,_,y),V=l.memoizedState,M!==g||we!==V||Ar.current||ea?(typeof je=="function"&&(ap(l,d,je,g),V=l.memoizedState),(M=ea||V0(l,d,M,g,we,V,se))?(Ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=V),_.props=g,_.state=V,_.context=se,g=M):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{_=l.stateNode,g0(a,l),M=l.memoizedProps,se=l.type===l.elementType?M:vs(l.type,M),_.props=se,Ee=l.pendingProps,we=_.context,V=d.contextType,typeof V=="object"&&V!==null?V=rs(V):(V=Rr(d)?Ua:ir.current,V=Io(l,V));var $e=d.getDerivedStateFromProps;(je=typeof $e=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==Ee||we!==V)&&B0(l,_,g,V),ea=!1,we=l.memoizedState,_.state=we,fd(l,g,_,y);var We=l.memoizedState;M!==Ee||we!==We||Ar.current||ea?(typeof $e=="function"&&(ap(l,d,$e,g),We=l.memoizedState),(se=ea||V0(l,d,se,g,we,We,V)||!1)?(je||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,We,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,We,V)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=We),_.props=g,_.state=We,_.context=V,g=se):(typeof _.componentDidUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),g=!1)}return dp(a,l,d,g,j,y)}function dp(a,l,d,g,y,j){Y0(a,l);var _=(l.flags&128)!==0;if(!g&&!_)return y&&i0(l,d,!1),_i(a,l,j);g=l.stateNode,NT.current=l;var M=_&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&_?(l.child=Lo(l,a.child,null,j),l.child=Lo(l,null,M,j)):Nr(a,l,M,j),l.memoizedState=g.state,y&&i0(l,d,!0),l.child}function tw(a){var l=a.stateNode;l.pendingContext?r0(a,l.pendingContext,l.pendingContext!==l.context):l.context&&r0(a,l.context,!1),Qh(a,l.containerInfo)}function nw(a,l,d,g,y){return $o(),Vh(y),l.flags|=256,Nr(a,l,d,g),l.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function mp(a){return{baseLanes:a,cachePool:null,transitions:null}}function rw(a,l,d){var g=l.pendingProps,y=cn.current,j=!1,_=(l.flags&128)!==0,M;if((M=_)||(M=a!==null&&a.memoizedState===null?!1:(y&2)!==0),M?(j=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),Qt(cn,y&1),a===null)return zh(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(_=g.children,a=g.fallback,j?(g=l.mode,j=l.child,_={mode:"hidden",children:_},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=_):j=Od(_,g,0,null),a=Ja(a,g,d,null),j.return=l,a.return=l,j.sibling=a,l.child=j,l.child.memoizedState=mp(d),l.memoizedState=fp,a):hp(l,_));if(y=a.memoizedState,y!==null&&(M=y.dehydrated,M!==null))return ST(a,l,_,g,M,y,d);if(j){j=g.fallback,_=l.mode,y=a.child,M=y.sibling;var V={mode:"hidden",children:g.children};return(_&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=V,l.deletions=null):(g=oa(y,V),g.subtreeFlags=y.subtreeFlags&14680064),M!==null?j=oa(M,j):(j=Ja(j,_,d,null),j.flags|=2),j.return=l,g.return=l,g.sibling=j,l.child=g,g=j,j=l.child,_=a.child.memoizedState,_=_===null?mp(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},j.memoizedState=_,j.childLanes=a.childLanes&~d,l.memoizedState=fp,g}return j=a.child,a=j.sibling,g=oa(j,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=g,l.memoizedState=null,g}function hp(a,l){return l=Od({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function wd(a,l,d,g){return g!==null&&Vh(g),Lo(l,a.child,null,d),a=hp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function ST(a,l,d,g,y,j,_){if(d)return l.flags&256?(l.flags&=-257,g=lp(Error(n(422))),wd(a,l,_,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(j=g.fallback,y=l.mode,g=Od({mode:"visible",children:g.children},y,0,null),j=Ja(j,y,_,null),j.flags|=2,g.return=l,j.return=l,g.sibling=j,l.child=g,(l.mode&1)!==0&&Lo(l,a.child,null,_),l.child.memoizedState=mp(_),l.memoizedState=fp,j);if((l.mode&1)===0)return wd(a,l,_,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var M=g.dgst;return g=M,j=Error(n(419)),g=lp(j,g,void 0),wd(a,l,_,g)}if(M=(_&a.childLanes)!==0,Or||M){if(g=Vn,g!==null){switch(_&-_){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|_))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,Ci(a,y),bs(g,a,y,-1))}return Tp(),g=lp(Error(n(421))),wd(a,l,_,g)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=$T.bind(null,a),y._reactRetry=l,null):(a=j.treeContext,Vr=Zi(y.nextSibling),zr=l,Yt=!0,xs=null,a!==null&&(ts[ns++]=Ni,ts[ns++]=Si,ts[ns++]=Ba,Ni=a.id,Si=a.overflow,Ba=l),l=hp(l,g.children),l.flags|=4096,l)}function sw(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Hh(a.return,l,d)}function pp(a,l,d,g,y){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=y)}function iw(a,l,d){var g=l.pendingProps,y=g.revealOrder,j=g.tail;if(Nr(a,l,g.children,d),g=cn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sw(a,d,l);else if(a.tag===19)sw(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Qt(cn,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)a=d.alternate,a!==null&&md(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),pp(l,!1,y,d,j);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&md(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}pp(l,!0,d,null,j);break;case"together":pp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function bd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function _i(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Qa|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=oa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=oa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function CT(a,l,d){switch(l.tag){case 3:tw(l),$o();break;case 5:y0(l);break;case 1:Rr(l.type)&&rd(l);break;case 4:Qh(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;Qt(cd,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Qt(cn,cn.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?rw(a,l,d):(Qt(cn,cn.current&1),a=_i(a,l,d),a!==null?a.sibling:null);Qt(cn,cn.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(a.flags&128)!==0){if(g)return iw(a,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Qt(cn,cn.current),g)break;return null;case 22:case 23:return l.lanes=0,J0(a,l,d)}return _i(a,l,d)}var aw,gp,ow,lw;aw=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},gp=function(){},ow=function(a,l,d,g){var y=a.memoizedProps;if(y!==g){a=l.stateNode,Wa(Ks.current);var j=null;switch(d){case"input":y=Ln(a,y),g=Ln(a,g),j=[];break;case"select":y=J({},y,{value:void 0}),g=J({},g,{value:void 0}),j=[];break;case"textarea":y=F(a,y),g=F(a,g),j=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=ed)}zs(d,g);var _;d=null;for(se in y)if(!g.hasOwnProperty(se)&&y.hasOwnProperty(se)&&y[se]!=null)if(se==="style"){var M=y[se];for(_ in M)M.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?j||(j=[]):(j=j||[]).push(se,null));for(se in g){var V=g[se];if(M=y?.[se],g.hasOwnProperty(se)&&V!==M&&(V!=null||M!=null))if(se==="style")if(M){for(_ in M)!M.hasOwnProperty(_)||V&&V.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in V)V.hasOwnProperty(_)&&M[_]!==V[_]&&(d||(d={}),d[_]=V[_])}else d||(j||(j=[]),j.push(se,d)),d=V;else se==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,M=M?M.__html:void 0,V!=null&&M!==V&&(j=j||[]).push(se,V)):se==="children"?typeof V!="string"&&typeof V!="number"||(j=j||[]).push(se,""+V):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(V!=null&&se==="onScroll"&&Gt("scroll",a),j||M===V||(j=[])):(j=j||[]).push(se,V))}d&&(j=j||[]).push("style",d);var se=j;(l.updateQueue=se)&&(l.flags|=4)}},lw=function(a,l,d,g){d!==g&&(l.flags|=4)};function pc(a,l){if(!Yt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function or(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function ET(a,l,d){var g=l.pendingProps;switch(Lh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(l),null;case 1:return Rr(l.type)&&nd(),or(l),null;case 3:return g=l.stateNode,Vo(),Zt(Ar),Zt(ir),Xh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(od(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xs!==null&&(_p(xs),xs=null))),gp(a,l),or(l),null;case 5:Gh(l);var y=Wa(uc.current);if(d=l.type,a!==null&&l.stateNode!=null)ow(a,l,d,g,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return or(l),null}if(a=Wa(Ks.current),od(l)){g=l.stateNode,d=l.type;var j=l.memoizedProps;switch(g[Ws]=l,g[ic]=j,a=(l.mode&1)!==0,d){case"dialog":Gt("cancel",g),Gt("close",g);break;case"iframe":case"object":case"embed":Gt("load",g);break;case"video":case"audio":for(y=0;y<nc.length;y++)Gt(nc[y],g);break;case"source":Gt("error",g);break;case"img":case"image":case"link":Gt("error",g),Gt("load",g);break;case"details":Gt("toggle",g);break;case"input":Hn(g,j),Gt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Gt("invalid",g);break;case"textarea":te(g,j),Gt("invalid",g)}zs(d,j),y=null;for(var _ in j)if(j.hasOwnProperty(_)){var M=j[_];_==="children"?typeof M=="string"?g.textContent!==M&&(j.suppressHydrationWarning!==!0&&Yu(g.textContent,M,a),y=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(j.suppressHydrationWarning!==!0&&Yu(g.textContent,M,a),y=["children",""+M]):i.hasOwnProperty(_)&&M!=null&&_==="onScroll"&&Gt("scroll",g)}switch(d){case"input":yt(g),$t(g,j,!0);break;case"textarea":yt(g),Re(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=ed)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{_=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Te(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=_.createElement(d,{is:g.is}):(a=_.createElement(d),d==="select"&&(_=a,g.multiple?_.multiple=!0:g.size&&(_.size=g.size))):a=_.createElementNS(a,d),a[Ws]=l,a[ic]=g,aw(a,l,!1,!1),l.stateNode=a;e:{switch(_=Vs(d,g),d){case"dialog":Gt("cancel",a),Gt("close",a),y=g;break;case"iframe":case"object":case"embed":Gt("load",a),y=g;break;case"video":case"audio":for(y=0;y<nc.length;y++)Gt(nc[y],a);y=g;break;case"source":Gt("error",a),y=g;break;case"img":case"image":case"link":Gt("error",a),Gt("load",a),y=g;break;case"details":Gt("toggle",a),y=g;break;case"input":Hn(a,g),y=Ln(a,g),Gt("invalid",a);break;case"option":y=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},y=J({},g,{value:void 0}),Gt("invalid",a);break;case"textarea":te(a,g),y=F(a,g),Gt("invalid",a);break;default:y=g}zs(d,y),M=y;for(j in M)if(M.hasOwnProperty(j)){var V=M[j];j==="style"?hs(a,V):j==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&mt(a,V)):j==="children"?typeof V=="string"?(d!=="textarea"||V!=="")&&It(a,V):typeof V=="number"&&It(a,""+V):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?V!=null&&j==="onScroll"&&Gt("scroll",a):V!=null&&P(a,j,V,_))}switch(d){case"input":yt(a),$t(a,g,!1);break;case"textarea":yt(a),Re(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Ue(g.value));break;case"select":a.multiple=!!g.multiple,j=g.value,j!=null?wr(a,!!g.multiple,j,!1):g.defaultValue!=null&&wr(a,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=ed)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return or(l),null;case 6:if(a&&l.stateNode!=null)lw(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(d=Wa(uc.current),Wa(Ks.current),od(l)){if(g=l.stateNode,d=l.memoizedProps,g[Ws]=l,(j=g.nodeValue!==d)&&(a=zr,a!==null))switch(a.tag){case 3:Yu(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Yu(g.nodeValue,d,(a.mode&1)!==0)}j&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ws]=l,l.stateNode=g}return or(l),null;case 13:if(Zt(cn),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Yt&&Vr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)d0(),$o(),l.flags|=98560,j=!1;else if(j=od(l),g!==null&&g.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Ws]=l}else $o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;or(l),j=!1}else xs!==null&&(_p(xs),xs=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(cn.current&1)!==0?On===0&&(On=3):Tp())),l.updateQueue!==null&&(l.flags|=4),or(l),null);case 4:return Vo(),gp(a,l),a===null&&rc(l.stateNode.containerInfo),or(l),null;case 10:return qh(l.type._context),or(l),null;case 17:return Rr(l.type)&&nd(),or(l),null;case 19:if(Zt(cn),j=l.memoizedState,j===null)return or(l),null;if(g=(l.flags&128)!==0,_=j.rendering,_===null)if(g)pc(j,!1);else{if(On!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=md(a),_!==null){for(l.flags|=128,pc(j,!1),g=_.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)j=d,a=g,j.flags&=14680066,_=j.alternate,_===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=_.childLanes,j.lanes=_.lanes,j.child=_.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=_.memoizedProps,j.memoizedState=_.memoizedState,j.updateQueue=_.updateQueue,j.type=_.type,a=_.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Qt(cn,cn.current&1|2),l.child}a=a.sibling}j.tail!==null&&ln()>Ho&&(l.flags|=128,g=!0,pc(j,!1),l.lanes=4194304)}else{if(!g)if(a=md(_),a!==null){if(l.flags|=128,g=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),pc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!_.alternate&&!Yt)return or(l),null}else 2*ln()-j.renderingStartTime>Ho&&d!==1073741824&&(l.flags|=128,g=!0,pc(j,!1),l.lanes=4194304);j.isBackwards?(_.sibling=l.child,l.child=_):(d=j.last,d!==null?d.sibling=_:l.child=_,j.last=_)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=ln(),l.sibling=null,d=cn.current,Qt(cn,g?d&1|2:d&1),l):(or(l),null);case 22:case 23:return kp(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Ur&1073741824)!==0&&(or(l),l.subtreeFlags&6&&(l.flags|=8192)):or(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function _T(a,l){switch(Lh(l),l.tag){case 1:return Rr(l.type)&&nd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Vo(),Zt(Ar),Zt(ir),Xh(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Gh(l),null;case 13:if(Zt(cn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));$o()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Zt(cn),null;case 4:return Vo(),null;case 10:return qh(l.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var jd=!1,lr=!1,PT=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Bo(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){xn(a,l,g)}else d.current=null}function xp(a,l,d){try{d()}catch(g){xn(a,l,g)}}var cw=!1;function kT(a,l){if(kh=Uu,a=Vy(),bh(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var _=0,M=-1,V=-1,se=0,je=0,Ee=a,we=null;t:for(;;){for(var $e;Ee!==d||y!==0&&Ee.nodeType!==3||(M=_+y),Ee!==j||g!==0&&Ee.nodeType!==3||(V=_+g),Ee.nodeType===3&&(_+=Ee.nodeValue.length),($e=Ee.firstChild)!==null;)we=Ee,Ee=$e;for(;;){if(Ee===a)break t;if(we===d&&++se===y&&(M=_),we===j&&++je===g&&(V=_),($e=Ee.nextSibling)!==null)break;Ee=we,we=Ee.parentNode}Ee=$e}d=M===-1||V===-1?null:{start:M,end:V}}else d=null}d=d||{start:0,end:0}}else d=null;for(Th={focusedElem:a,selectionRange:d},Uu=!1,qe=l;qe!==null;)if(l=qe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,qe=a;else for(;qe!==null;){l=qe;try{var We=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var Ze=We.memoizedProps,Sn=We.memoizedState,X=l.stateNode,U=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ze:vs(l.type,Ze),Sn);X.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var ne=l.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){xn(l,l.return,ke)}if(a=l.sibling,a!==null){a.return=l.return,qe=a;break}qe=l.return}return We=cw,cw=!1,We}function gc(a,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&a)===a){var j=y.destroy;y.destroy=void 0,j!==void 0&&xp(l,d,j)}y=y.next}while(y!==g)}}function Nd(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function vp(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag,a=d,typeof l=="function"?l(a):l.current=a}}function uw(a){var l=a.alternate;l!==null&&(a.alternate=null,uw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ws],delete l[ic],delete l[Ih],delete l[dT],delete l[fT])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function dw(a){return a.tag===5||a.tag===3||a.tag===4}function fw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||dw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ed));else if(g!==4&&(a=a.child,a!==null))for(yp(a,l,d),a=a.sibling;a!==null;)yp(a,l,d),a=a.sibling}function wp(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(wp(a,l,d),a=a.sibling;a!==null;)wp(a,l,d),a=a.sibling}var Gn=null,ys=!1;function na(a,l,d){for(d=d.child;d!==null;)mw(a,l,d),d=d.sibling}function mw(a,l,d){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(za,d)}catch{}switch(d.tag){case 5:lr||Bo(d,l);case 6:var g=Gn,y=ys;Gn=null,na(a,l,d),Gn=g,ys=y,Gn!==null&&(ys?(a=Gn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Gn.removeChild(d.stateNode));break;case 18:Gn!==null&&(ys?(a=Gn,d=d.stateNode,a.nodeType===8?Oh(a.parentNode,d):a.nodeType===1&&Oh(a,d),Ql(a)):Oh(Gn,d.stateNode));break;case 4:g=Gn,y=ys,Gn=d.stateNode.containerInfo,ys=!0,na(a,l,d),Gn=g,ys=y;break;case 0:case 11:case 14:case 15:if(!lr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var j=y,_=j.destroy;j=j.tag,_!==void 0&&((j&2)!==0||(j&4)!==0)&&xp(d,l,_),y=y.next}while(y!==g)}na(a,l,d);break;case 1:if(!lr&&(Bo(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(M){xn(d,l,M)}na(a,l,d);break;case 21:na(a,l,d);break;case 22:d.mode&1?(lr=(g=lr)||d.memoizedState!==null,na(a,l,d),lr=g):na(a,l,d);break;default:na(a,l,d)}}function hw(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new PT),l.forEach(function(g){var y=LT.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function ws(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var j=a,_=l,M=_;e:for(;M!==null;){switch(M.tag){case 5:Gn=M.stateNode,ys=!1;break e;case 3:Gn=M.stateNode.containerInfo,ys=!0;break e;case 4:Gn=M.stateNode.containerInfo,ys=!0;break e}M=M.return}if(Gn===null)throw Error(n(160));mw(j,_,y),Gn=null,ys=!1;var V=y.alternate;V!==null&&(V.return=null),y.return=null}catch(se){xn(y,l,se)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)pw(l,a),l=l.sibling}function pw(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ws(l,a),Gs(a),g&4){try{gc(3,a,a.return),Nd(3,a)}catch(Ze){xn(a,a.return,Ze)}try{gc(5,a,a.return)}catch(Ze){xn(a,a.return,Ze)}}break;case 1:ws(l,a),Gs(a),g&512&&d!==null&&Bo(d,d.return);break;case 5:if(ws(l,a),Gs(a),g&512&&d!==null&&Bo(d,d.return),a.flags&32){var y=a.stateNode;try{It(y,"")}catch(Ze){xn(a,a.return,Ze)}}if(g&4&&(y=a.stateNode,y!=null)){var j=a.memoizedProps,_=d!==null?d.memoizedProps:j,M=a.type,V=a.updateQueue;if(a.updateQueue=null,V!==null)try{M==="input"&&j.type==="radio"&&j.name!=null&&Wn(y,j),Vs(M,_);var se=Vs(M,j);for(_=0;_<V.length;_+=2){var je=V[_],Ee=V[_+1];je==="style"?hs(y,Ee):je==="dangerouslySetInnerHTML"?mt(y,Ee):je==="children"?It(y,Ee):P(y,je,Ee,se)}switch(M){case"input":yr(y,j);break;case"textarea":fe(y,j);break;case"select":var we=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var $e=j.value;$e!=null?wr(y,!!j.multiple,$e,!1):we!==!!j.multiple&&(j.defaultValue!=null?wr(y,!!j.multiple,j.defaultValue,!0):wr(y,!!j.multiple,j.multiple?[]:"",!1))}y[ic]=j}catch(Ze){xn(a,a.return,Ze)}}break;case 6:if(ws(l,a),Gs(a),g&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,j=a.memoizedProps;try{y.nodeValue=j}catch(Ze){xn(a,a.return,Ze)}}break;case 3:if(ws(l,a),Gs(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ql(l.containerInfo)}catch(Ze){xn(a,a.return,Ze)}break;case 4:ws(l,a),Gs(a);break;case 13:ws(l,a),Gs(a),y=a.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(Np=ln())),g&4&&hw(a);break;case 22:if(je=d!==null&&d.memoizedState!==null,a.mode&1?(lr=(se=lr)||je,ws(l,a),lr=se):ws(l,a),Gs(a),g&8192){if(se=a.memoizedState!==null,(a.stateNode.isHidden=se)&&!je&&(a.mode&1)!==0)for(qe=a,je=a.child;je!==null;){for(Ee=qe=je;qe!==null;){switch(we=qe,$e=we.child,we.tag){case 0:case 11:case 14:case 15:gc(4,we,we.return);break;case 1:Bo(we,we.return);var We=we.stateNode;if(typeof We.componentWillUnmount=="function"){g=we,d=we.return;try{l=g,We.props=l.memoizedProps,We.state=l.memoizedState,We.componentWillUnmount()}catch(Ze){xn(g,d,Ze)}}break;case 5:Bo(we,we.return);break;case 22:if(we.memoizedState!==null){vw(Ee);continue}}$e!==null?($e.return=we,qe=$e):vw(Ee)}je=je.sibling}e:for(je=null,Ee=a;;){if(Ee.tag===5){if(je===null){je=Ee;try{y=Ee.stateNode,se?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(M=Ee.stateNode,V=Ee.memoizedProps.style,_=V!=null&&V.hasOwnProperty("display")?V.display:null,M.style.display=Fs("display",_))}catch(Ze){xn(a,a.return,Ze)}}}else if(Ee.tag===6){if(je===null)try{Ee.stateNode.nodeValue=se?"":Ee.memoizedProps}catch(Ze){xn(a,a.return,Ze)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===a)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===a)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===a)break e;je===Ee&&(je=null),Ee=Ee.return}je===Ee&&(je=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:ws(l,a),Gs(a),g&4&&hw(a);break;case 21:break;default:ws(l,a),Gs(a)}}function Gs(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(dw(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(It(y,""),g.flags&=-33);var j=fw(a);wp(a,j,y);break;case 3:case 4:var _=g.stateNode.containerInfo,M=fw(a);yp(a,M,_);break;default:throw Error(n(161))}}catch(V){xn(a,a.return,V)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function TT(a,l,d){qe=a,gw(a)}function gw(a,l,d){for(var g=(a.mode&1)!==0;qe!==null;){var y=qe,j=y.child;if(y.tag===22&&g){var _=y.memoizedState!==null||jd;if(!_){var M=y.alternate,V=M!==null&&M.memoizedState!==null||lr;M=jd;var se=lr;if(jd=_,(lr=V)&&!se)for(qe=y;qe!==null;)_=qe,V=_.child,_.tag===22&&_.memoizedState!==null?yw(y):V!==null?(V.return=_,qe=V):yw(y);for(;j!==null;)qe=j,gw(j),j=j.sibling;qe=y,jd=M,lr=se}xw(a)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,qe=j):xw(a)}}function xw(a){for(;qe!==null;){var l=qe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:lr||Nd(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!lr)if(d===null)g.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:vs(l.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&v0(l,j,g);break;case 3:var _=l.updateQueue;if(_!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}v0(l,_,d)}break;case 5:var M=l.stateNode;if(d===null&&l.flags&4){d=M;var V=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&d.focus();break;case"img":V.src&&(d.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var se=l.alternate;if(se!==null){var je=se.memoizedState;if(je!==null){var Ee=je.dehydrated;Ee!==null&&Ql(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lr||l.flags&512&&vp(l)}catch(we){xn(l,l.return,we)}}if(l===a){qe=null;break}if(d=l.sibling,d!==null){d.return=l.return,qe=d;break}qe=l.return}}function vw(a){for(;qe!==null;){var l=qe;if(l===a){qe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,qe=d;break}qe=l.return}}function yw(a){for(;qe!==null;){var l=qe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Nd(4,l)}catch(V){xn(l,d,V)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(V){xn(l,y,V)}}var j=l.return;try{vp(l)}catch(V){xn(l,j,V)}break;case 5:var _=l.return;try{vp(l)}catch(V){xn(l,_,V)}}}catch(V){xn(l,l.return,V)}if(l===a){qe=null;break}var M=l.sibling;if(M!==null){M.return=l.return,qe=M;break}qe=l.return}}var AT=Math.ceil,Sd=k.ReactCurrentDispatcher,bp=k.ReactCurrentOwner,is=k.ReactCurrentBatchConfig,Lt=0,Vn=null,kn=null,Zn=0,Ur=0,qo=Xi(0),On=0,xc=null,Qa=0,Cd=0,jp=0,vc=null,Ir=null,Np=0,Ho=1/0,Pi=null,Ed=!1,Sp=null,ra=null,_d=!1,sa=null,Pd=0,yc=0,Cp=null,kd=-1,Td=0;function Sr(){return(Lt&6)!==0?ln():kd!==-1?kd:kd=ln()}function ia(a){return(a.mode&1)===0?1:(Lt&2)!==0&&Zn!==0?Zn&-Zn:hT.transition!==null?(Td===0&&(Td=fy()),Td):(a=qt,a!==0||(a=window.event,a=a===void 0?16:by(a.type)),a)}function bs(a,l,d,g){if(50<yc)throw yc=0,Cp=null,Error(n(185));Bl(a,d,g),((Lt&2)===0||a!==Vn)&&(a===Vn&&((Lt&2)===0&&(Cd|=d),On===4&&aa(a,Zn)),Mr(a,g),d===1&&Lt===0&&(l.mode&1)===0&&(Ho=ln()+500,sd&&Yi()))}function Mr(a,l){var d=a.callbackNode;hk(a,l);var g=wi(a,a===Vn?Zn:0);if(g===0)d!==null&&Du(d),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(d!=null&&Du(d),l===1)a.tag===0?mT(bw.bind(null,a)):a0(bw.bind(null,a)),cT(function(){(Lt&6)===0&&Yi()}),d=null;else{switch(my(g)){case 1:d=Vl;break;case 4:d=Ul;break;case 16:d=Bi;break;case 536870912:d=Fu;break;default:d=Bi}d=kw(d,ww.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function ww(a,l){if(kd=-1,Td=0,(Lt&6)!==0)throw Error(n(327));var d=a.callbackNode;if(Wo()&&a.callbackNode!==d)return null;var g=wi(a,a===Vn?Zn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=Ad(a,g);else{l=g;var y=Lt;Lt|=2;var j=Nw();(Vn!==a||Zn!==l)&&(Pi=null,Ho=ln()+500,Za(a,l));do try{IT();break}catch(M){jw(a,M)}while(!0);Bh(),Sd.current=j,Lt=y,kn!==null?l=0:(Vn=null,Zn=0,l=On)}if(l!==0){if(l===2&&(y=ih(a),y!==0&&(g=y,l=Ep(a,y))),l===1)throw d=xc,Za(a,0),aa(a,g),Mr(a,ln()),d;if(l===6)aa(a,g);else{if(y=a.current.alternate,(g&30)===0&&!RT(y)&&(l=Ad(a,g),l===2&&(j=ih(a),j!==0&&(g=j,l=Ep(a,j))),l===1))throw d=xc,Za(a,0),aa(a,g),Mr(a,ln()),d;switch(a.finishedWork=y,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Xa(a,Ir,Pi);break;case 3:if(aa(a,g),(g&130023424)===g&&(l=Np+500-ln(),10<l)){if(wi(a,0)!==0)break;if(y=a.suspendedLanes,(y&g)!==g){Sr(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Rh(Xa.bind(null,a,Ir,Pi),l);break}Xa(a,Ir,Pi);break;case 4:if(aa(a,g),(g&4194240)===g)break;for(l=a.eventTimes,y=-1;0<g;){var _=31-K(g);j=1<<_,_=l[_],_>y&&(y=_),g&=~j}if(g=y,g=ln()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*AT(g/1960))-g,10<g){a.timeoutHandle=Rh(Xa.bind(null,a,Ir,Pi),g);break}Xa(a,Ir,Pi);break;case 5:Xa(a,Ir,Pi);break;default:throw Error(n(329))}}}return Mr(a,ln()),a.callbackNode===d?ww.bind(null,a):null}function Ep(a,l){var d=vc;return a.current.memoizedState.isDehydrated&&(Za(a,l).flags|=256),a=Ad(a,l),a!==2&&(l=Ir,Ir=d,l!==null&&_p(l)),a}function _p(a){Ir===null?Ir=a:Ir.push.apply(Ir,a)}function RT(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var y=d[g],j=y.getSnapshot;y=y.value;try{if(!gs(j(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function aa(a,l){for(l&=~jp,l&=~Cd,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-K(l),g=1<<d;a[d]=-1,l&=~g}}function bw(a){if((Lt&6)!==0)throw Error(n(327));Wo();var l=wi(a,0);if((l&1)===0)return Mr(a,ln()),null;var d=Ad(a,l);if(a.tag!==0&&d===2){var g=ih(a);g!==0&&(l=g,d=Ep(a,g))}if(d===1)throw d=xc,Za(a,0),aa(a,l),Mr(a,ln()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Xa(a,Ir,Pi),Mr(a,ln()),null}function Pp(a,l){var d=Lt;Lt|=1;try{return a(l)}finally{Lt=d,Lt===0&&(Ho=ln()+500,sd&&Yi())}}function Ga(a){sa!==null&&sa.tag===0&&(Lt&6)===0&&Wo();var l=Lt;Lt|=1;var d=is.transition,g=qt;try{if(is.transition=null,qt=1,a)return a()}finally{qt=g,is.transition=d,Lt=l,(Lt&6)===0&&Yi()}}function kp(){Ur=qo.current,Zt(qo)}function Za(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,lT(d)),kn!==null)for(d=kn.return;d!==null;){var g=d;switch(Lh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&nd();break;case 3:Vo(),Zt(Ar),Zt(ir),Xh();break;case 5:Gh(g);break;case 4:Vo();break;case 13:Zt(cn);break;case 19:Zt(cn);break;case 10:qh(g.type._context);break;case 22:case 23:kp()}d=d.return}if(Vn=a,kn=a=oa(a.current,null),Zn=Ur=l,On=0,xc=null,jp=Cd=Qa=0,Ir=vc=null,Ha!==null){for(l=0;l<Ha.length;l++)if(d=Ha[l],g=d.interleaved,g!==null){d.interleaved=null;var y=g.next,j=d.pending;if(j!==null){var _=j.next;j.next=y,g.next=_}d.pending=g}Ha=null}return a}function jw(a,l){do{var d=kn;try{if(Bh(),hd.current=vd,pd){for(var g=un.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}pd=!1}if(Ka=0,zn=Rn=un=null,dc=!1,fc=0,bp.current=null,d===null||d.return===null){On=1,xc=l,kn=null;break}e:{var j=a,_=d.return,M=d,V=l;if(l=Zn,M.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=V,je=M,Ee=je.tag;if((je.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var we=je.alternate;we?(je.updateQueue=we.updateQueue,je.memoizedState=we.memoizedState,je.lanes=we.lanes):(je.updateQueue=null,je.memoizedState=null)}var $e=K0(_);if($e!==null){$e.flags&=-257,Q0($e,_,M,j,l),$e.mode&1&&W0(j,se,l),l=$e,V=se;var We=l.updateQueue;if(We===null){var Ze=new Set;Ze.add(V),l.updateQueue=Ze}else We.add(V);break e}else{if((l&1)===0){W0(j,se,l),Tp();break e}V=Error(n(426))}}else if(Yt&&M.mode&1){var Sn=K0(_);if(Sn!==null){(Sn.flags&65536)===0&&(Sn.flags|=256),Q0(Sn,_,M,j,l),Vh(Uo(V,M));break e}}j=V=Uo(V,M),On!==4&&(On=2),vc===null?vc=[j]:vc.push(j),j=_;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var X=q0(j,V,l);x0(j,X);break e;case 1:M=V;var U=j.type,ne=j.stateNode;if((j.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(ra===null||!ra.has(ne)))){j.flags|=65536,l&=-l,j.lanes|=l;var ke=H0(j,M,l);x0(j,ke);break e}}j=j.return}while(j!==null)}Cw(d)}catch(Xe){l=Xe,kn===d&&d!==null&&(kn=d=d.return);continue}break}while(!0)}function Nw(){var a=Sd.current;return Sd.current=vd,a===null?vd:a}function Tp(){(On===0||On===3||On===2)&&(On=4),Vn===null||(Qa&268435455)===0&&(Cd&268435455)===0||aa(Vn,Zn)}function Ad(a,l){var d=Lt;Lt|=2;var g=Nw();(Vn!==a||Zn!==l)&&(Pi=null,Za(a,l));do try{OT();break}catch(y){jw(a,y)}while(!0);if(Bh(),Lt=d,Sd.current=g,kn!==null)throw Error(n(261));return Vn=null,Zn=0,On}function OT(){for(;kn!==null;)Sw(kn)}function IT(){for(;kn!==null&&!$u();)Sw(kn)}function Sw(a){var l=Pw(a.alternate,a,Ur);a.memoizedProps=a.pendingProps,l===null?Cw(a):kn=l,bp.current=null}function Cw(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=ET(d,l,Ur),d!==null){kn=d;return}}else{if(d=_T(d,l),d!==null){d.flags&=32767,kn=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{On=6,kn=null;return}}if(l=l.sibling,l!==null){kn=l;return}kn=l=a}while(l!==null);On===0&&(On=5)}function Xa(a,l,d){var g=qt,y=is.transition;try{is.transition=null,qt=1,MT(a,l,d,g)}finally{is.transition=y,qt=g}return null}function MT(a,l,d,g){do Wo();while(sa!==null);if((Lt&6)!==0)throw Error(n(327));d=a.finishedWork;var y=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=d.lanes|d.childLanes;if(pk(a,j),a===Vn&&(kn=Vn=null,Zn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||_d||(_d=!0,kw(Bi,function(){return Wo(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=is.transition,is.transition=null;var _=qt;qt=1;var M=Lt;Lt|=4,bp.current=null,kT(a,d),pw(d,a),tT(Th),Uu=!!kh,Th=kh=null,a.current=d,TT(d),Lu(),Lt=M,qt=_,is.transition=j}else a.current=d;if(_d&&(_d=!1,sa=a,Pd=y),j=a.pendingLanes,j===0&&(ra=null),Qn(d.stateNode),Mr(a,ln()),l!==null)for(g=a.onRecoverableError,d=0;d<l.length;d++)y=l[d],g(y.value,{componentStack:y.stack,digest:y.digest});if(Ed)throw Ed=!1,a=Sp,Sp=null,a;return(Pd&1)!==0&&a.tag!==0&&Wo(),j=a.pendingLanes,(j&1)!==0?a===Cp?yc++:(yc=0,Cp=a):yc=0,Yi(),null}function Wo(){if(sa!==null){var a=my(Pd),l=is.transition,d=qt;try{if(is.transition=null,qt=16>a?16:a,sa===null)var g=!1;else{if(a=sa,sa=null,Pd=0,(Lt&6)!==0)throw Error(n(331));var y=Lt;for(Lt|=4,qe=a.current;qe!==null;){var j=qe,_=j.child;if((qe.flags&16)!==0){var M=j.deletions;if(M!==null){for(var V=0;V<M.length;V++){var se=M[V];for(qe=se;qe!==null;){var je=qe;switch(je.tag){case 0:case 11:case 15:gc(8,je,j)}var Ee=je.child;if(Ee!==null)Ee.return=je,qe=Ee;else for(;qe!==null;){je=qe;var we=je.sibling,$e=je.return;if(uw(je),je===se){qe=null;break}if(we!==null){we.return=$e,qe=we;break}qe=$e}}}var We=j.alternate;if(We!==null){var Ze=We.child;if(Ze!==null){We.child=null;do{var Sn=Ze.sibling;Ze.sibling=null,Ze=Sn}while(Ze!==null)}}qe=j}}if((j.subtreeFlags&2064)!==0&&_!==null)_.return=j,qe=_;else e:for(;qe!==null;){if(j=qe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:gc(9,j,j.return)}var X=j.sibling;if(X!==null){X.return=j.return,qe=X;break e}qe=j.return}}var U=a.current;for(qe=U;qe!==null;){_=qe;var ne=_.child;if((_.subtreeFlags&2064)!==0&&ne!==null)ne.return=_,qe=ne;else e:for(_=U;qe!==null;){if(M=qe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Nd(9,M)}}catch(Xe){xn(M,M.return,Xe)}if(M===_){qe=null;break e}var ke=M.sibling;if(ke!==null){ke.return=M.return,qe=ke;break e}qe=M.return}}if(Lt=y,Yi(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(za,a)}catch{}g=!0}return g}finally{qt=d,is.transition=l}}return!1}function Ew(a,l,d){l=Uo(d,l),l=q0(a,l,1),a=ta(a,l,1),l=Sr(),a!==null&&(Bl(a,1,l),Mr(a,l))}function xn(a,l,d){if(a.tag===3)Ew(a,a,d);else for(;l!==null;){if(l.tag===3){Ew(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ra===null||!ra.has(g))){a=Uo(d,a),a=H0(l,a,1),l=ta(l,a,1),a=Sr(),l!==null&&(Bl(l,1,a),Mr(l,a));break}}l=l.return}}function DT(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),l=Sr(),a.pingedLanes|=a.suspendedLanes&d,Vn===a&&(Zn&d)===d&&(On===4||On===3&&(Zn&130023424)===Zn&&500>ln()-Np?Za(a,0):jp|=d),Mr(a,l)}function _w(a,l){l===0&&((a.mode&1)===0?l=1:(l=Mt,Mt<<=1,(Mt&130023424)===0&&(Mt=4194304)));var d=Sr();a=Ci(a,l),a!==null&&(Bl(a,l,d),Mr(a,d))}function $T(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),_w(a,d)}function LT(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),_w(a,d)}var Pw;Pw=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Ar.current)Or=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return Or=!1,CT(a,l,d);Or=(a.flags&131072)!==0}else Or=!1,Yt&&(l.flags&1048576)!==0&&o0(l,ad,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;bd(a,l),a=l.pendingProps;var y=Io(l,ir.current);zo(l,d),y=ep(null,l,g,a,y,d);var j=tp();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Rr(g)?(j=!0,rd(l)):j=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Kh(l),y.updater=yd,l.stateNode=y,y._reactInternals=l,op(l,g,a,d),l=dp(null,l,g,!0,j,d)):(l.tag=0,Yt&&j&&$h(l),Nr(null,l,y,d),l=l.child),l;case 16:g=l.elementType;e:{switch(bd(a,l),a=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=zT(g),a=vs(g,a),y){case 0:l=up(null,l,g,a,d);break e;case 1:l=ew(null,l,g,a,d);break e;case 11:l=G0(null,l,g,a,d);break e;case 14:l=Z0(null,l,g,vs(g.type,a),d);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:vs(g,y),up(a,l,g,y,d);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:vs(g,y),ew(a,l,g,y,d);case 3:e:{if(tw(l),a===null)throw Error(n(387));g=l.pendingProps,j=l.memoizedState,y=j.element,g0(a,l),fd(l,g,null,d);var _=l.memoizedState;if(g=_.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){y=Uo(Error(n(423)),l),l=nw(a,l,g,d,y);break e}else if(g!==y){y=Uo(Error(n(424)),l),l=nw(a,l,g,d,y);break e}else for(Vr=Zi(l.stateNode.containerInfo.firstChild),zr=l,Yt=!0,xs=null,d=h0(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if($o(),g===y){l=_i(a,l,d);break e}Nr(a,l,g,d)}l=l.child}return l;case 5:return y0(l),a===null&&zh(l),g=l.type,y=l.pendingProps,j=a!==null?a.memoizedProps:null,_=y.children,Ah(g,y)?_=null:j!==null&&Ah(g,j)&&(l.flags|=32),Y0(a,l),Nr(a,l,_,d),l.child;case 6:return a===null&&zh(l),null;case 13:return rw(a,l,d);case 4:return Qh(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Lo(l,null,g,d):Nr(a,l,g,d),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:vs(g,y),G0(a,l,g,y,d);case 7:return Nr(a,l,l.pendingProps,d),l.child;case 8:return Nr(a,l,l.pendingProps.children,d),l.child;case 12:return Nr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,j=l.memoizedProps,_=y.value,Qt(cd,g._currentValue),g._currentValue=_,j!==null)if(gs(j.value,_)){if(j.children===y.children&&!Ar.current){l=_i(a,l,d);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var M=j.dependencies;if(M!==null){_=j.child;for(var V=M.firstContext;V!==null;){if(V.context===g){if(j.tag===1){V=Ei(-1,d&-d),V.tag=2;var se=j.updateQueue;if(se!==null){se=se.shared;var je=se.pending;je===null?V.next=V:(V.next=je.next,je.next=V),se.pending=V}}j.lanes|=d,V=j.alternate,V!==null&&(V.lanes|=d),Hh(j.return,d,l),M.lanes|=d;break}V=V.next}}else if(j.tag===10)_=j.type===l.type?null:j.child;else if(j.tag===18){if(_=j.return,_===null)throw Error(n(341));_.lanes|=d,M=_.alternate,M!==null&&(M.lanes|=d),Hh(_,d,l),_=j.sibling}else _=j.child;if(_!==null)_.return=j;else for(_=j;_!==null;){if(_===l){_=null;break}if(j=_.sibling,j!==null){j.return=_.return,_=j;break}_=_.return}j=_}Nr(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,zo(l,d),y=rs(y),g=g(y),l.flags|=1,Nr(a,l,g,d),l.child;case 14:return g=l.type,y=vs(g,l.pendingProps),y=vs(g.type,y),Z0(a,l,g,y,d);case 15:return X0(a,l,l.type,l.pendingProps,d);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:vs(g,y),bd(a,l),l.tag=1,Rr(g)?(a=!0,rd(l)):a=!1,zo(l,d),U0(l,g,y),op(l,g,y,d),dp(null,l,g,!0,a,d);case 19:return iw(a,l,d);case 22:return J0(a,l,d)}throw Error(n(156,l.tag))};function kw(a,l){return Mu(a,l)}function FT(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(a,l,d,g){return new FT(a,l,d,g)}function Ap(a){return a=a.prototype,!(!a||!a.isReactComponent)}function zT(a){if(typeof a=="function")return Ap(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===ve)return 14}return 2}function oa(a,l){var d=a.alternate;return d===null?(d=as(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Rd(a,l,d,g,y,j){var _=2;if(g=a,typeof a=="function")Ap(a)&&(_=1);else if(typeof a=="string")_=5;else e:switch(a){case A:return Ja(d.children,y,j,l);case B:_=8,y|=8;break;case Z:return a=as(12,d,l,y|2),a.elementType=Z,a.lanes=j,a;case ie:return a=as(13,d,l,y),a.elementType=ie,a.lanes=j,a;case Y:return a=as(19,d,l,y),a.elementType=Y,a.lanes=j,a;case he:return Od(d,y,j,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:_=10;break e;case re:_=9;break e;case H:_=11;break e;case ve:_=14;break e;case W:_=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=as(_,d,l,y),l.elementType=a,l.type=g,l.lanes=j,l}function Ja(a,l,d,g){return a=as(7,a,g,l),a.lanes=d,a}function Od(a,l,d,g){return a=as(22,a,g,l),a.elementType=he,a.lanes=d,a.stateNode={isHidden:!1},a}function Rp(a,l,d){return a=as(6,a,null,l),a.lanes=d,a}function Op(a,l,d){return l=as(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function VT(a,l,d,g,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Ip(a,l,d,g,y,j,_,M,V){return a=new VT(a,l,d,M,V),l===1?(l=1,j===!0&&(l|=8)):l=0,j=as(3,null,null,l),a.current=j,j.stateNode=a,j.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(j),a}function UT(a,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:a,containerInfo:l,implementation:d}}function Tw(a){if(!a)return Ji;a=a._reactInternals;e:{if(Ge(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Rr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(Rr(d))return s0(a,d,l)}return l}function Aw(a,l,d,g,y,j,_,M,V){return a=Ip(d,g,!0,a,y,j,_,M,V),a.context=Tw(null),d=a.current,g=Sr(),y=ia(d),j=Ei(g,y),j.callback=l??null,ta(d,j,y),a.current.lanes=y,Bl(a,y,g),Mr(a,g),a}function Id(a,l,d,g){var y=l.current,j=Sr(),_=ia(y);return d=Tw(d),l.context===null?l.context=d:l.pendingContext=d,l=Ei(j,_),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ta(y,l,_),a!==null&&(bs(a,y,_,j),dd(a,y,_)),_}function Md(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function Rw(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Mp(a,l){Rw(a,l),(a=a.alternate)&&Rw(a,l)}function BT(){return null}var Ow=typeof reportError=="function"?reportError:function(a){console.error(a)};function Dp(a){this._internalRoot=a}Dd.prototype.render=Dp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Id(a,l,null,null)},Dd.prototype.unmount=Dp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Ga(function(){Id(null,a,null,null)}),l[bi]=null}};function Dd(a){this._internalRoot=a}Dd.prototype.unstable_scheduleHydration=function(a){if(a){var l=gy();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Ki.length&&l!==0&&l<Ki[d].priority;d++);Ki.splice(d,0,a),d===0&&yy(a)}};function $p(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function $d(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Iw(){}function qT(a,l,d,g,y){if(y){if(typeof g=="function"){var j=g;g=function(){var se=Md(_);j.call(se)}}var _=Aw(l,g,a,0,null,!1,!1,"",Iw);return a._reactRootContainer=_,a[bi]=_.current,rc(a.nodeType===8?a.parentNode:a),Ga(),_}for(;y=a.lastChild;)a.removeChild(y);if(typeof g=="function"){var M=g;g=function(){var se=Md(V);M.call(se)}}var V=Ip(a,0,!1,null,null,!1,!1,"",Iw);return a._reactRootContainer=V,a[bi]=V.current,rc(a.nodeType===8?a.parentNode:a),Ga(function(){Id(l,V,d,g)}),V}function Ld(a,l,d,g,y){var j=d._reactRootContainer;if(j){var _=j;if(typeof y=="function"){var M=y;y=function(){var V=Md(_);M.call(V)}}Id(l,_,a,y)}else _=qT(d,l,a,y,g);return Md(_)}hy=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Lr(l.pendingLanes);d!==0&&(oh(l,d|1),Mr(l,ln()),(Lt&6)===0&&(Ho=ln()+500,Yi()))}break;case 13:Ga(function(){var g=Ci(a,1);if(g!==null){var y=Sr();bs(g,a,1,y)}}),Mp(a,1)}},lh=function(a){if(a.tag===13){var l=Ci(a,134217728);if(l!==null){var d=Sr();bs(l,a,134217728,d)}Mp(a,134217728)}},py=function(a){if(a.tag===13){var l=ia(a),d=Ci(a,l);if(d!==null){var g=Sr();bs(d,a,l,g)}Mp(a,l)}},gy=function(){return qt},xy=function(a,l){var d=qt;try{return qt=a,l()}finally{qt=d}},Fa=function(a,l,d){switch(l){case"input":if(yr(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var y=td(g);if(!y)throw Error(n(90));Pt(g),yr(g,y)}}}break;case"textarea":fe(a,d);break;case"select":l=d.value,l!=null&&wr(a,!!d.multiple,l,!1)}},Jr=Pp,Tu=Ga;var HT={usingClientEntryPoint:!1,Events:[ac,Ro,td,jt,Fn,Pp]},wc={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WT={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=zl(a),a===null?null:a.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||BT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{za=Fd.inject(WT),es=Fd}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT,Dr.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(l))throw Error(n(200));return UT(a,l,null,d)},Dr.createRoot=function(a,l){if(!$p(a))throw Error(n(299));var d=!1,g="",y=Ow;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Ip(a,1,!1,null,null,d,!1,g,y),a[bi]=l.current,rc(a.nodeType===8?a.parentNode:a),new Dp(l)},Dr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=zl(l),a=a===null?null:a.stateNode,a},Dr.flushSync=function(a){return Ga(a)},Dr.hydrate=function(a,l,d){if(!$d(l))throw Error(n(200));return Ld(null,a,l,!0,d)},Dr.hydrateRoot=function(a,l,d){if(!$p(a))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,y=!1,j="",_=Ow;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),l=Aw(l,null,a,1,d??null,y,!1,j,_),a[bi]=l.current,rc(a),g)for(a=0;a<g.length;a++)d=g[a],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Dd(l)},Dr.render=function(a,l,d){if(!$d(l))throw Error(n(200));return Ld(null,a,l,!1,d)},Dr.unmountComponentAtNode=function(a){if(!$d(a))throw Error(n(40));return a._reactRootContainer?(Ga(function(){Ld(null,null,a,!1,function(){a._reactRootContainer=null,a[bi]=null})}),!0):!1},Dr.unstable_batchedUpdates=Pp,Dr.unstable_renderSubtreeIntoContainer=function(a,l,d,g){if(!$d(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ld(a,l,d,!1,g)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var Uw;function v1(){if(Uw)return zp.exports;Uw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=e4(),zp.exports}var Bw;function t4(){if(Bw)return zd;Bw=1;var e=v1();return zd.createRoot=e.createRoot,zd.hydrateRoot=e.hydrateRoot,zd}var n4=t4(),h=um();const tt=x1(h),Oa=QT({__proto__:null,default:tt},[h]);var Bp={exports:{}},qp={};var qw;function r4(){if(qw)return qp;qw=1;var e=um();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,i=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function c(x,v){var b=v(),S=s({inst:{value:b,getSnapshot:v}}),w=S[0].inst,N=S[1];return o(function(){w.value=b,w.getSnapshot=v,f(w)&&N({inst:w})},[x,b,v]),i(function(){return f(w)&&N({inst:w}),x(function(){f(w)&&N({inst:w})})},[x]),u(b),b}function f(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!n(x,b)}catch{return!0}}function m(x,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return qp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,qp}var Hw;function s4(){return Hw||(Hw=1,Bp.exports=r4()),Bp.exports}var y1=s4();const{useEffect:i4,useLayoutEffect:a4,useRef:o4,useInsertionEffect:l4}=Oa,c4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u4=c4?a4:i4,d4=l4||u4,w1=e=>{const t=o4([e,(...n)=>t[0](...n)]).current;return d4(()=>{t[0]=e}),t[1]},f4=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",m4=(e,t="")=>e[0]==="~"?e.slice(1):t+e,h4="popstate",Ix="pushState",Mx="replaceState",p4="hashchange",Ww=[h4,Ix,Mx,p4],g4=e=>{for(const t of Ww)addEventListener(t,e);return()=>{for(const t of Ww)removeEventListener(t,e)}},x4=(e,t)=>y1.useSyncExternalStore(g4,e,t),Kw=()=>location.pathname,v4=({ssrPath:e}={})=>x4(Kw,e?()=>e:Kw),y4=(e,{replace:t=!1}={})=>history[t?Mx:Ix](null,"",e),w4=(e={})=>[f4(e.base,v4(e)),w1((t,n)=>y4(m4(t,e.base),n))];if(typeof history<"u")for(const e of[Ix,Mx]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}function b4(e=N4){let t={};const n=s=>t[s]||(t[s]=e(s));return(s,i)=>{const{regexp:o,keys:u}=n(s||""),c=o.exec(i);return c?[!0,u.reduce((m,p,x)=>(m[p.name]=c[x+1],m),{})]:[!1,null]}}const Qw=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j4=(e,t,n)=>{let s=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(s="(?:\\/"+s+")"),s+(t?"?":"")},N4=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,s=0,i=[],o="";for(;(n=t.exec(e))!==null;){const[u,c,f]=n,m=f==="+"||f==="*",p=f==="?"||f==="*",x=p&&e[n.index-1]==="/"?1:0,v=e.substring(s,n.index-x);i.push({name:c}),s=t.lastIndex,o+=Qw(v)+j4(m,p,x)}return o+=Qw(e.substring(s)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},S4={hook:w4,matcher:b4(),base:""},C4=h.createContext(S4),dm=()=>h.useContext(C4),fm=e=>e.hook(e),zi=()=>fm(dm()),E4=e=>{const t=dm(),[n]=fm(t);return t.matcher(e,n)},_4=h.createContext({params:{}}),Gw=(e,t)=>h.createElement(_4.Provider,{value:{params:e},children:t}),Cn=({path:e,match:t,component:n,children:s})=>{const i=E4(e),[o,u]=t||i;return o?n?Gw(u,h.createElement(n,{params:u})):Gw(u,typeof s=="function"?s(u):s):null},lt=h.forwardRef((e,t)=>{const n=dm(),[,s]=fm(n),{to:i,href:o=i,children:u,onClick:c}=e,f=w1(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(c&&c(x),x.defaultPrevented||(x.preventDefault(),s(i||o,e)))}),m={href:o[0]==="~"?o.slice(1):n.base+o,onClick:f,to:null,ref:t},p=h.isValidElement(u)?u:h.createElement("a",e);return h.cloneElement(p,m)}),Mg=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===h.Fragment?Mg(t.props.children):Mg(t))):[e],P4=({children:e,location:t})=>{const n=dm(),s=n.matcher,[i]=fm(n);for(const o of Mg(e)){let u=0;if(h.isValidElement(o)&&(u=o.props.path?s(o.props.path,t||i):[!0,{}])[0])return h.cloneElement(o,{match:u})}return null};var Pl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},k4={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},T4=class{#e=k4;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},eo=new T4;function A4(e){setTimeout(e,0)}var oo=typeof window>"u"||"Deno"in globalThis;function Er(){}function R4(e,t){return typeof e=="function"?e(t):e}function Dg(e){return typeof e=="number"&&e>=0&&e!==1/0}function b1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ya(e,t){return typeof e=="function"?e(t):e}function os(e,t){return typeof e=="function"?e(t):e}function Zw(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:o,queryKey:u,stale:c}=e;if(u){if(s){if(t.queryHash!==Dx(u,t.options))return!1}else if(!Vc(t.queryKey,u))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||o&&!o(t))}function Xw(e,t){const{exact:n,status:s,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(lo(t.options.mutationKey)!==lo(o))return!1}else if(!Vc(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Dx(e,t){return(t?.queryKeyHashFn||lo)(e)}function lo(e){return JSON.stringify(e,(t,n)=>$g(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function Vc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Vc(e[n],t[n])):!1}var O4=Object.prototype.hasOwnProperty;function j1(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=Jw(e)&&Jw(t);if(!s&&!($g(e)&&$g(t)))return t;const o=(s?e:Object.keys(e)).length,u=s?t:Object.keys(t),c=u.length,f=s?new Array(c):{};let m=0;for(let p=0;p<c;p++){const x=s?p:u[p],v=e[x],b=t[x];if(v===b){f[x]=v,(s?p<o:O4.call(e,x))&&m++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[x]=b;continue}const S=j1(v,b,n+1);f[x]=S,S===v&&m++}return o===c&&m===o?e:f}function bf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Jw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $g(e){if(!Yw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yw(e){return Object.prototype.toString.call(e)==="[object Object]"}function I4(e){return new Promise(t=>{eo.setTimeout(t,e)})}function Lg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?j1(e,t):t}function M4(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function D4(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var $x=Symbol();function N1(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===$x?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Lx(e,t){return typeof e=="function"?e(...t):!!e}function $4(e,t,n){let s=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var L4=class extends Pl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!oo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fx=new L4;function Fg(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var F4=A4;function z4(){let e=[],t=0,n=c=>{c()},s=c=>{c()},i=F4;const o=c=>{t?e.push(c):i(()=>{n(c)})},u=()=>{const c=e;e=[],c.length&&i(()=>{s(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;t++;try{f=c()}finally{t--,t||u()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var Dn=z4(),V4=class extends Pl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!oo&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},jf=new V4;function U4(e){return Math.min(1e3*2**e,3e4)}function S1(e){return(e??"online")==="online"?jf.isOnline():!0}var zg=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function C1(e){let t=!1,n=0,s;const i=Fg(),o=()=>i.status!=="pending",u=w=>{if(!o()){const N=new zg(w);v(N),e.onCancel?.(N)}},c=()=>{t=!0},f=()=>{t=!1},m=()=>Fx.isFocused()&&(e.networkMode==="always"||jf.isOnline())&&e.canRun(),p=()=>S1(e.networkMode)&&e.canRun(),x=w=>{o()||(s?.(),i.resolve(w))},v=w=>{o()||(s?.(),i.reject(w))},b=()=>new Promise(w=>{s=N=>{(o()||m())&&w(N)},e.onPause?.()}).then(()=>{s=void 0,o()||e.onContinue?.()}),S=()=>{if(o())return;let w;const N=n===0?e.initialPromise:void 0;try{w=N??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(x).catch(E=>{if(o())return;const C=e.retry??(oo?0:3),P=e.retryDelay??U4,k=typeof P=="function"?P(n,E):P,T=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,E);if(t||!T){v(E);return}n++,e.onFail?.(n,E),I4(k).then(()=>m()?void 0:b()).then(()=>{t?v(E):S()})})};return{promise:i,status:()=>i.status,cancel:u,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:f,canStart:p,start:()=>(p()?S():b().then(S),i)}}var E1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dg(this.gcTime)&&(this.#e=eo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(oo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(eo.clearTimeout(this.#e),this.#e=void 0)}},B4=class extends E1{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=tb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=tb(this.options);t.data!==void 0&&(this.setState(eb(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Lg(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>os(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$x||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ya(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!b1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const c=N1(this.options,t),m=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(p),p})();return this.#o=!1,this.options.persister?this.options.persister(c,m,this):c(m)},u=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return s(c),c})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=C1({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:c=>{c instanceof zg&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#i({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof zg){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._1(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...eb(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function _1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function eb(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function tb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var q4=class extends Pl{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Fg(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#f;#m;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),nb(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vg(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vg(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof os(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!bf(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&rb(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),s&&(this.#t!==n||os(this.options.enabled,this.#t)!==os(t.enabled,this.#t)||ya(this.options.staleTime,this.#t)!==ya(t.staleTime,this.#t))&&this.#g();const i=this.#x();s&&(this.#t!==n||os(this.options.enabled,this.#t)!==os(t.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return W4(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),t?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Er)),t}#g(){this.#w();const e=ya(this.options.staleTime,this.#t);if(oo||this.#s.isStale||!Dg(e))return;const n=b1(this.#s.dataUpdatedAt,e)+1;this.#c=eo.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(oo||os(this.options.enabled,this.#t)===!1||!Dg(this.#l)||this.#l===0)&&(this.#u=eo.setInterval(()=>{(this.options.refetchIntervalInBackground||Fx.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#w(){this.#c&&(eo.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(eo.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,s=this.options,i=this.#s,o=this.#r,u=this.#a,f=e!==n?e.state:this.#n,{state:m}=e;let p={...m},x=!1,v;if(t._optimisticResults){const B=this.hasListeners(),Z=!B&&nb(e,t),$=B&&rb(e,n,t,s);(Z||$)&&(p={...p,..._1(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:w}=p;v=p.data;let N=!1;if(t.placeholderData!==void 0&&v===void 0&&w==="pending"){let B;i?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(B=i.data,N=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#m?.state.data,this.#m):t.placeholderData,B!==void 0&&(w="success",v=Lg(i?.data,B,t),x=!0)}if(t.select&&v!==void 0&&!N)if(i&&v===o?.data&&t.select===this.#p)v=this.#f;else try{this.#p=t.select,v=t.select(v),v=Lg(i?.data,v,t),this.#f=v,this.#i=null}catch(B){this.#i=B}this.#i&&(b=this.#i,v=this.#f,S=Date.now(),w="error");const E=p.fetchStatus==="fetching",C=w==="pending",P=w==="error",k=C&&E,T=v!==void 0,A={status:w,fetchStatus:p.fetchStatus,isPending:C,isSuccess:w==="success",isError:P,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:P&&!T,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&T,isStale:zx(e,t),refetch:this.refetch,promise:this.#o,isEnabled:os(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const B=A.data!==void 0,Z=A.status==="error"&&!B,$=ie=>{Z?ie.reject(A.error):B&&ie.resolve(A.data)},re=()=>{const ie=this.#o=A.promise=Fg();$(ie)},H=this.#o;switch(H.status){case"pending":e.queryHash===n.queryHash&&$(H);break;case"fulfilled":(Z||A.data!==H.value)&&re();break;case"rejected":(!Z||A.error!==H.reason)&&re();break}}return A}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#m=this.#t),bf(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!this.#h.size)return!0;const o=new Set(i??this.#h);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(u=>{const c=u;return this.#s[c]!==e[c]&&o.has(c)})};this.#N({listeners:n()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function H4(e,t){return os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nb(e,t){return H4(e,t)||e.state.data!==void 0&&Vg(e,t,t.refetchOnMount)}function Vg(e,t,n){if(os(t.enabled,e)!==!1&&ya(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&zx(e,t)}return!1}function rb(e,t,n,s){return(e!==t||os(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zx(e,n)}function zx(e,t){return os(t.enabled,e)!==!1&&e.isStaleByTime(ya(t.staleTime,e))}function W4(e,t){return!bf(e.getCurrentResult(),t)}function sb(e){return{onFetch:(t,n)=>{const s=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const m=async()=>{let p=!1;const x=S=>{$4(S,()=>t.signal,()=>p=!0)},v=N1(t.options,t.fetchOptions),b=async(S,w,N)=>{if(p)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return x(R),R})(),P=await v(C),{maxPages:k}=t.options,T=N?D4:M4;return{pages:T(S.pages,P,k),pageParams:T(S.pageParams,w,k)}};if(i&&o.length){const S=i==="backward",w=S?K4:ib,N={pages:o,pageParams:u},E=w(s,N);c=await b(N,E,S)}else{const S=e??o.length;do{const w=f===0?u[0]??s.initialPageParam:ib(s,c);if(f>0&&w==null)break;c=await b(c,w),f++}while(f<S)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function ib(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function K4(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Q4=class extends E1{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||P1(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=C1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",i=!this.#s.canStart();try{if(s)t();else{this.#r({type:"pending",variables:e,isPaused:i}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const u=await this.options.onMutate?.(e,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:i})}const o=await this.#s.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{await this.#n.config.onError?.(o,e,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onError?.(o,e,this.state.context,n)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,o,e,this.state.context,n)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:o}),o}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function P1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var G4=class extends Pl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new Q4({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=Vd(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Vd(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vd(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=Vd(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Xw(t,n))}findAll(e={}){return this.getAll().filter(t=>Xw(e,t))}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Er))))}};function Vd(e){return e.options.scope?.id}var Z4=class extends Pl{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),bf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&lo(n.mutationKey)!==lo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??P1();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Dn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,s=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#s.onSuccess?.(t.data,n,s,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(t.data,null,n,s,i)}catch(o){Promise.reject(o)}}else if(t?.type==="error"){try{this.#s.onError?.(t.error,n,s,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,t.error,n,s,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},X4=class extends Pl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,i=t.queryHash??Dx(s,t);let o=this.get(i);return o||(o=new B4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Zw(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Zw(e,n)):t}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},J4=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new X4,this.#t=e.mutationCache||new G4,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Fx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=jf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ya(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(s.queryHash)?.state.data,u=R4(t,o);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Dn.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Dn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Dn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Dn.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Er).catch(Er)}invalidateQueries(e,t={}){return Dn.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Dn.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Er)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Er)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ya(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Er).catch(Er)}fetchInfiniteQuery(e){return e.behavior=sb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Er).catch(Er)}ensureInfiniteQueryData(e){return e.behavior=sb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(lo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{Vc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(lo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(s=>{Vc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$x&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},k1=h.createContext(void 0),ot=e=>{const t=h.useContext(k1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y4=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(k1.Provider,{value:e,children:t})),T1=h.createContext(!1),eA=()=>h.useContext(T1);T1.Provider;function tA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nA=h.createContext(tA()),rA=()=>h.useContext(nA),sA=(e,t,n)=>{const s=n?.state.error&&typeof e.throwOnError=="function"?Lx(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},iA=e=>{h.useEffect(()=>{e.clearReset()},[e])},aA=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||Lx(n,[e.error,s])),oA=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lA=(e,t)=>e.isLoading&&e.isFetching&&!t,cA=(e,t)=>e?.suspense&&t.isPending,ab=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function uA(e,t,n){const s=eA(),i=rA(),o=ot(),u=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const c=o.getQueryCache().get(u.queryHash);u._optimisticResults=s?"isRestoring":"optimistic",oA(u),sA(u,i,c),iA(i);const f=!o.getQueryCache().get(u.queryHash),[m]=h.useState(()=>new t(o,u)),p=m.getOptimisticResult(u),x=!s&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(v=>{const b=x?m.subscribe(Dn.batchCalls(v)):Er;return m.updateResult(),b},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),h.useEffect(()=>{m.setOptions(u)},[u,m]),cA(u,p))throw ab(u,m,i);if(aA({result:p,errorResetBoundary:i,throwOnError:u.throwOnError,query:c,suspense:u.suspense}))throw p.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,p),u.experimental_prefetchInRender&&!oo&&lA(p,s)&&(f?ab(u,m,i):c?.promise)?.catch(Er).finally(()=>{m.updateResult()}),u.notifyOnChangeProps?p:m.trackResult(p)}function vt(e,t){return uA(e,q4)}function De(e,t){const n=ot(),[s]=h.useState(()=>new Z4(n,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);const i=h.useSyncExternalStore(h.useCallback(u=>s.subscribe(Dn.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=h.useCallback((u,c)=>{s.mutate(u,c).catch(Er)},[s]);if(i.error&&Lx(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function A1(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function sn(e,t,n){const s=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await A1(s),s}const dA=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await A1(n),await n.json()},Bt=new J4({defaultOptions:{queries:{queryFn:dA({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),fA=1,mA=1e6;let Hp=0;function hA(){return Hp=(Hp+1)%Number.MAX_SAFE_INTEGER,Hp.toString()}const Wp=new Map,ob=e=>{if(Wp.has(e))return;const t=setTimeout(()=>{Wp.delete(e),Rc({type:"REMOVE_TOAST",toastId:e})},mA);Wp.set(e,t)},pA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,fA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ob(n):e.toasts.forEach(s=>{ob(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},cf=[];let uf={toasts:[]};function Rc(e){uf=pA(uf,e),cf.forEach(t=>{t(uf)})}function gA({...e}){const t=hA(),n=i=>Rc({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:t});return Rc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function rt(){const[e,t]=h.useState(uf);return h.useEffect(()=>(cf.push(t),()=>{const n=cf.indexOf(t);n>-1&&cf.splice(n,1)}),[e]),{...e,toast:gA,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}var pi=v1();const Vx=x1(pi);function st(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function lb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fu(...e){return t=>{let n=!1;const s=e.map(i=>{const o=lb(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():lb(e[i],null)}}}}function Tt(...e){return h.useCallback(fu(...e),e)}function xA(e,t){const n=h.createContext(t),s=o=>{const{children:u,...c}=o,f=h.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:f,children:u})};s.displayName=e+"Provider";function i(o){const u=h.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,i]}function fs(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,vA(i,...t)]}function vA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Nf(e){const t=yA(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(bA);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function yA(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=NA(i),c=jA(o,i.props);return i.type!==h.Fragment&&(c.ref=s?fu(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R1=Symbol("radix.slottable");function wA(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=R1,t}function bA(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R1}function jA(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{o(...c),i(...c)}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function NA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ux(e){const t=e+"CollectionProvider",[n,s]=fs(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:N,children:E}=w,C=tt.useRef(null),P=tt.useRef(new Map).current;return r.jsx(i,{scope:N,itemMap:P,collectionRef:C,children:E})};u.displayName=t;const c=e+"CollectionSlot",f=Nf(c),m=tt.forwardRef((w,N)=>{const{scope:E,children:C}=w,P=o(c,E),k=Tt(N,P.collectionRef);return r.jsx(f,{ref:k,children:C})});m.displayName=c;const p=e+"CollectionItemSlot",x="data-radix-collection-item",v=Nf(p),b=tt.forwardRef((w,N)=>{const{scope:E,children:C,...P}=w,k=tt.useRef(null),T=Tt(N,k),R=o(p,E);return tt.useEffect(()=>(R.itemMap.set(k,{ref:k,...P}),()=>{R.itemMap.delete(k)})),r.jsx(v,{[x]:"",ref:T,children:C})});b.displayName=p;function S(w){const N=o(e+"CollectionConsumer",w);return tt.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const P=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((R,A)=>P.indexOf(R.ref.current)-P.indexOf(A.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},S,s]}var SA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],St=SA.reduce((e,t)=>{const n=Nf(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function O1(e,t){e&&pi.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function I1(e,t=globalThis?.document){const n=Jt(e);h.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var CA="DismissableLayer",Ug="dismissableLayer.update",EA="dismissableLayer.pointerDownOutside",_A="dismissableLayer.focusOutside",cb,M1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mm=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...f}=e,m=h.useContext(M1),[p,x]=h.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=h.useState({}),S=Tt(t,A=>x(A)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),C=p?w.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,k=C>=E,T=kA(A=>{const B=A.target,Z=[...m.branches].some($=>$.contains(B));!k||Z||(i?.(A),u?.(A),A.defaultPrevented||c?.())},v),R=TA(A=>{const B=A.target;[...m.branches].some($=>$.contains(B))||(o?.(A),u?.(A),A.defaultPrevented||c?.())},v);return I1(A=>{C===m.layers.size-1&&(s?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},v),h.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(cb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),ub(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=cb)}},[p,v,n,m]),h.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),ub())},[p,m]),h.useEffect(()=>{const A=()=>b({});return document.addEventListener(Ug,A),()=>document.removeEventListener(Ug,A)},[]),r.jsx(St.div,{...f,ref:S,style:{pointerEvents:P?k?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,R.onFocusCapture),onBlurCapture:st(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,T.onPointerDownCapture)})});mm.displayName=CA;var PA="DismissableLayerBranch",D1=h.forwardRef((e,t)=>{const n=h.useContext(M1),s=h.useRef(null),i=Tt(t,s);return h.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(St.div,{...e,ref:i})});D1.displayName=PA;function kA(e,t=globalThis?.document){const n=Jt(e),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const o=c=>{if(c.target&&!s.current){let f=function(){$1(EA,n,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function TA(e,t=globalThis?.document){const n=Jt(e),s=h.useRef(!1);return h.useEffect(()=>{const i=o=>{o.target&&!s.current&&$1(_A,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ub(){const e=new CustomEvent(Ug);document.dispatchEvent(e)}function $1(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?O1(i,o):i.dispatchEvent(o)}var AA=mm,RA=D1,jn=globalThis?.document?h.useLayoutEffect:()=>{},OA="Portal",Bx=h.forwardRef((e,t)=>{const{container:n,...s}=e,[i,o]=h.useState(!1);jn(()=>o(!0),[]);const u=n||i&&globalThis?.document?.body;return u?Vx.createPortal(r.jsx(St.div,{...s,ref:t}),u):null});Bx.displayName=OA;function IA(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Vi=e=>{const{present:t,children:n}=e,s=MA(t),i=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Tt(s.ref,DA(i));return typeof n=="function"||s.isPresent?h.cloneElement(i,{ref:o}):null};Vi.displayName="Presence";function MA(e){const[t,n]=h.useState(),s=h.useRef({}),i=h.useRef(e),o=h.useRef("none"),u=e?"mounted":"unmounted",[c,f]=IA(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const m=Ud(s.current);o.current=c==="mounted"?m:"none"},[c]),jn(()=>{const m=s.current,p=i.current;if(p!==e){const v=o.current,b=Ud(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),jn(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,x=b=>{const w=Ud(s.current).includes(b.animationName);if(b.target===t&&w&&(f("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=b=>{b.target===t&&(o.current=Ud(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:h.useCallback(m=>{m&&(s.current=getComputedStyle(m)),n(m)},[])}}function Ud(e){return e?.animationName||"none"}function DA(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=$A({defaultProp:t,onChange:n}),o=e!==void 0,u=o?e:s,c=Jt(n),f=h.useCallback(m=>{if(o){const x=typeof m=="function"?m(e):m;x!==e&&c(x)}else i(m)},[o,e,i,c]);return[u,f]}function $A({defaultProp:e,onChange:t}){const n=h.useState(e),[s]=n,i=h.useRef(s),o=Jt(t);return h.useEffect(()=>{i.current!==s&&(o(s),i.current=s)},[s,i,o]),n}var LA="VisuallyHidden",mu=h.forwardRef((e,t)=>r.jsx(St.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));mu.displayName=LA;var FA=mu,qx="ToastProvider",[Hx,zA,VA]=Ux("Toast"),[L1]=fs("Toast",[VA]),[UA,hm]=L1(qx),F1=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:u}=e,[c,f]=h.useState(null),[m,p]=h.useState(0),x=h.useRef(!1),v=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qx}\`. Expected non-empty \`string\`.`),r.jsx(Hx.Provider,{scope:t,children:r.jsx(UA,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:o,toastCount:m,viewport:c,onViewportChange:f,onToastAdd:h.useCallback(()=>p(b=>b+1),[]),onToastRemove:h.useCallback(()=>p(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:v,children:u})})};F1.displayName=qx;var z1="ToastViewport",BA=["F8"],Bg="toast.viewportPause",qg="toast.viewportResume",V1=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=BA,label:i="Notifications ({hotkey})",...o}=e,u=hm(z1,n),c=zA(n),f=h.useRef(null),m=h.useRef(null),p=h.useRef(null),x=h.useRef(null),v=Tt(t,x,u.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;h.useEffect(()=>{const N=E=>{s.length!==0&&s.every(P=>E[P]||E.code===P)&&x.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),h.useEffect(()=>{const N=f.current,E=x.current;if(S&&N&&E){const C=()=>{if(!u.isClosePausedRef.current){const R=new CustomEvent(Bg);E.dispatchEvent(R),u.isClosePausedRef.current=!0}},P=()=>{if(u.isClosePausedRef.current){const R=new CustomEvent(qg);E.dispatchEvent(R),u.isClosePausedRef.current=!1}},k=R=>{!N.contains(R.relatedTarget)&&P()},T=()=>{N.contains(document.activeElement)||P()};return N.addEventListener("focusin",C),N.addEventListener("focusout",k),N.addEventListener("pointermove",C),N.addEventListener("pointerleave",T),window.addEventListener("blur",C),window.addEventListener("focus",P),()=>{N.removeEventListener("focusin",C),N.removeEventListener("focusout",k),N.removeEventListener("pointermove",C),N.removeEventListener("pointerleave",T),window.removeEventListener("blur",C),window.removeEventListener("focus",P)}}},[S,u.isClosePausedRef]);const w=h.useCallback(({tabbingDirection:N})=>{const C=c().map(P=>{const k=P.ref.current,T=[k,...nR(k)];return N==="forwards"?T:T.reverse()});return(N==="forwards"?C.reverse():C).flat()},[c]);return h.useEffect(()=>{const N=x.current;if(N){const E=C=>{const P=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!P){const T=document.activeElement,R=C.shiftKey;if(C.target===N&&R){m.current?.focus();return}const Z=w({tabbingDirection:R?"backwards":"forwards"}),$=Z.findIndex(re=>re===T);Kp(Z.slice($+1))?C.preventDefault():R?m.current?.focus():p.current?.focus()}};return N.addEventListener("keydown",E),()=>N.removeEventListener("keydown",E)}},[c,w]),r.jsxs(RA,{ref:f,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&r.jsx(Hg,{ref:m,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});Kp(N)}}),r.jsx(Hx.Slot,{scope:n,children:r.jsx(St.ol,{tabIndex:-1,...o,ref:v})}),S&&r.jsx(Hg,{ref:p,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});Kp(N)}})]})});V1.displayName=z1;var U1="ToastFocusProxy",Hg=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,o=hm(U1,n);return r.jsx(mu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{const c=u.relatedTarget;!o.viewport?.contains(c)&&s()}})});Hg.displayName=U1;var pm="Toast",qA="toast.swipeStart",HA="toast.swipeMove",WA="toast.swipeCancel",KA="toast.swipeEnd",B1=h.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:o,...u}=e,[c=!0,f]=fl({prop:s,defaultProp:i,onChange:o});return r.jsx(Vi,{present:n||c,children:r.jsx(ZA,{open:c,...u,ref:t,onClose:()=>f(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:st(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(e.onSwipeMove,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:st(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(e.onSwipeEnd,m=>{const{x:p,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),f(!1)})})})});B1.displayName=pm;var[QA,GA]=L1(pm,{onClose(){}}),ZA=h.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:o,onClose:u,onEscapeKeyDown:c,onPause:f,onResume:m,onSwipeStart:p,onSwipeMove:x,onSwipeCancel:v,onSwipeEnd:b,...S}=e,w=hm(pm,n),[N,E]=h.useState(null),C=Tt(t,Y=>E(Y)),P=h.useRef(null),k=h.useRef(null),T=i||w.duration,R=h.useRef(0),A=h.useRef(T),B=h.useRef(0),{onToastAdd:Z,onToastRemove:$}=w,re=Jt(()=>{N?.contains(document.activeElement)&&w.viewport?.focus(),u()}),H=h.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(B.current),R.current=new Date().getTime(),B.current=window.setTimeout(re,Y))},[re]);h.useEffect(()=>{const Y=w.viewport;if(Y){const ve=()=>{H(A.current),m?.()},W=()=>{const he=new Date().getTime()-R.current;A.current=A.current-he,window.clearTimeout(B.current),f?.()};return Y.addEventListener(Bg,W),Y.addEventListener(qg,ve),()=>{Y.removeEventListener(Bg,W),Y.removeEventListener(qg,ve)}}},[w.viewport,T,f,m,H]),h.useEffect(()=>{o&&!w.isClosePausedRef.current&&H(T)},[o,T,w.isClosePausedRef,H]),h.useEffect(()=>(Z(),()=>$()),[Z,$]);const ie=h.useMemo(()=>N?Z1(N):null,[N]);return w.viewport?r.jsxs(r.Fragment,{children:[ie&&r.jsx(XA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:ie}),r.jsx(QA,{scope:n,onClose:re,children:pi.createPortal(r.jsx(Hx.ItemSlot,{scope:n,children:r.jsx(AA,{asChild:!0,onEscapeKeyDown:st(c,()=>{w.isFocusedToastEscapeKeyDownRef.current||re(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(St.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...S,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:st(e.onKeyDown,Y=>{Y.key==="Escape"&&(c?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:st(e.onPointerDown,Y=>{Y.button===0&&(P.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:st(e.onPointerMove,Y=>{if(!P.current)return;const ve=Y.clientX-P.current.x,W=Y.clientY-P.current.y,he=!!k.current,L=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,J=L?z(0,ve):0,I=L?0:z(0,W),ee=Y.pointerType==="touch"?10:2,Ae={x:J,y:I},Ve={originalEvent:Y,delta:Ae};he?(k.current=Ae,Bd(HA,x,Ve,{discrete:!1})):db(Ae,w.swipeDirection,ee)?(k.current=Ae,Bd(qA,p,Ve,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(ve)>ee||Math.abs(W)>ee)&&(P.current=null)}),onPointerUp:st(e.onPointerUp,Y=>{const ve=k.current,W=Y.target;if(W.hasPointerCapture(Y.pointerId)&&W.releasePointerCapture(Y.pointerId),k.current=null,P.current=null,ve){const he=Y.currentTarget,L={originalEvent:Y,delta:ve};db(ve,w.swipeDirection,w.swipeThreshold)?Bd(KA,b,L,{discrete:!0}):Bd(WA,v,L,{discrete:!0}),he.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),XA=e=>{const{__scopeToast:t,children:n,...s}=e,i=hm(pm,t),[o,u]=h.useState(!1),[c,f]=h.useState(!1);return eR(()=>u(!0)),h.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),c?null:r.jsx(Bx,{asChild:!0,children:r.jsx(mu,{...s,children:o&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},JA="ToastTitle",q1=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(St.div,{...s,ref:t})});q1.displayName=JA;var YA="ToastDescription",H1=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(St.div,{...s,ref:t})});H1.displayName=YA;var W1="ToastAction",K1=h.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(G1,{altText:n,asChild:!0,children:r.jsx(Wx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${W1}\`. Expected non-empty \`string\`.`),null)});K1.displayName=W1;var Q1="ToastClose",Wx=h.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=GA(Q1,n);return r.jsx(G1,{asChild:!0,children:r.jsx(St.button,{type:"button",...s,ref:t,onClick:st(e.onClick,i.onClose)})})});Wx.displayName=Q1;var G1=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(St.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function Z1(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),tR(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const u=s.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Z1(s))}}),t}function Bd(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?O1(i,o):i.dispatchEvent(o)}var db=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),o=s>i;return t==="left"||t==="right"?o&&s>n:!o&&i>n};function eR(e=()=>{}){const t=Jt(e);jn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function tR(e){return e.nodeType===e.ELEMENT_NODE}function nR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var rR=F1,X1=V1,J1=B1,Y1=q1,eN=H1,tN=K1,nN=Wx;function rN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function sN(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rN(e))&&(s&&(s+=" "),s+=t);return s}const fb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mb=sN,gm=(e,t)=>n=>{var s;if(t?.variants==null)return mb(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,u=Object.keys(i).map(m=>{const p=n?.[m],x=o?.[m];if(p===null)return null;const v=fb(p)||fb(x);return i[m][v]}),c=n&&Object.entries(n).reduce((m,p)=>{let[x,v]=p;return v===void 0||(m[x]=v),m},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,p)=>{let{class:x,className:v,...b}=p;return Object.entries(b).every(S=>{let[w,N]=S;return Array.isArray(N)?N.includes({...o,...c}[w]):{...o,...c}[w]===N})?[...m,x,v]:m},[]);return mb(e,u,f,n?.class,n?.className)};const sR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");var iR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aR=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:u,...c},f)=>h.createElement("svg",{ref:f,...iR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:iN("lucide",i),...c},[...u.map(([m,p])=>h.createElement(m,p)),...Array.isArray(o)?o:[o]]));const Pe=(e,t)=>{const n=h.forwardRef(({className:s,...i},o)=>h.createElement(aR,{ref:o,iconNode:t,className:iN(`lucide-${sR(e)}`,s),...i}));return n.displayName=`${e}`,n};const oR=Pe("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);const pr=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const aN=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const lR=Pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const oN=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const lN=Pe("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const Nn=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const hb=Pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const cR=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const df=Pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const fr=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const uR=Pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const dR=Pe("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);const fR=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const xm=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Kx=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const kl=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const xo=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const mR=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const hR=Pe("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);const pR=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ks=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Cs=Pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ri=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Qx=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const ml=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const gR=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const hl=Pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const xR=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const vm=Pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const vR=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Wg=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ls=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const sr=Pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const cN=Pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const Uc=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const cs=Pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const yR=Pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const uN=Pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const li=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const wR=Pe("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);const bR=Pe("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);const Oc=Pe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);const dN=Pe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const fN=Pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const ze=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const mN=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const pb=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const gb=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Oi=Pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const jR=Pe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);const Ic=Pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const NR=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const SR=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const pl=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const CR=Pe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const ER=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const _R=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const hu=Pe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);const PR=Pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Js=Pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const kR=Pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const $n=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const hN=Pe("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);const si=Pe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);const TR=Pe("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);const vo=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const wa=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Gx=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ym=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const pN=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Bc=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Qp=Pe("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);const va=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const no=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const xb=Pe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const AR=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Kg=Pe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const Sf=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const RR=Pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const OR=Pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const IR=Pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const An=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const qc=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const MR=Pe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);const DR=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const vb=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const rr=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ii=Pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const $R=Pe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const LR=Pe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const ro=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const wm=Pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Zx="-",FR=e=>{const t=VR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const c=u.split(Zx);return c[0]===""&&c.length!==1&&c.shift(),gN(c,t)||zR(u)},getConflictingClassGroupIds:(u,c)=>{const f=n[u]||[];return c&&s[u]?[...f,...s[u]]:f}}},gN=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?gN(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Zx);return t.validators.find(({validator:u})=>u(o))?.classGroupId},yb=/^\[(.+)\]$/,zR=e=>{if(yb.test(e)){const t=yb.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},VR=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return BR(Object.entries(e.classGroups),n).forEach(([o,u])=>{Qg(u,s,o,t)}),s},Qg=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:wb(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(UR(i)){Qg(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,u])=>{Qg(u,wb(t,o),n,s)})})},wb=(e,t)=>{let n=e;return t.split(Zx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},UR=e=>e.isThemeGetter,BR=(e,t)=>t?e.map(([n,s])=>{const i=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([u,c])=>[t+u,c])):o);return[n,i]}):e,qR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(o,u)=>{n.set(o,u),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let u=n.get(o);if(u!==void 0)return u;if((u=s.get(o))!==void 0)return i(o,u),u},set(o,u){n.has(o)?n.set(o,u):i(o,u)}}},xN="!",HR=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],o=t.length,u=c=>{const f=[];let m=0,p=0,x;for(let N=0;N<c.length;N++){let E=c[N];if(m===0){if(E===i&&(s||c.slice(N,N+o)===t)){f.push(c.slice(p,N)),p=N+o;continue}if(E==="/"){x=N;continue}}E==="["?m++:E==="]"&&m--}const v=f.length===0?c:c.substring(p),b=v.startsWith(xN),S=b?v.substring(1):v,w=x&&x>p?x-p:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:w}};return n?c=>n({className:c,parseClassName:u}):u},WR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},KR=e=>({cache:qR(e.cacheSize),parseClassName:HR(e),...FR(e)}),QR=/\s+/,GR=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,o=[],u=e.trim().split(QR);let c="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:p,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:b}=n(m);let S=!!b,w=s(S?v.substring(0,b):v);if(!w){if(!S){c=m+(c.length>0?" "+c:c);continue}if(w=s(v),!w){c=m+(c.length>0?" "+c:c);continue}S=!1}const N=WR(p).join(":"),E=x?N+xN:N,C=E+w;if(o.includes(C))continue;o.push(C);const P=i(w,S);for(let k=0;k<P.length;++k){const T=P[k];o.push(E+T)}c=m+(c.length>0?" "+c:c)}return c};function ZR(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vN(t))&&(s&&(s+=" "),s+=n);return s}const vN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=vN(e[s]))&&(n&&(n+=" "),n+=t);return n};function XR(e,...t){let n,s,i,o=u;function u(f){const m=t.reduce((p,x)=>x(p),e());return n=KR(m),s=n.cache.get,i=n.cache.set,o=c,c(f)}function c(f){const m=s(f);if(m)return m;const p=GR(f,n);return i(f,p),p}return function(){return o(ZR.apply(null,arguments))}}const Xt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},yN=/^\[(?:([a-z-]+):)?(.+)\]$/i,JR=/^\d+\/\d+$/,YR=new Set(["px","full","screen"]),eO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=e=>sl(e)||YR.has(e)||JR.test(e),ca=e=>Tl(e,"length",fO),sl=e=>!!e&&!Number.isNaN(Number(e)),Gp=e=>Tl(e,"number",sl),jc=e=>!!e&&Number.isInteger(Number(e)),iO=e=>e.endsWith("%")&&sl(e.slice(0,-1)),Ct=e=>yN.test(e),ua=e=>eO.test(e),aO=new Set(["length","size","percentage"]),oO=e=>Tl(e,aO,wN),lO=e=>Tl(e,"position",wN),cO=new Set(["image","url"]),uO=e=>Tl(e,cO,hO),dO=e=>Tl(e,"",mO),Nc=()=>!0,Tl=(e,t,n)=>{const s=yN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},fO=e=>tO.test(e)&&!nO.test(e),wN=()=>!1,mO=e=>rO.test(e),hO=e=>sO.test(e),pO=()=>{const e=Xt("colors"),t=Xt("spacing"),n=Xt("blur"),s=Xt("brightness"),i=Xt("borderColor"),o=Xt("borderRadius"),u=Xt("borderSpacing"),c=Xt("borderWidth"),f=Xt("contrast"),m=Xt("grayscale"),p=Xt("hueRotate"),x=Xt("invert"),v=Xt("gap"),b=Xt("gradientColorStops"),S=Xt("gradientColorStopPositions"),w=Xt("inset"),N=Xt("margin"),E=Xt("opacity"),C=Xt("padding"),P=Xt("saturate"),k=Xt("scale"),T=Xt("sepia"),R=Xt("skew"),A=Xt("space"),B=Xt("translate"),Z=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",Ct,t],H=()=>[Ct,t],ie=()=>["",ki,ca],Y=()=>["auto",sl,Ct],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ct],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[sl,Ct];return{cacheSize:500,separator:":",theme:{colors:[Nc],spacing:[ki,ca],blur:["none","",ua,Ct],brightness:I(),borderColor:[e],borderRadius:["none","","full",ua,Ct],borderSpacing:H(),borderWidth:ie(),contrast:I(),grayscale:z(),hueRotate:I(),invert:z(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[iO,ca],inset:re(),margin:re(),opacity:I(),padding:H(),saturate:I(),scale:I(),sepia:z(),skew:I(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),Ct]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jc,Ct]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",jc,Ct]}],"grid-cols":[{"grid-cols":[Nc]}],"col-start-end":[{col:["auto",{span:["full",jc,Ct]},Ct]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Nc]}],"row-start-end":[{row:["auto",{span:[jc,Ct]},Ct]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,t]}],"min-w":[{"min-w":[Ct,t,"min","max","fit"]}],"max-w":[{"max-w":[Ct,t,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[Ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gp]}],"font-family":[{font:[Nc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",sl,Gp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ki,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ki,ca]}],"underline-offset":[{"underline-offset":["auto",ki,Ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),lO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ki,Ct]}],"outline-w":[{outline:[ki,ca]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ki,ca]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ua,dO]}],"shadow-color":[{shadow:[Nc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",ua,Ct]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[P]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[jc,Ct]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ki,ca,Gp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gO=XR(pO);function Be(...e){return gO(sN(e))}const xO=rR,bN=h.forwardRef(({className:e,...t},n)=>r.jsx(X1,{ref:n,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bN.displayName=X1.displayName;const vO=gm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jN=h.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(J1,{ref:s,className:Be(vO({variant:t}),e),...n}));jN.displayName=J1.displayName;const yO=h.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yO.displayName=tN.displayName;const NN=h.forwardRef(({className:e,...t},n)=>r.jsx(nN,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(ro,{className:"h-4 w-4"})}));NN.displayName=nN.displayName;const SN=h.forwardRef(({className:e,...t},n)=>r.jsx(Y1,{ref:n,className:Be("text-sm font-semibold",e),...t}));SN.displayName=Y1.displayName;const CN=h.forwardRef(({className:e,...t},n)=>r.jsx(eN,{ref:n,className:Be("text-sm opacity-90",e),...t}));CN.displayName=eN.displayName;function wO(){const{toasts:e}=rt();return r.jsxs(xO,{children:[e.map(function({id:t,title:n,description:s,action:i,...o}){return r.jsxs(jN,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(SN,{children:n}),s&&r.jsx(CN,{children:s})]}),i,r.jsx(NN,{})]},t)}),r.jsx(bN,{})]})}var bO=Oa[" useId ".trim().toString()]||(()=>{}),jO=0;function ba(e){const[t,n]=h.useState(bO());return jn(()=>{n(s=>s??String(jO++))},[e]),t?`radix-${t}`:""}const NO=["top","right","bottom","left"],Sa=Math.min,Hr=Math.max,Cf=Math.round,qd=Math.floor,ii=e=>({x:e,y:e}),SO={left:"right",right:"left",bottom:"top",top:"bottom"},CO={start:"end",end:"start"};function Gg(e,t,n){return Hr(e,Sa(t,n))}function Mi(e,t){return typeof e=="function"?e(t):e}function Di(e){return e.split("-")[0]}function Al(e){return e.split("-")[1]}function Xx(e){return e==="x"?"y":"x"}function Jx(e){return e==="y"?"height":"width"}function Ca(e){return["top","bottom"].includes(Di(e))?"y":"x"}function Yx(e){return Xx(Ca(e))}function EO(e,t,n){n===void 0&&(n=!1);const s=Al(e),i=Yx(e),o=Jx(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=Ef(u)),[u,Ef(u)]}function _O(e){const t=Ef(e);return[Zg(e),t,Zg(t)]}function Zg(e){return e.replace(/start|end/g,t=>CO[t])}function PO(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:u;default:return[]}}function kO(e,t,n,s){const i=Al(e);let o=PO(Di(e),n==="start",s);return i&&(o=o.map(u=>u+"-"+i),t&&(o=o.concat(o.map(Zg)))),o}function Ef(e){return e.replace(/left|right|bottom|top/g,t=>SO[t])}function TO(e){return{top:0,right:0,bottom:0,left:0,...e}}function EN(e){return typeof e!="number"?TO(e):{top:e,right:e,bottom:e,left:e}}function _f(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function bb(e,t,n){let{reference:s,floating:i}=e;const o=Ca(t),u=Yx(t),c=Jx(u),f=Di(t),m=o==="y",p=s.x+s.width/2-i.width/2,x=s.y+s.height/2-i.height/2,v=s[c]/2-i[c]/2;let b;switch(f){case"top":b={x:p,y:s.y-i.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:x};break;case"left":b={x:s.x-i.width,y:x};break;default:b={x:s.x,y:s.y}}switch(Al(t)){case"start":b[u]-=v*(n&&m?-1:1);break;case"end":b[u]+=v*(n&&m?-1:1);break}return b}const AO=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:u}=n,c=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:x}=bb(m,s,f),v=s,b={},S=0;for(let w=0;w<c.length;w++){const{name:N,fn:E}=c[w],{x:C,y:P,data:k,reset:T}=await E({x:p,y:x,initialPlacement:s,placement:v,strategy:i,middlewareData:b,rects:m,platform:u,elements:{reference:e,floating:t}});p=C??p,x=P??x,b={...b,[N]:{...b[N],...k}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(m=T.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:p,y:x}=bb(m,v,f)),w=-1)}return{x:p,y:x,placement:v,strategy:i,middlewareData:b}};async function Hc(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:u,elements:c,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:v=!1,padding:b=0}=Mi(t,e),S=EN(b),N=c[v?x==="floating"?"reference":"floating":x],E=_f(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:m,rootBoundary:p,strategy:f})),C=x==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),k=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},T=_f(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:P,strategy:f}):C);return{top:(E.top-T.top+S.top)/k.y,bottom:(T.bottom-E.bottom+S.bottom)/k.y,left:(E.left-T.left+S.left)/k.x,right:(T.right-E.right+S.right)/k.x}}const RO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:u,elements:c,middlewareData:f}=t,{element:m,padding:p=0}=Mi(e,t)||{};if(m==null)return{};const x=EN(p),v={x:n,y:s},b=Yx(i),S=Jx(b),w=await u.getDimensions(m),N=b==="y",E=N?"top":"left",C=N?"bottom":"right",P=N?"clientHeight":"clientWidth",k=o.reference[S]+o.reference[b]-v[b]-o.floating[S],T=v[b]-o.reference[b],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let A=R?R[P]:0;(!A||!await(u.isElement==null?void 0:u.isElement(R)))&&(A=c.floating[P]||o.floating[S]);const B=k/2-T/2,Z=A/2-w[S]/2-1,$=Sa(x[E],Z),re=Sa(x[C],Z),H=$,ie=A-w[S]-re,Y=A/2-w[S]/2+B,ve=Gg(H,Y,ie),W=!f.arrow&&Al(i)!=null&&Y!==ve&&o.reference[S]/2-(Y<H?$:re)-w[S]/2<0,he=W?Y<H?Y-H:Y-ie:0;return{[b]:v[b]+he,data:{[b]:ve,centerOffset:Y-ve-he,...W&&{alignmentOffset:he}},reset:W}}}),OO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:u,initialPlacement:c,platform:f,elements:m}=t,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...N}=Mi(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Di(i),C=Ca(c),P=Di(c)===c,k=await(f.isRTL==null?void 0:f.isRTL(m.floating)),T=v||(P||!w?[Ef(c)]:_O(c)),R=S!=="none";!v&&R&&T.push(...kO(c,w,S,k));const A=[c,...T],B=await Hc(t,N),Z=[];let $=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&Z.push(B[E]),x){const Y=EO(i,u,k);Z.push(B[Y[0]],B[Y[1]])}if($=[...$,{placement:i,overflows:Z}],!Z.every(Y=>Y<=0)){var re,H;const Y=(((re=o.flip)==null?void 0:re.index)||0)+1,ve=A[Y];if(ve)return{data:{index:Y,overflows:$},reset:{placement:ve}};let W=(H=$.filter(he=>he.overflows[0]<=0).sort((he,L)=>he.overflows[1]-L.overflows[1])[0])==null?void 0:H.placement;if(!W)switch(b){case"bestFit":{var ie;const he=(ie=$.filter(L=>{if(R){const z=Ca(L.placement);return z===C||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,J)=>z+J,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:ie[0];he&&(W=he);break}case"initialPlacement":W=c;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function jb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nb(e){return NO.some(t=>e[t]>=0)}const IO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Mi(e,t);switch(s){case"referenceHidden":{const o=await Hc(t,{...i,elementContext:"reference"}),u=jb(o,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Nb(u)}}}case"escaped":{const o=await Hc(t,{...i,altBoundary:!0}),u=jb(o,n.floating);return{data:{escapedOffsets:u,escaped:Nb(u)}}}default:return{}}}}};async function MO(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=Di(n),c=Al(n),f=Ca(n)==="y",m=["left","top"].includes(u)?-1:1,p=o&&f?-1:1,x=Mi(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof S=="number"&&(b=c==="end"?S*-1:S),f?{x:b*p,y:v*m}:{x:v*m,y:b*p}}const DO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:u,middlewareData:c}=t,f=await MO(t,e);return u===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:u}}}}},$O=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:c={fn:N=>{let{x:E,y:C}=N;return{x:E,y:C}}},...f}=Mi(e,t),m={x:n,y:s},p=await Hc(t,f),x=Ca(Di(i)),v=Xx(x);let b=m[v],S=m[x];if(o){const N=v==="y"?"top":"left",E=v==="y"?"bottom":"right",C=b+p[N],P=b-p[E];b=Gg(C,b,P)}if(u){const N=x==="y"?"top":"left",E=x==="y"?"bottom":"right",C=S+p[N],P=S-p[E];S=Gg(C,S,P)}const w=c.fn({...t,[v]:b,[x]:S});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[v]:o,[x]:u}}}}}},LO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:u}=t,{offset:c=0,mainAxis:f=!0,crossAxis:m=!0}=Mi(e,t),p={x:n,y:s},x=Ca(i),v=Xx(x);let b=p[v],S=p[x];const w=Mi(c,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const P=v==="y"?"height":"width",k=o.reference[v]-o.floating[P]+N.mainAxis,T=o.reference[v]+o.reference[P]-N.mainAxis;b<k?b=k:b>T&&(b=T)}if(m){var E,C;const P=v==="y"?"width":"height",k=["top","left"].includes(Di(i)),T=o.reference[x]-o.floating[P]+(k&&((E=u.offset)==null?void 0:E[x])||0)+(k?0:N.crossAxis),R=o.reference[x]+o.reference[P]+(k?0:((C=u.offset)==null?void 0:C[x])||0)-(k?N.crossAxis:0);S<T?S=T:S>R&&(S=R)}return{[v]:b,[x]:S}}}},FO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:u,elements:c}=t,{apply:f=()=>{},...m}=Mi(e,t),p=await Hc(t,m),x=Di(i),v=Al(i),b=Ca(i)==="y",{width:S,height:w}=o.floating;let N,E;x==="top"||x==="bottom"?(N=x,E=v===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(E=x,N=v==="end"?"top":"bottom");const C=w-p.top-p.bottom,P=S-p.left-p.right,k=Sa(w-p[N],C),T=Sa(S-p[E],P),R=!t.middlewareData.shift;let A=k,B=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=P),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=C),R&&!v){const $=Hr(p.left,0),re=Hr(p.right,0),H=Hr(p.top,0),ie=Hr(p.bottom,0);b?B=S-2*($!==0||re!==0?$+re:Hr(p.left,p.right)):A=w-2*(H!==0||ie!==0?H+ie:Hr(p.top,p.bottom))}await f({...t,availableWidth:B,availableHeight:A});const Z=await u.getDimensions(c.floating);return S!==Z.width||w!==Z.height?{reset:{rects:!0}}:{}}}};function bm(){return typeof window<"u"}function Rl(e){return _N(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gi(e){var t;return(t=(_N(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _N(e){return bm()?e instanceof Node||e instanceof Qr(e).Node:!1}function Rs(e){return bm()?e instanceof Element||e instanceof Qr(e).Element:!1}function ci(e){return bm()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function Sb(e){return!bm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}function pu(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function zO(e){return["table","td","th"].includes(Rl(e))}function jm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ev(e){const t=tv(),n=Rs(e)?Os(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function VO(e){let t=Ea(e);for(;ci(t)&&!gl(t);){if(ev(t))return t;if(jm(t))return null;t=Ea(t)}return null}function tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gl(e){return["html","body","#document"].includes(Rl(e))}function Os(e){return Qr(e).getComputedStyle(e)}function Nm(e){return Rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ea(e){if(Rl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sb(e)&&e.host||gi(e);return Sb(t)?t.host:t}function PN(e){const t=Ea(e);return gl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ci(t)&&pu(t)?t:PN(t)}function Wc(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=PN(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),u=Qr(i);if(o){const c=Xg(u);return t.concat(u,u.visualViewport||[],pu(i)?i:[],c&&n?Wc(c):[])}return t.concat(i,Wc(i,[],n))}function Xg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kN(e){const t=Os(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=ci(e),o=i?e.offsetWidth:n,u=i?e.offsetHeight:s,c=Cf(n)!==o||Cf(s)!==u;return c&&(n=o,s=u),{width:n,height:s,$:c}}function nv(e){return Rs(e)?e:e.contextElement}function il(e){const t=nv(e);if(!ci(t))return ii(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=kN(t);let u=(o?Cf(n.width):n.width)/s,c=(o?Cf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const UO=ii(0);function TN(e){const t=Qr(e);return!tv()||!t.visualViewport?UO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qr(e)?!1:t}function co(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=nv(e);let u=ii(1);t&&(s?Rs(s)&&(u=il(s)):u=il(e));const c=BO(o,n,s)?TN(o):ii(0);let f=(i.left+c.x)/u.x,m=(i.top+c.y)/u.y,p=i.width/u.x,x=i.height/u.y;if(o){const v=Qr(o),b=s&&Rs(s)?Qr(s):s;let S=v,w=Xg(S);for(;w&&s&&b!==S;){const N=il(w),E=w.getBoundingClientRect(),C=Os(w),P=E.left+(w.clientLeft+parseFloat(C.paddingLeft))*N.x,k=E.top+(w.clientTop+parseFloat(C.paddingTop))*N.y;f*=N.x,m*=N.y,p*=N.x,x*=N.y,f+=P,m+=k,S=Qr(w),w=Xg(S)}}return _f({width:p,height:x,x:f,y:m})}function rv(e,t){const n=Nm(e).scrollLeft;return t?t.left+n:co(gi(e)).left+n}function AN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:rv(e,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function qO(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",u=gi(s),c=t?jm(t.floating):!1;if(s===u||c&&o)return n;let f={scrollLeft:0,scrollTop:0},m=ii(1);const p=ii(0),x=ci(s);if((x||!x&&!o)&&((Rl(s)!=="body"||pu(u))&&(f=Nm(s)),ci(s))){const b=co(s);m=il(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const v=u&&!x&&!o?AN(u,f,!0):ii(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+p.x+v.x,y:n.y*m.y-f.scrollTop*m.y+p.y+v.y}}function HO(e){return Array.from(e.getClientRects())}function WO(e){const t=gi(e),n=Nm(e),s=e.ownerDocument.body,i=Hr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Hr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+rv(e);const c=-n.scrollTop;return Os(s).direction==="rtl"&&(u+=Hr(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:u,y:c}}function KO(e,t){const n=Qr(e),s=gi(e),i=n.visualViewport;let o=s.clientWidth,u=s.clientHeight,c=0,f=0;if(i){o=i.width,u=i.height;const m=tv();(!m||m&&t==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:u,x:c,y:f}}function QO(e,t){const n=co(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=ci(e)?il(e):ii(1),u=e.clientWidth*o.x,c=e.clientHeight*o.y,f=i*o.x,m=s*o.y;return{width:u,height:c,x:f,y:m}}function Cb(e,t,n){let s;if(t==="viewport")s=KO(e,n);else if(t==="document")s=WO(gi(e));else if(Rs(t))s=QO(t,n);else{const i=TN(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _f(s)}function RN(e,t){const n=Ea(e);return n===t||!Rs(n)||gl(n)?!1:Os(n).position==="fixed"||RN(n,t)}function GO(e,t){const n=t.get(e);if(n)return n;let s=Wc(e,[],!1).filter(c=>Rs(c)&&Rl(c)!=="body"),i=null;const o=Os(e).position==="fixed";let u=o?Ea(e):e;for(;Rs(u)&&!gl(u);){const c=Os(u),f=ev(u);!f&&c.position==="fixed"&&(i=null),(o?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pu(u)&&!f&&RN(e,u))?s=s.filter(p=>p!==u):i=c,u=Ea(u)}return t.set(e,s),s}function ZO(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const u=[...n==="clippingAncestors"?jm(t)?[]:GO(t,this._c):[].concat(n),s],c=u[0],f=u.reduce((m,p)=>{const x=Cb(t,p,i);return m.top=Hr(x.top,m.top),m.right=Sa(x.right,m.right),m.bottom=Sa(x.bottom,m.bottom),m.left=Hr(x.left,m.left),m},Cb(t,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function XO(e){const{width:t,height:n}=kN(e);return{width:t,height:n}}function JO(e,t,n){const s=ci(t),i=gi(t),o=n==="fixed",u=co(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const f=ii(0);if(s||!s&&!o)if((Rl(t)!=="body"||pu(i))&&(c=Nm(t)),s){const v=co(t,!0,o,t);f.x=v.x+t.clientLeft,f.y=v.y+t.clientTop}else i&&(f.x=rv(i));const m=i&&!s&&!o?AN(i,c):ii(0),p=u.left+c.scrollLeft-f.x-m.x,x=u.top+c.scrollTop-f.y-m.y;return{x:p,y:x,width:u.width,height:u.height}}function Zp(e){return Os(e).position==="static"}function Eb(e,t){if(!ci(e)||Os(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gi(e)===n&&(n=n.ownerDocument.body),n}function ON(e,t){const n=Qr(e);if(jm(e))return n;if(!ci(e)){let i=Ea(e);for(;i&&!gl(i);){if(Rs(i)&&!Zp(i))return i;i=Ea(i)}return n}let s=Eb(e,t);for(;s&&zO(s)&&Zp(s);)s=Eb(s,t);return s&&gl(s)&&Zp(s)&&!ev(s)?n:s||VO(e)||n}const YO=async function(e){const t=this.getOffsetParent||ON,n=this.getDimensions,s=await n(e.floating);return{reference:JO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function eI(e){return Os(e).direction==="rtl"}const tI={convertOffsetParentRelativeRectToViewportRelativeRect:qO,getDocumentElement:gi,getClippingRect:ZO,getOffsetParent:ON,getElementRects:YO,getClientRects:HO,getDimensions:XO,getScale:il,isElement:Rs,isRTL:eI};function IN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nI(e,t){let n=null,s;const i=gi(e);function o(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function u(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const m=e.getBoundingClientRect(),{left:p,top:x,width:v,height:b}=m;if(c||t(),!v||!b)return;const S=qd(x),w=qd(i.clientWidth-(p+v)),N=qd(i.clientHeight-(x+b)),E=qd(p),P={rootMargin:-S+"px "+-w+"px "+-N+"px "+-E+"px",threshold:Hr(0,Sa(1,f))||1};let k=!0;function T(R){const A=R[0].intersectionRatio;if(A!==f){if(!k)return u();A?u(!1,A):s=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!IN(m,e.getBoundingClientRect())&&u(),k=!1}try{n=new IntersectionObserver(T,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,P)}n.observe(e)}return u(!0),o}function rI(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=nv(e),p=i||o?[...m?Wc(m):[],...Wc(t)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const x=m&&c?nI(m,n):null;let v=-1,b=null;u&&(b=new ResizeObserver(E=>{let[C]=E;C&&C.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(t)})),n()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?co(e):null;f&&N();function N(){const E=co(e);w&&!IN(w,E)&&n(),w=E,S=requestAnimationFrame(N)}return n(),()=>{var E;p.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),x?.(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const sI=DO,iI=$O,aI=OO,oI=FO,lI=IO,_b=RO,cI=LO,uI=(e,t,n)=>{const s=new Map,i={platform:tI,...n},o={...i.platform,_c:s};return AO(e,t,{...i,platform:o})};var ff=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Pf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Pf(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!Pf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function MN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pb(e,t){const n=MN(e);return Math.round(t*n)/n}function Xp(e){const t=h.useRef(e);return ff(()=>{t.current=e}),t}function dI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:u}={},transform:c=!0,whileElementsMounted:f,open:m}=e,[p,x]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=h.useState(s);Pf(v,s)||b(s);const[S,w]=h.useState(null),[N,E]=h.useState(null),C=h.useCallback(L=>{L!==R.current&&(R.current=L,w(L))},[]),P=h.useCallback(L=>{L!==A.current&&(A.current=L,E(L))},[]),k=o||S,T=u||N,R=h.useRef(null),A=h.useRef(null),B=h.useRef(p),Z=f!=null,$=Xp(f),re=Xp(i),H=Xp(m),ie=h.useCallback(()=>{if(!R.current||!A.current)return;const L={placement:t,strategy:n,middleware:v};re.current&&(L.platform=re.current),uI(R.current,A.current,L).then(z=>{const J={...z,isPositioned:H.current!==!1};Y.current&&!Pf(B.current,J)&&(B.current=J,pi.flushSync(()=>{x(J)}))})},[v,t,n,re,H]);ff(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,x(L=>({...L,isPositioned:!1})))},[m]);const Y=h.useRef(!1);ff(()=>(Y.current=!0,()=>{Y.current=!1}),[]),ff(()=>{if(k&&(R.current=k),T&&(A.current=T),k&&T){if($.current)return $.current(k,T,ie);ie()}},[k,T,ie,$,Z]);const ve=h.useMemo(()=>({reference:R,floating:A,setReference:C,setFloating:P}),[C,P]),W=h.useMemo(()=>({reference:k,floating:T}),[k,T]),he=h.useMemo(()=>{const L={position:n,left:0,top:0};if(!W.floating)return L;const z=Pb(W.floating,p.x),J=Pb(W.floating,p.y);return c?{...L,transform:"translate("+z+"px, "+J+"px)",...MN(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:J}},[n,c,W.floating,p.x,p.y]);return h.useMemo(()=>({...p,update:ie,refs:ve,elements:W,floatingStyles:he}),[p,ie,ve,W,he])}const fI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?_b({element:s.current,padding:i}).fn(n):{}:s?_b({element:s,padding:i}).fn(n):{}}}},mI=(e,t)=>({...sI(e),options:[e,t]}),hI=(e,t)=>({...iI(e),options:[e,t]}),pI=(e,t)=>({...cI(e),options:[e,t]}),gI=(e,t)=>({...aI(e),options:[e,t]}),xI=(e,t)=>({...oI(e),options:[e,t]}),vI=(e,t)=>({...lI(e),options:[e,t]}),yI=(e,t)=>({...fI(e),options:[e,t]});var wI="Arrow",DN=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return r.jsx(St.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});DN.displayName=wI;var bI=DN;function sv(e){const[t,n]=h.useState(void 0);return jn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let u,c;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,c=m.blockSize}else u=e.offsetWidth,c=e.offsetHeight;n({width:u,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var iv="Popper",[$N,Sm]=fs(iv),[jI,LN]=$N(iv),FN=e=>{const{__scopePopper:t,children:n}=e,[s,i]=h.useState(null);return r.jsx(jI,{scope:t,anchor:s,onAnchorChange:i,children:n})};FN.displayName=iv;var zN="PopperAnchor",VN=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=LN(zN,n),u=h.useRef(null),c=Tt(t,u);return h.useEffect(()=>{o.onAnchorChange(s?.current||u.current)}),s?null:r.jsx(St.div,{...i,ref:c})});VN.displayName=zN;var av="PopperContent",[NI,SI]=$N(av),UN=h.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:S,...w}=e,N=LN(av,n),[E,C]=h.useState(null),P=Tt(t,xe=>C(xe)),[k,T]=h.useState(null),R=sv(k),A=R?.width??0,B=R?.height??0,Z=s+(o!=="center"?"-"+o:""),$=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(m)?m:[m],H=re.length>0,ie={padding:$,boundary:re.filter(EI),altBoundary:H},{refs:Y,floatingStyles:ve,placement:W,isPositioned:he,middlewareData:L}=dI({strategy:"fixed",placement:Z,whileElementsMounted:(...xe)=>rI(...xe,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[mI({mainAxis:i+B,alignmentAxis:u}),f&&hI({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?pI():void 0,...ie}),f&&gI({...ie}),xI({...ie,apply:({elements:xe,rects:Ue,availableWidth:q,availableHeight:Ne})=>{const{width:yt,height:Pt}=Ue.reference,Vt=xe.floating.style;Vt.setProperty("--radix-popper-available-width",`${q}px`),Vt.setProperty("--radix-popper-available-height",`${Ne}px`),Vt.setProperty("--radix-popper-anchor-width",`${yt}px`),Vt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),k&&yI({element:k,padding:c}),_I({arrowWidth:A,arrowHeight:B}),v&&vI({strategy:"referenceHidden",...ie})]}),[z,J]=HN(W),I=Jt(S);jn(()=>{he&&I?.()},[he,I]);const ee=L.arrow?.x,Ae=L.arrow?.y,Ve=L.arrow?.centerOffset!==0,[de,ge]=h.useState();return jn(()=>{E&&ge(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:he?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(NI,{scope:n,placedSide:z,onArrowChange:T,arrowX:ee,arrowY:Ae,shouldHideArrow:Ve,children:r.jsx(St.div,{"data-side":z,"data-align":J,...w,ref:P,style:{...w.style,animation:he?void 0:"none"}})})})});UN.displayName=av;var BN="PopperArrow",CI={top:"bottom",right:"left",bottom:"top",left:"right"},qN=h.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=SI(BN,s),u=CI[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(bI,{...i,ref:n,style:{...i.style,display:"block"}})})});qN.displayName=BN;function EI(e){return e!==null}var _I=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,c=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,p]=HN(n),x={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,b=(i.arrow?.y??0)+f/2;let S="",w="";return m==="bottom"?(S=u?x:`${v}px`,w=`${-f}px`):m==="top"?(S=u?x:`${v}px`,w=`${s.floating.height+f}px`):m==="right"?(S=`${-f}px`,w=u?x:`${b}px`):m==="left"&&(S=`${s.floating.width+f}px`,w=u?x:`${b}px`),{data:{x:S,y:w}}}});function HN(e){const[t,n="center"]=e.split("-");return[t,n]}var PI=FN,WN=VN,KN=UN,QN=qN,[Cm]=fs("Tooltip",[Sm]),ov=Sm(),GN="TooltipProvider",kI=700,kb="tooltip.open",[TI,ZN]=Cm(GN),XN=e=>{const{__scopeTooltip:t,delayDuration:n=kI,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=e,u=h.useRef(!0),c=h.useRef(!1),f=h.useRef(0);return h.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),r.jsx(TI,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(m=>{c.current=m},[]),disableHoverableContent:i,children:o})};XN.displayName=GN;var JN="Tooltip",[BW,Em]=Cm(JN),Jg="TooltipTrigger",AI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Em(Jg,n),o=ZN(Jg,n),u=ov(n),c=h.useRef(null),f=Tt(t,c,i.onTriggerChange),m=h.useRef(!1),p=h.useRef(!1),x=h.useCallback(()=>m.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),r.jsx(WN,{asChild:!0,...u,children:r.jsx(St.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:f,onPointerMove:st(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:st(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:st(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:st(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:st(e.onBlur,i.onClose),onClick:st(e.onClick,i.onClose)})})});AI.displayName=Jg;var RI="TooltipPortal",[qW,OI]=Cm(RI,{forceMount:void 0}),xl="TooltipContent",YN=h.forwardRef((e,t)=>{const n=OI(xl,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=e,u=Em(xl,e.__scopeTooltip);return r.jsx(Vi,{present:s||u.open,children:u.disableHoverableContent?r.jsx(eS,{side:i,...o,ref:t}):r.jsx(II,{side:i,...o,ref:t})})}),II=h.forwardRef((e,t)=>{const n=Em(xl,e.__scopeTooltip),s=ZN(xl,e.__scopeTooltip),i=h.useRef(null),o=Tt(t,i),[u,c]=h.useState(null),{trigger:f,onClose:m}=n,p=i.current,{onPointerInTransitChange:x}=s,v=h.useCallback(()=>{c(null),x(!1)},[x]),b=h.useCallback((S,w)=>{const N=S.currentTarget,E={x:S.clientX,y:S.clientY},C=FI(E,N.getBoundingClientRect()),P=zI(E,C),k=VI(w.getBoundingClientRect()),T=BI([...P,...k]);c(T),x(!0)},[x]);return h.useEffect(()=>()=>v(),[v]),h.useEffect(()=>{if(f&&p){const S=N=>b(N,p),w=N=>b(N,f);return f.addEventListener("pointerleave",S),p.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",w)}}},[f,p,b,v]),h.useEffect(()=>{if(u){const S=w=>{const N=w.target,E={x:w.clientX,y:w.clientY},C=f?.contains(N)||p?.contains(N),P=!UI(E,u);C?v():P&&(v(),m())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,p,u,m,v]),r.jsx(eS,{...e,ref:o})}),[MI,DI]=Cm(JN,{isInside:!1}),$I=wA("TooltipContent"),eS=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:u,...c}=e,f=Em(xl,n),m=ov(n),{onClose:p}=f;return h.useEffect(()=>(document.addEventListener(kb,p),()=>document.removeEventListener(kb,p)),[p]),h.useEffect(()=>{if(f.trigger){const x=v=>{v.target?.contains(f.trigger)&&p()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[f.trigger,p]),r.jsx(mm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:p,children:r.jsxs(KN,{"data-state":f.stateAttribute,...m,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx($I,{children:s}),r.jsx(MI,{scope:n,isInside:!0,children:r.jsx(FA,{id:f.contentId,role:"tooltip",children:i||s})})]})})});YN.displayName=xl;var tS="TooltipArrow",LI=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=ov(n);return DI(tS,n).isInside?null:r.jsx(QN,{...i,...s,ref:t})});LI.displayName=tS;function FI(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function zI(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function VI(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function UI(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const c=t[o].x,f=t[o].y,m=t[u].x,p=t[u].y;f>s!=p>s&&n<(m-c)*(s-f)/(p-f)+c&&(i=!i)}return i}function BI(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),qI(t)}function qI(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const o=n[n.length-1],u=n[n.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HI=XN,nS=YN;const WI=HI,KI=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(nS,{ref:s,sideOffset:t,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));KI.displayName=nS.displayName;var Dt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const u of i)o[u]=u;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of o)u[c]=i[c];return e.objectValues(u)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&o.push(u);return o},e.find=(i,o)=>{for(const u of i)if(o(u))return u},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function s(i,o=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}e.joinValues=s,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Dt||(Dt={}));var Yg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Yg||(Yg={}));const Fe=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ri=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},_e=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),QI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Gr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},s={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)s._errors.push(n(u));else{let c=s,f=0;for(;f<u.path.length;){const m=u.path[f];f===u.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(n(u))):c[m]=c[m]||{_errors:[]},c=c[m],f++}}};return i(this),s}static assert(t){if(!(t instanceof Gr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Gr.create=e=>new Gr(e);const vl=(e,t)=>{let n;switch(e.code){case _e.invalid_type:e.received===Fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Dt.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${Dt.joinValues(e.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Dt.joinValues(e.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${Dt.joinValues(e.options)}, received '${e.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Dt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case _e.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case _e.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=t.defaultError,Dt.assertNever(e)}return{message:n}};let rS=vl;function GI(e){rS=e}function kf(){return rS}const Tf=e=>{const{data:t,path:n,errorMaps:s,issueData:i}=e,o=[...n,...i.path||[]],u={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const f=s.filter(m=>!!m).slice().reverse();for(const m of f)c=m(u,{data:t,defaultError:c}).message;return{...i,path:o,message:c}},ZI=[];function Me(e,t){const n=kf(),s=Tf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vl?void 0:vl].filter(i=>!!i)});e.common.issues.push(s)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const i of n){if(i.status==="aborted")return dt;i.status==="dirty"&&t.dirty(),s.push(i.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const i of n){const o=await i.key,u=await i.value;s.push({key:o,value:u})}return gr.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const i of n){const{key:o,value:u}=i;if(o.status==="aborted"||u.status==="aborted")return dt;o.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(s[o.value]=u.value)}return{status:t.value,value:s}}}const dt=Object.freeze({status:"aborted"}),nl=e=>({status:"dirty",value:e}),Pr=e=>({status:"valid",value:e}),ex=e=>e.status==="aborted",tx=e=>e.status==="dirty",uo=e=>e.status==="valid",Kc=e=>typeof Promise<"u"&&e instanceof Promise;function Af(e,t,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sS(e,t,n,s,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Je||(Je={}));var _c,Pc;class ui{constructor(t,n,s,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tb=(e,t)=>{if(uo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gr(e.common.issues);return this._error=n,this._error}}};function Nt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:i}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(u,c)=>{var f,m;const{message:p}=e;return u.code==="invalid_enum_value"?{message:p??c.defaultError}:typeof c.data>"u"?{message:(f=p??s)!==null&&f!==void 0?f:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(m=p??n)!==null&&m!==void 0?m:c.defaultError}},description:i}}class _t{get description(){return this._def.description}_getType(t){return Ri(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ri(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gr,ctx:{common:t.parent.common,data:t.data,parsedType:Ri(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Kc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const i={common:{issues:[],async:(s=n?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ri(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Tb(i,o)}"~validate"(t){var n,s;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ri(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return uo(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((s=(n=o?.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>uo(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ri(t)},i=this._parse({data:t,path:s.path,parent:s}),o=await(Kc(i)?i:Promise.resolve(i));return Tb(s,o)}refine(t,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const u=t(i),c=()=>o.addIssue({code:_e.custom,...s(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(t,n){return this._refinement((s,i)=>t(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(t){return new Is({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ai.create(this,this._def)}nullable(){return Ta.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return As.create(this)}promise(){return wl.create(this,this._def)}or(t){return Xc.create([this,t],this._def)}and(t){return Jc.create(this,t,this._def)}transform(t){return new Is({...Nt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ru({...Nt(this._def),innerType:this,defaultValue:n,typeName:ct.ZodDefault})}brand(){return new lv({typeName:ct.ZodBranded,type:this,...Nt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new su({...Nt(this._def),innerType:this,catchValue:n,typeName:ct.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return gu.create(this,t)}readonly(){return iu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XI=/^c[^\s-]{8,}$/i,JI=/^[0-9a-z]+$/,YI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tM=/^[a-z0-9_-]{21}$/i,nM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jp;const aM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fM=new RegExp(`^${iS}$`);function aS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mM(e){return new RegExp(`^${aS(e)}$`)}function oS(e){let t=`${iS}T${aS(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function hM(e,t){return!!((t==="v4"||!t)&&aM.test(e)||(t==="v6"||!t)&&lM.test(e))}function pM(e,t){if(!nM.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function gM(e,t){return!!((t==="v4"||!t)&&oM.test(e)||(t==="v6"||!t)&&cM.test(e))}class Ts extends _t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const o=this._getOrReturnCtx(t);return Me(o,{code:_e.invalid_type,expected:Fe.string,received:o.parsedType}),dt}const s=new gr;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const u=t.data.length>o.value,c=t.data.length<o.value;(u||c)&&(i=this._getOrReturnCtx(t,i),u?Me(i,{code:_e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Me(i,{code:_e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")sM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"email",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")Jp||(Jp=new RegExp(iM,"u")),Jp.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"emoji",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")eM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"uuid",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")tM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"nanoid",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")XI.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"cuid",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")JI.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"cuid2",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")YI.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"ulid",code:_e.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Me(i,{validation:"url",code:_e.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"regex",code:_e.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?oS(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?fM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?mM(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?rM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"duration",code:_e.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?hM(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"ip",code:_e.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?pM(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"jwt",code:_e.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?gM(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"cidr",code:_e.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?uM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"base64",code:_e.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?dM.test(t.data)||(i=this._getOrReturnCtx(t,i),Me(i,{validation:"base64url",code:_e.invalid_string,message:o.message}),s.dirty()):Dt.assertNever(o);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(i=>t.test(i),{validation:n,code:_e.invalid_string,...Je.errToObj(s)})}_addCheck(t){return new Ts({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Je.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,local:(s=t?.local)!==null&&s!==void 0?s:!1,...Je.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Je.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Je.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Je.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Je.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Je.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Je.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Je.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Je.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Je.errToObj(n)})}nonempty(t){return this.min(1,Je.errToObj(t))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ts.create=e=>{var t;return new Ts({checks:[],typeName:ct.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Nt(e)})};function xM(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,i=n>s?n:s,o=parseInt(e.toFixed(i).replace(".","")),u=parseInt(t.toFixed(i).replace(".",""));return o%u/Math.pow(10,i)}class _a extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const o=this._getOrReturnCtx(t);return Me(o,{code:_e.invalid_type,expected:Fe.number,received:o.parsedType}),dt}let s;const i=new gr;for(const o of this._def.checks)o.kind==="int"?Dt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?xM(t.data,o.value)!==0&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.not_finite,message:o.message}),i.dirty()):Dt.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,s,i){return new _a({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Je.toString(i)}]})}_addCheck(t){return new _a({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Dt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}_a.create=e=>new _a({checks:[],typeName:ct.ZodNumber,coerce:e?.coerce||!1,...Nt(e)});class Pa extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let s;const i=new gr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Me(s,{code:_e.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Dt.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Me(n,{code:_e.invalid_type,expected:Fe.bigint,received:n.parsedType}),dt}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,s,i){return new Pa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Je.toString(i)}]})}_addCheck(t){return new Pa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Pa.create=e=>{var t;return new Pa({checks:[],typeName:ct.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Nt(e)})};class Qc extends _t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.boolean,received:s.parsedType}),dt}return Pr(t.data)}}Qc.create=e=>new Qc({typeName:ct.ZodBoolean,coerce:e?.coerce||!1,...Nt(e)});class fo extends _t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const o=this._getOrReturnCtx(t);return Me(o,{code:_e.invalid_type,expected:Fe.date,received:o.parsedType}),dt}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Me(o,{code:_e.invalid_date}),dt}const s=new gr;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),Me(i,{code:_e.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Dt.assertNever(o);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new fo({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Je.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Je.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}fo.create=e=>new fo({checks:[],coerce:e?.coerce||!1,typeName:ct.ZodDate,...Nt(e)});class Rf extends _t{_parse(t){if(this._getType(t)!==Fe.symbol){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.symbol,received:s.parsedType}),dt}return Pr(t.data)}}Rf.create=e=>new Rf({typeName:ct.ZodSymbol,...Nt(e)});class Gc extends _t{_parse(t){if(this._getType(t)!==Fe.undefined){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.undefined,received:s.parsedType}),dt}return Pr(t.data)}}Gc.create=e=>new Gc({typeName:ct.ZodUndefined,...Nt(e)});class Zc extends _t{_parse(t){if(this._getType(t)!==Fe.null){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.null,received:s.parsedType}),dt}return Pr(t.data)}}Zc.create=e=>new Zc({typeName:ct.ZodNull,...Nt(e)});class yl extends _t{constructor(){super(...arguments),this._any=!0}_parse(t){return Pr(t.data)}}yl.create=e=>new yl({typeName:ct.ZodAny,...Nt(e)});class so extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Pr(t.data)}}so.create=e=>new so({typeName:ct.ZodUnknown,...Nt(e)});class $i extends _t{_parse(t){const n=this._getOrReturnCtx(t);return Me(n,{code:_e.invalid_type,expected:Fe.never,received:n.parsedType}),dt}}$i.create=e=>new $i({typeName:ct.ZodNever,...Nt(e)});class Of extends _t{_parse(t){if(this._getType(t)!==Fe.undefined){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.void,received:s.parsedType}),dt}return Pr(t.data)}}Of.create=e=>new Of({typeName:ct.ZodVoid,...Nt(e)});class As extends _t{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),i=this._def;if(n.parsedType!==Fe.array)return Me(n,{code:_e.invalid_type,expected:Fe.array,received:n.parsedType}),dt;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(Me(n,{code:u?_e.too_big:_e.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Me(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Me(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new ui(n,u,n.path,c)))).then(u=>gr.mergeArray(s,u));const o=[...n.data].map((u,c)=>i.type._parseSync(new ui(n,u,n.path,c)));return gr.mergeArray(s,o)}get element(){return this._def.type}min(t,n){return new As({...this._def,minLength:{value:t,message:Je.toString(n)}})}max(t,n){return new As({...this._def,maxLength:{value:t,message:Je.toString(n)}})}length(t,n){return new As({...this._def,exactLength:{value:t,message:Je.toString(n)}})}nonempty(t){return this.min(1,t)}}As.create=(e,t)=>new As({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...Nt(t)});function el(e){if(e instanceof fn){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=ai.create(el(s))}return new fn({...e._def,shape:()=>t})}else return e instanceof As?new As({...e._def,type:el(e.element)}):e instanceof ai?ai.create(el(e.unwrap())):e instanceof Ta?Ta.create(el(e.unwrap())):e instanceof di?di.create(e.items.map(t=>el(t))):e}class fn extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Dt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Fe.object){const m=this._getOrReturnCtx(t);return Me(m,{code:_e.invalid_type,expected:Fe.object,received:m.parsedType}),dt}const{status:s,ctx:i}=this._processInputParams(t),{shape:o,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof $i&&this._def.unknownKeys==="strip"))for(const m in i.data)u.includes(m)||c.push(m);const f=[];for(const m of u){const p=o[m],x=i.data[m];f.push({key:{status:"valid",value:m},value:p._parse(new ui(i,x,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof $i){const m=this._def.unknownKeys;if(m==="passthrough")for(const p of c)f.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(m==="strict")c.length>0&&(Me(i,{code:_e.unrecognized_keys,keys:c}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const p of c){const x=i.data[p];f.push({key:{status:"valid",value:p},value:m._parse(new ui(i,x,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const p of f){const x=await p.key,v=await p.value;m.push({key:x,value:v,alwaysSet:p.alwaysSet})}return m}).then(m=>gr.mergeObjectSync(s,m)):gr.mergeObjectSync(s,f)}get shape(){return this._def.shape()}strict(t){return Je.errToObj,new fn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var i,o,u,c;const f=(u=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,s).message)!==null&&u!==void 0?u:s.defaultError;return n.code==="unrecognized_keys"?{message:(c=Je.errToObj(t).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new fn({...this._def,unknownKeys:"strip"})}passthrough(){return new fn({...this._def,unknownKeys:"passthrough"})}extend(t){return new fn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ct.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new fn({...this._def,catchall:t})}pick(t){const n={};return Dt.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new fn({...this._def,shape:()=>n})}omit(t){const n={};return Dt.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new fn({...this._def,shape:()=>n})}deepPartial(){return el(this)}partial(t){const n={};return Dt.objectKeys(this.shape).forEach(s=>{const i=this.shape[s];t&&!t[s]?n[s]=i:n[s]=i.optional()}),new fn({...this._def,shape:()=>n})}required(t){const n={};return Dt.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof ai;)o=o._def.innerType;n[s]=o}}),new fn({...this._def,shape:()=>n})}keyof(){return lS(Dt.objectKeys(this.shape))}}fn.create=(e,t)=>new fn({shape:()=>e,unknownKeys:"strip",catchall:$i.create(),typeName:ct.ZodObject,...Nt(t)});fn.strictCreate=(e,t)=>new fn({shape:()=>e,unknownKeys:"strict",catchall:$i.create(),typeName:ct.ZodObject,...Nt(t)});fn.lazycreate=(e,t)=>new fn({shape:e,unknownKeys:"strip",catchall:$i.create(),typeName:ct.ZodObject,...Nt(t)});class Xc extends _t{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=o.map(c=>new Gr(c.ctx.common.issues));return Me(n,{code:_e.invalid_union,unionErrors:u}),dt}if(n.common.async)return Promise.all(s.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let o;const u=[];for(const f of s){const m={...n,common:{...n.common,issues:[]},parent:null},p=f._parseSync({data:n.data,path:n.path,parent:m});if(p.status==="valid")return p;p.status==="dirty"&&!o&&(o={result:p,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=u.map(f=>new Gr(f));return Me(n,{code:_e.invalid_union,unionErrors:c}),dt}}get options(){return this._def.options}}Xc.create=(e,t)=>new Xc({options:e,typeName:ct.ZodUnion,...Nt(t)});const Ai=e=>e instanceof eu?Ai(e.schema):e instanceof Is?Ai(e.innerType()):e instanceof tu?[e.value]:e instanceof ka?e.options:e instanceof nu?Dt.objectValues(e.enum):e instanceof ru?Ai(e._def.innerType):e instanceof Gc?[void 0]:e instanceof Zc?[null]:e instanceof ai?[void 0,...Ai(e.unwrap())]:e instanceof Ta?[null,...Ai(e.unwrap())]:e instanceof lv||e instanceof iu?Ai(e.unwrap()):e instanceof su?Ai(e._def.innerType):[];class _m extends _t{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.object)return Me(n,{code:_e.invalid_type,expected:Fe.object,received:n.parsedType}),dt;const s=this.discriminator,i=n.data[s],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(Me(n,{code:_e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),dt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const i=new Map;for(const o of n){const u=Ai(o.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of u){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,o)}}return new _m({typeName:ct.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Nt(s)})}}function nx(e,t){const n=Ri(e),s=Ri(t);if(e===t)return{valid:!0,data:e};if(n===Fe.object&&s===Fe.object){const i=Dt.objectKeys(t),o=Dt.objectKeys(e).filter(c=>i.indexOf(c)!==-1),u={...e,...t};for(const c of o){const f=nx(e[c],t[c]);if(!f.valid)return{valid:!1};u[c]=f.data}return{valid:!0,data:u}}else if(n===Fe.array&&s===Fe.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const u=e[o],c=t[o],f=nx(u,c);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===Fe.date&&s===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Jc extends _t{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=(o,u)=>{if(ex(o)||ex(u))return dt;const c=nx(o.value,u.value);return c.valid?((tx(o)||tx(u))&&n.dirty(),{status:n.value,value:c.data}):(Me(s,{code:_e.invalid_intersection_types}),dt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,u])=>i(o,u)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Jc.create=(e,t,n)=>new Jc({left:e,right:t,typeName:ct.ZodIntersection,...Nt(n)});class di extends _t{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Fe.array)return Me(s,{code:_e.invalid_type,expected:Fe.array,received:s.parsedType}),dt;if(s.data.length<this._def.items.length)return Me(s,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dt;!this._def.rest&&s.data.length>this._def.items.length&&(Me(s,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...s.data].map((u,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new ui(s,u,s.path,c)):null}).filter(u=>!!u);return s.common.async?Promise.all(o).then(u=>gr.mergeArray(n,u)):gr.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new di({...this._def,rest:t})}}di.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new di({items:e,typeName:ct.ZodTuple,rest:null,...Nt(t)})};class Yc extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Fe.object)return Me(s,{code:_e.invalid_type,expected:Fe.object,received:s.parsedType}),dt;const i=[],o=this._def.keyType,u=this._def.valueType;for(const c in s.data)i.push({key:o._parse(new ui(s,c,s.path,c)),value:u._parse(new ui(s,s.data[c],s.path,c)),alwaysSet:c in s.data});return s.common.async?gr.mergeObjectAsync(n,i):gr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof _t?new Yc({keyType:t,valueType:n,typeName:ct.ZodRecord,...Nt(s)}):new Yc({keyType:Ts.create(),valueType:t,typeName:ct.ZodRecord,...Nt(n)})}}class If extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Fe.map)return Me(s,{code:_e.invalid_type,expected:Fe.map,received:s.parsedType}),dt;const i=this._def.keyType,o=this._def.valueType,u=[...s.data.entries()].map(([c,f],m)=>({key:i._parse(new ui(s,c,s.path,[m,"key"])),value:o._parse(new ui(s,f,s.path,[m,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of u){const m=await f.key,p=await f.value;if(m.status==="aborted"||p.status==="aborted")return dt;(m.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(m.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of u){const m=f.key,p=f.value;if(m.status==="aborted"||p.status==="aborted")return dt;(m.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(m.value,p.value)}return{status:n.value,value:c}}}}If.create=(e,t,n)=>new If({valueType:t,keyType:e,typeName:ct.ZodMap,...Nt(n)});class mo extends _t{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Fe.set)return Me(s,{code:_e.invalid_type,expected:Fe.set,received:s.parsedType}),dt;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(Me(s,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(Me(s,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function u(f){const m=new Set;for(const p of f){if(p.status==="aborted")return dt;p.status==="dirty"&&n.dirty(),m.add(p.value)}return{status:n.value,value:m}}const c=[...s.data.values()].map((f,m)=>o._parse(new ui(s,f,s.path,m)));return s.common.async?Promise.all(c).then(f=>u(f)):u(c)}min(t,n){return new mo({...this._def,minSize:{value:t,message:Je.toString(n)}})}max(t,n){return new mo({...this._def,maxSize:{value:t,message:Je.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}mo.create=(e,t)=>new mo({valueType:e,minSize:null,maxSize:null,typeName:ct.ZodSet,...Nt(t)});class al extends _t{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.function)return Me(n,{code:_e.invalid_type,expected:Fe.function,received:n.parsedType}),dt;function s(c,f){return Tf({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kf(),vl].filter(m=>!!m),issueData:{code:_e.invalid_arguments,argumentsError:f}})}function i(c,f){return Tf({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kf(),vl].filter(m=>!!m),issueData:{code:_e.invalid_return_type,returnTypeError:f}})}const o={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof wl){const c=this;return Pr(async function(...f){const m=new Gr([]),p=await c._def.args.parseAsync(f,o).catch(b=>{throw m.addIssue(s(f,b)),m}),x=await Reflect.apply(u,this,p);return await c._def.returns._def.type.parseAsync(x,o).catch(b=>{throw m.addIssue(i(x,b)),m})})}else{const c=this;return Pr(function(...f){const m=c._def.args.safeParse(f,o);if(!m.success)throw new Gr([s(f,m.error)]);const p=Reflect.apply(u,this,m.data),x=c._def.returns.safeParse(p,o);if(!x.success)throw new Gr([i(p,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new al({...this._def,args:di.create(t).rest(so.create())})}returns(t){return new al({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new al({args:t||di.create([]).rest(so.create()),returns:n||so.create(),typeName:ct.ZodFunction,...Nt(s)})}}class eu extends _t{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}eu.create=(e,t)=>new eu({getter:e,typeName:ct.ZodLazy,...Nt(t)});class tu extends _t{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Me(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}tu.create=(e,t)=>new tu({value:e,typeName:ct.ZodLiteral,...Nt(t)});function lS(e,t){return new ka({values:e,typeName:ct.ZodEnum,...Nt(t)})}class ka extends _t{constructor(){super(...arguments),_c.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return Me(n,{expected:Dt.joinValues(s),received:n.parsedType,code:_e.invalid_type}),dt}if(Af(this,_c)||sS(this,_c,new Set(this._def.values)),!Af(this,_c).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return Me(n,{received:n.data,code:_e.invalid_enum_value,options:s}),dt}return Pr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ka.create(t,{...this._def,...n})}exclude(t,n=this._def){return ka.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}_c=new WeakMap;ka.create=lS;class nu extends _t{constructor(){super(...arguments),Pc.set(this,void 0)}_parse(t){const n=Dt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Fe.string&&s.parsedType!==Fe.number){const i=Dt.objectValues(n);return Me(s,{expected:Dt.joinValues(i),received:s.parsedType,code:_e.invalid_type}),dt}if(Af(this,Pc)||sS(this,Pc,new Set(Dt.getValidEnumValues(this._def.values))),!Af(this,Pc).has(t.data)){const i=Dt.objectValues(n);return Me(s,{received:s.data,code:_e.invalid_enum_value,options:i}),dt}return Pr(t.data)}get enum(){return this._def.values}}Pc=new WeakMap;nu.create=(e,t)=>new nu({values:e,typeName:ct.ZodNativeEnum,...Nt(t)});class wl extends _t{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Me(n,{code:_e.invalid_type,expected:Fe.promise,received:n.parsedType}),dt;const s=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Pr(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wl.create=(e,t)=>new wl({type:e,typeName:ct.ZodPromise,...Nt(t)});class Is extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:u=>{Me(s,u),u.fatal?n.abort():n.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const u=i.transform(s.data,o);if(s.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return dt;const f=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return f.status==="aborted"?dt:f.status==="dirty"||n.value==="dirty"?nl(f.value):f});{if(n.value==="aborted")return dt;const c=this._def.schema._parseSync({data:u,path:s.path,parent:s});return c.status==="aborted"?dt:c.status==="dirty"||n.value==="dirty"?nl(c.value):c}}if(i.type==="refinement"){const u=c=>{const f=i.refinement(c,o);if(s.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?dt:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?dt:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!uo(u))return u;const c=i.transform(u.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>uo(u)?Promise.resolve(i.transform(u.value,o)).then(c=>({status:n.value,value:c})):u);Dt.assertNever(i)}}Is.create=(e,t,n)=>new Is({schema:e,typeName:ct.ZodEffects,effect:t,...Nt(n)});Is.createWithPreprocess=(e,t,n)=>new Is({schema:t,effect:{type:"preprocess",transform:e},typeName:ct.ZodEffects,...Nt(n)});class ai extends _t{_parse(t){return this._getType(t)===Fe.undefined?Pr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ai.create=(e,t)=>new ai({innerType:e,typeName:ct.ZodOptional,...Nt(t)});class Ta extends _t{_parse(t){return this._getType(t)===Fe.null?Pr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ta.create=(e,t)=>new Ta({innerType:e,typeName:ct.ZodNullable,...Nt(t)});class ru extends _t{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Fe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ru.create=(e,t)=>new ru({innerType:e,typeName:ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Nt(t)});class su extends _t{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Kc(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Gr(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}su.create=(e,t)=>new su({innerType:e,typeName:ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Nt(t)});class Mf extends _t{_parse(t){if(this._getType(t)!==Fe.nan){const s=this._getOrReturnCtx(t);return Me(s,{code:_e.invalid_type,expected:Fe.nan,received:s.parsedType}),dt}return{status:"valid",value:t.data}}}Mf.create=e=>new Mf({typeName:ct.ZodNaN,...Nt(e)});const vM=Symbol("zod_brand");class lv extends _t{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class gu extends _t{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?dt:o.status==="dirty"?(n.dirty(),nl(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?dt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(t,n){return new gu({in:t,out:n,typeName:ct.ZodPipeline})}}class iu extends _t{_parse(t){const n=this._def.innerType._parse(t),s=i=>(uo(i)&&(i.value=Object.freeze(i.value)),i);return Kc(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}iu.create=(e,t)=>new iu({innerType:e,typeName:ct.ZodReadonly,...Nt(t)});function Ab(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function cS(e,t={},n){return e?yl.create().superRefine((s,i)=>{var o,u;const c=e(s);if(c instanceof Promise)return c.then(f=>{var m,p;if(!f){const x=Ab(t,s),v=(p=(m=x.fatal)!==null&&m!==void 0?m:n)!==null&&p!==void 0?p:!0;i.addIssue({code:"custom",...x,fatal:v})}});if(!c){const f=Ab(t,s),m=(u=(o=f.fatal)!==null&&o!==void 0?o:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...f,fatal:m})}}):yl.create()}const yM={object:fn.lazycreate};var ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ct||(ct={}));const wM=(e,t={message:`Input not instance of ${e.name}`})=>cS(n=>n instanceof e,t),uS=Ts.create,dS=_a.create,bM=Mf.create,jM=Pa.create,fS=Qc.create,NM=fo.create,SM=Rf.create,CM=Gc.create,EM=Zc.create,_M=yl.create,PM=so.create,kM=$i.create,TM=Of.create,AM=As.create,RM=fn.create,OM=fn.strictCreate,IM=Xc.create,MM=_m.create,DM=Jc.create,$M=di.create,LM=Yc.create,FM=If.create,zM=mo.create,VM=al.create,UM=eu.create,BM=tu.create,qM=ka.create,HM=nu.create,WM=wl.create,Rb=Is.create,KM=ai.create,QM=Ta.create,GM=Is.createWithPreprocess,ZM=gu.create,XM=()=>uS().optional(),JM=()=>dS().optional(),YM=()=>fS().optional(),eD={string:(e=>Ts.create({...e,coerce:!0})),number:(e=>_a.create({...e,coerce:!0})),boolean:(e=>Qc.create({...e,coerce:!0})),bigint:(e=>Pa.create({...e,coerce:!0})),date:(e=>fo.create({...e,coerce:!0}))},tD=dt;var G=Object.freeze({__proto__:null,defaultErrorMap:vl,setErrorMap:GI,getErrorMap:kf,makeIssue:Tf,EMPTY_PATH:ZI,addIssueToContext:Me,ParseStatus:gr,INVALID:dt,DIRTY:nl,OK:Pr,isAborted:ex,isDirty:tx,isValid:uo,isAsync:Kc,get util(){return Dt},get objectUtil(){return Yg},ZodParsedType:Fe,getParsedType:Ri,ZodType:_t,datetimeRegex:oS,ZodString:Ts,ZodNumber:_a,ZodBigInt:Pa,ZodBoolean:Qc,ZodDate:fo,ZodSymbol:Rf,ZodUndefined:Gc,ZodNull:Zc,ZodAny:yl,ZodUnknown:so,ZodNever:$i,ZodVoid:Of,ZodArray:As,ZodObject:fn,ZodUnion:Xc,ZodDiscriminatedUnion:_m,ZodIntersection:Jc,ZodTuple:di,ZodRecord:Yc,ZodMap:If,ZodSet:mo,ZodFunction:al,ZodLazy:eu,ZodLiteral:tu,ZodEnum:ka,ZodNativeEnum:nu,ZodPromise:wl,ZodEffects:Is,ZodTransformer:Is,ZodOptional:ai,ZodNullable:Ta,ZodDefault:ru,ZodCatch:su,ZodNaN:Mf,BRAND:vM,ZodBranded:lv,ZodPipeline:gu,ZodReadonly:iu,custom:cS,Schema:_t,ZodSchema:_t,late:yM,get ZodFirstPartyTypeKind(){return ct},coerce:eD,any:_M,array:AM,bigint:jM,boolean:fS,date:NM,discriminatedUnion:MM,effect:Rb,enum:qM,function:VM,instanceof:wM,intersection:DM,lazy:UM,literal:BM,map:FM,nan:bM,nativeEnum:HM,never:kM,null:EM,nullable:QM,number:dS,object:RM,oboolean:YM,onumber:JM,optional:KM,ostring:XM,pipeline:ZM,preprocess:GM,promise:WM,record:LM,set:zM,strictObject:OM,string:uS,symbol:SM,transformer:Rb,tuple:$M,undefined:CM,union:IM,unknown:PM,void:TM,NEVER:tD,ZodIssueCode:_e,quotelessJson:QI,ZodError:Gr});const be=Symbol.for("drizzle:entityKind");function Yn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,be))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(be in n&&n[be]===t[be])return!0;n=Object.getPrototypeOf(n)}return!1}class au{constructor(t,n){this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[be]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class nD{static[be]="ColumnBuilder";config;constructor(t,n,s){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const ol=Symbol.for("drizzle:Name");class rD{static[be]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,n){this.reference=()=>{const{name:s,columns:i,foreignColumns:o}=t();return{name:s,columns:i,foreignTable:o[0].table,foreignColumns:o}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new sD(t,this)}}class sD{constructor(t,n){this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[be]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:n,foreignColumns:s}=this.reference(),i=n.map(c=>c.name),o=s.map(c=>c.name),u=[this.table[ol],...i,s[0].table[ol],...o];return t??`${u.join("_")}_fk`}}function iD(e,...t){return e(...t)}function aD(e,t){return`${e[ol]}_${t.join("_")}_unique`}function Ob(e,t,n){for(let s=t;s<e.length;s++){const i=e[s];if(i==="\\"){s++;continue}if(i==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!n&&(i===","||i==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function mS(e,t=0){const n=[];let s=t,i=!1;for(;s<e.length;){const o=e[s];if(o===","){(i||s===t)&&n.push(""),i=!0,s++;continue}if(i=!1,o==="\\"){s+=2;continue}if(o==='"'){const[f,m]=Ob(e,s+1,!0);n.push(f),s=m;continue}if(o==="}")return[n,s+1];if(o==="{"){const[f,m]=mS(e,s+1);n.push(f),s=m;continue}const[u,c]=Ob(e,s,!1);n.push(u),s=c}return[n,s]}function oD(e){const[t]=mS(e,1);return t}function hS(e){return`{${e.map(t=>Array.isArray(t)?hS(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class Ft extends nD{foreignKeyConfigs=[];static[be]="PgColumnBuilder";array(t){return new cD(this.config.name,this,t)}references(t,n={}){return this.foreignKeyConfigs.push({ref:t,actions:n}),this}unique(t,n){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,n){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>iD((o,u)=>{const c=new rD(()=>{const f=o();return{columns:[t],foreignColumns:[f]}});return u.onUpdate&&c.onUpdate(u.onUpdate),u.onDelete&&c.onDelete(u.onDelete),c.build(n)},s,i))}buildExtraConfigColumn(t){return new lD(t,this.config)}}class Et extends au{constructor(t,n){n.uniqueName||(n.uniqueName=aD(t,[n.name])),super(t,n),this.table=t}static[be]="PgColumn"}class lD extends Et{static[be]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class cD extends Ft{static[be]="PgArrayBuilder";constructor(t,n,s){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(t){const n=this.config.baseBuilder.build(t);return new cv(t,this.config,n)}}class cv extends Et{constructor(t,n,s,i){super(t,n),this.baseColumn=s,this.range=i,this.size=n.size}size;static[be]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=oD(t)),t.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(t,n=!1){const s=t.map(i=>i===null?null:Yn(this.baseColumn,cv)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?s:hS(s)}}const Ib=Symbol.for("drizzle:isPgEnum");function uD(e){return!!e&&typeof e=="function"&&Ib in e&&e[Ib]===!0}class pS{static[be]="Subquery";constructor(t,n,s,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:s,isWith:i}}}const dD={startActiveSpan(e,t){return t()}},ll=Symbol.for("drizzle:ViewBaseConfig"),Yp=Symbol.for("drizzle:Schema"),Mb=Symbol.for("drizzle:Columns"),Db=Symbol.for("drizzle:ExtraConfigColumns"),eg=Symbol.for("drizzle:OriginalName"),tg=Symbol.for("drizzle:BaseName"),Df=Symbol.for("drizzle:IsAlias"),$b=Symbol.for("drizzle:ExtraConfigBuilder"),gS=Symbol.for("drizzle:IsDrizzleTable");let Wr=class{static[be]="Table";static Symbol={Name:ol,Schema:Yp,OriginalName:eg,Columns:Mb,ExtraConfigColumns:Db,BaseName:tg,IsAlias:Df,ExtraConfigBuilder:$b};[ol];[eg];[Yp];[Mb];[Db];[tg];[Df]=!1;[gS]=!0;[$b]=void 0;constructor(t,n,s){this[ol]=this[eg]=t,this[Yp]=n,this[tg]=s}};function xS(e){return typeof e=="object"&&e!==null&&gS in e}function fD(e){return e!=null&&typeof e.getSQL=="function"}function mD(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}class Ss{static[be]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new wn([this])}}class wn{constructor(t){this.queryChunks=t}static[be]="SQL";decoder=vS;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return dD.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return n?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:o,escapeParam:u,prepareTyping:c,inlineParams:f,paramStartIndex:m}=s;return mD(t.map(p=>{if(Yn(p,Ss))return{sql:p.value.join(""),params:[]};if(Yn(p,rx))return{sql:o(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){const x=[new Ss("(")];for(const[v,b]of p.entries())x.push(b),v<p.length-1&&x.push(new Ss(", "));return x.push(new Ss(")")),this.buildQueryFromSourceParams(x,s)}if(Yn(p,wn))return this.buildQueryFromSourceParams(p.queryChunks,{...s,inlineParams:f||p.shouldInlineParams});if(Yn(p,Wr)){const x=p[Wr.Symbol.Schema],v=p[Wr.Symbol.Name];return{sql:x===void 0||p[Df]?o(v):o(x)+"."+o(v),params:[]}}if(Yn(p,au)){const x=i.getColumnCasing(p);if(n.invokeSource==="indexes")return{sql:o(x),params:[]};const v=p.table[Wr.Symbol.Schema];return{sql:p.table[Df]||v===void 0?o(p.table[Wr.Symbol.Name])+"."+o(x):o(v)+"."+o(p.table[Wr.Symbol.Name])+"."+o(x),params:[]}}if(Yn(p,hD)){const x=p[ll].schema,v=p[ll].name;return{sql:x===void 0||p[ll].isAlias?o(v):o(x)+"."+o(v),params:[]}}if(Yn(p,wS)){if(Yn(p.value,sx))return{sql:u(m.value++,p),params:[p],typings:["none"]};const x=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(Yn(x,wn))return this.buildQueryFromSourceParams([x],s);if(f)return{sql:this.mapInlineParam(x,s),params:[]};let v=["none"];return c&&(v=[c(p.encoder)]),{sql:u(m.value++,x),params:[x],typings:v}}return Yn(p,sx)?{sql:u(m.value++,p),params:[p],typings:["none"]}:Yn(p,wn.Aliased)&&p.fieldAlias!==void 0?{sql:o(p.fieldAlias),params:[]}:Yn(p,pS)?p._.isWith?{sql:o(p._.alias),params:[]}:this.buildQueryFromSourceParams([new Ss("("),p._.sql,new Ss(") "),new rx(p._.alias)],s):uD(p)?p.schema?{sql:o(p.schema)+"."+o(p.enumName),params:[]}:{sql:o(p.enumName),params:[]}:fD(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],s):this.buildQueryFromSourceParams([new Ss("("),p.getSQL(),new Ss(")")],s):f?{sql:this.mapInlineParam(p,s),params:[]}:{sql:u(m.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const s=t.toString();return n(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new wn.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class rx{constructor(t){this.value=t}static[be]="Name";brand;getSQL(){return new wn([this])}}const vS={mapFromDriverValue:e=>e},yS={mapToDriverValue:e=>e};({...vS,...yS});class wS{constructor(t,n=yS){this.value=t,this.encoder=n}static[be]="Param";brand;getSQL(){return new wn([this])}}function $f(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Ss(e[0]));for(const[s,i]of t.entries())n.push(i,new Ss(e[s+1]));return new wn(n)}(e=>{function t(){return new wn([])}e.empty=t;function n(f){return new wn(f)}e.fromList=n;function s(f){return new wn([new Ss(f)])}e.raw=s;function i(f,m){const p=[];for(const[x,v]of f.entries())x>0&&m!==void 0&&p.push(m),p.push(v);return new wn(p)}e.join=i;function o(f){return new rx(f)}e.identifier=o;function u(f){return new sx(f)}e.placeholder=u;function c(f,m){return new wS(f,m)}e.param=c})($f||($f={}));(e=>{class t{constructor(s,i){this.sql=s,this.fieldAlias=i}static[be]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(wn||(wn={}));class sx{constructor(t){this.name=t}static[be]="Placeholder";getSQL(){return new wn([this])}}const bS=Symbol.for("drizzle:IsDrizzleView");class hD{static[be]="View";[ll];[bS]=!0;constructor({name:t,schema:n,selectedFields:s,query:i}){this[ll]={name:t,originalName:t,schema:n,selectedFields:s,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new wn([this])}}function pD(e){return typeof e=="object"&&e!==null&&bS in e}au.prototype.getSQL=function(){return new wn([this])};Wr.prototype.getSQL=function(){return new wn([this])};pS.prototype.getSQL=function(){return new wn([this])};function gD(e){return e[Wr.Symbol.Columns]}function xD(e){return e[ll].selectedFields}function qn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class Pm extends Ft{static[be]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class vD extends Pm{static[be]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new yD(t,this.config)}}class yD extends Et{static[be]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class wD extends Pm{static[be]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new bD(t,this.config)}}class bD extends Et{static[be]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function jD(e,t){const{name:n,config:s}=qn(e,t);return s.mode==="number"?new vD(n):new wD(n)}class ND extends Ft{static[be]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new SD(t,this.config)}}class SD extends Et{static[be]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class CD extends Ft{static[be]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new ED(t,this.config)}}class ED extends Et{static[be]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function _D(e,t){const{name:n,config:s}=qn(e,t);return s.mode==="number"?new ND(n):new CD(n)}class PD extends Ft{static[be]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new kD(t,this.config)}}class kD extends Et{static[be]="PgBoolean";getSQLType(){return"boolean"}}function gn(e){return new PD(e??"")}class TD extends Ft{static[be]="PgCharBuilder";constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new AD(t,this.config)}}class AD extends Et{static[be]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function RD(e,t={}){const{name:n,config:s}=qn(e,t);return new TD(n,s)}class OD extends Ft{static[be]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new ID(t,this.config)}}class ID extends Et{static[be]="PgCidr";getSQLType(){return"cidr"}}function MD(e){return new OD(e??"")}class DD extends Ft{static[be]="PgCustomColumnBuilder";constructor(t,n,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(t){return new $D(t,this.config)}}class $D extends Et{static[be]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,n){super(t,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function LD(e){return(t,n)=>{const{name:s,config:i}=qn(t,n);return new DD(s,i,e)}}class xu extends Ft{static[be]="PgDateColumnBaseBuilder";defaultNow(){return this.default($f`now()`)}}class FD extends xu{static[be]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new zD(t,this.config)}}class zD extends Et{static[be]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class VD extends xu{static[be]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new UD(t,this.config)}}class UD extends Et{static[be]="PgDateString";getSQLType(){return"date"}}function BD(e,t){const{name:n,config:s}=qn(e,t);return s?.mode==="date"?new FD(n):new VD(n)}class qD extends Ft{static[be]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new HD(t,this.config)}}class HD extends Et{static[be]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function WD(e){return new qD(e??"")}class KD extends Ft{static[be]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new QD(t,this.config)}}class QD extends Et{static[be]="PgInet";getSQLType(){return"inet"}}function GD(e){return new KD(e??"")}class ZD extends Pm{static[be]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new XD(t,this.config)}}class XD extends Et{static[be]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function me(e){return new ZD(e??"")}class JD extends Ft{static[be]="PgIntervalBuilder";constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new YD(t,this.config)}}class YD extends Et{static[be]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${t}${n}`}}function e3(e,t={}){const{name:n,config:s}=qn(e,t);return new JD(n,s)}class t3 extends Ft{static[be]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new n3(t,this.config)}}class n3 extends Et{static[be]="PgJson";constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function r3(e){return new t3(e??"")}class s3 extends Ft{static[be]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new i3(t,this.config)}}class i3 extends Et{static[be]="PgJsonb";constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function a3(e){return new s3(e??"")}class o3 extends Ft{static[be]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new l3(t,this.config)}}class l3 extends Et{static[be]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class c3 extends Ft{static[be]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new u3(t,this.config)}}class u3 extends Et{static[be]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function d3(e,t){const{name:n,config:s}=qn(e,t);return!s?.mode||s.mode==="tuple"?new o3(n):new c3(n)}class f3 extends Ft{static[be]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new m3(t,this.config)}}class m3 extends Et{static[be]="PgMacaddr";getSQLType(){return"macaddr"}}function h3(e){return new f3(e??"")}class p3 extends Ft{static[be]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new g3(t,this.config)}}class g3 extends Et{static[be]="PgMacaddr8";getSQLType(){return"macaddr8"}}function x3(e){return new p3(e??"")}class v3 extends Ft{static[be]="PgNumericBuilder";constructor(t,n,s){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(t){return new y3(t,this.config)}}class y3 extends Et{static[be]="PgNumeric";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function w3(e,t){const{name:n,config:s}=qn(e,t);return new v3(n,s?.precision,s?.scale)}class b3 extends Ft{static[be]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new j3(t,this.config)}}class j3 extends Et{static[be]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class N3 extends Ft{static[be]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new S3(t,this.config)}}class S3 extends Et{static[be]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function C3(e,t){const{name:n,config:s}=qn(e,t);return!s?.mode||s.mode==="tuple"?new b3(n):new N3(n)}function E3(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function Lb(e,t){const n=new ArrayBuffer(8),s=new DataView(n);for(let i=0;i<8;i++)s.setUint8(i,e[t+i]);return s.getFloat64(0,!0)}function jS(e){const t=E3(e);let n=0;const s=t[n];n+=1;const i=new DataView(t.buffer),o=i.getUint32(n,s===1);if(n+=4,o&536870912&&(i.getUint32(n,s===1),n+=4),(o&65535)===1){const u=Lb(t,n);n+=8;const c=Lb(t,n);return n+=8,[u,c]}throw new Error("Unsupported geometry type")}class _3 extends Ft{static[be]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new P3(t,this.config)}}class P3 extends Et{static[be]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return jS(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class k3 extends Ft{static[be]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new T3(t,this.config)}}class T3 extends Et{static[be]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=jS(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function A3(e,t){const{name:n,config:s}=qn(e,t);return!s?.mode||s.mode==="tuple"?new _3(n):new k3(n)}class R3 extends Ft{static[be]="PgRealBuilder";constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new O3(t,this.config)}}class O3 extends Et{static[be]="PgReal";constructor(t,n){super(t,n)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function I3(e){return new R3(e??"")}class M3 extends Ft{static[be]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new D3(t,this.config)}}class D3 extends Et{static[be]="PgSerial";getSQLType(){return"serial"}}function ft(e){return new M3(e??"")}class $3 extends Pm{static[be]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new L3(t,this.config)}}class L3 extends Et{static[be]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function F3(e){return new $3(e??"")}class z3 extends Ft{static[be]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new V3(t,this.config)}}class V3 extends Et{static[be]="PgSmallSerial";getSQLType(){return"smallserial"}}function U3(e){return new z3(e??"")}class B3 extends Ft{static[be]="PgTextBuilder";constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new q3(t,this.config)}}class q3 extends Et{static[be]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ue(e,t={}){const{name:n,config:s}=qn(e,t);return new B3(n,s)}class H3 extends xu{constructor(t,n,s){super(t,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}static[be]="PgTimeBuilder";build(t){return new W3(t,this.config)}}class W3 extends Et{static[be]="PgTime";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function K3(e,t={}){const{name:n,config:s}=qn(e,t);return new H3(n,s.withTimezone??!1,s.precision)}class Q3 extends xu{static[be]="PgTimestampBuilder";constructor(t,n,s){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(t){return new G3(t,this.config)}}class G3 extends Et{static[be]="PgTimestamp";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class Z3 extends xu{static[be]="PgTimestampStringBuilder";constructor(t,n,s){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(t){return new X3(t,this.config)}}class X3 extends Et{static[be]="PgTimestampString";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Ye(e,t={}){const{name:n,config:s}=qn(e,t);return s?.mode==="string"?new Z3(n,s.withTimezone??!1,s.precision):new Q3(n,s?.withTimezone??!1,s?.precision)}class J3 extends Ft{static[be]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default($f`gen_random_uuid()`)}build(t){return new Y3(t,this.config)}}class Y3 extends Et{static[be]="PgUUID";getSQLType(){return"uuid"}}function e5(e){return new J3(e??"")}class t5 extends Ft{static[be]="PgVarcharBuilder";constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new n5(t,this.config)}}class n5 extends Et{static[be]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function r5(e,t={}){const{name:n,config:s}=qn(e,t);return new t5(n,s)}class s5 extends Ft{static[be]="PgBinaryVectorBuilder";constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new i5(t,this.config)}}class i5 extends Et{static[be]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function a5(e,t){const{name:n,config:s}=qn(e,t);return new s5(n,s)}class o5 extends Ft{static[be]="PgHalfVectorBuilder";constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new l5(t,this.config)}}class l5 extends Et{static[be]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function c5(e,t){const{name:n,config:s}=qn(e,t);return new o5(n,s)}class u5 extends Ft{static[be]="PgSparseVectorBuilder";constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new d5(t,this.config)}}class d5 extends Et{static[be]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function f5(e,t){const{name:n,config:s}=qn(e,t);return new u5(n,s)}class m5 extends Ft{static[be]="PgVectorBuilder";constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new h5(t,this.config)}}class h5 extends Et{static[be]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function p5(e,t){const{name:n,config:s}=qn(e,t);return new m5(n,s)}function g5(){return{bigint:jD,bigserial:_D,boolean:gn,char:RD,cidr:MD,customType:LD,date:BD,doublePrecision:WD,inet:GD,integer:me,interval:e3,json:r3,jsonb:a3,line:d3,macaddr:h3,macaddr8:x3,numeric:w3,point:C3,geometry:A3,real:I3,serial:ft,smallint:F3,smallserial:U3,text:ue,time:K3,timestamp:Ye,uuid:e5,varchar:r5,bit:a5,halfvec:c5,sparsevec:f5,vector:p5}}const ix=Symbol.for("drizzle:PgInlineForeignKeys"),Fb=Symbol.for("drizzle:EnableRLS");class zb extends Wr{static[be]="PgTable";static Symbol=Object.assign({},Wr.Symbol,{InlineForeignKeys:ix,EnableRLS:Fb});[ix]=[];[Fb]=!1;[Wr.Symbol.ExtraConfigBuilder]=void 0}function x5(e,t,n,s,i=e){const o=new zb(e,s,i),u=typeof t=="function"?t(g5()):t,c=Object.fromEntries(Object.entries(u).map(([p,x])=>{const v=x;v.setName(p);const b=v.build(o);return o[ix].push(...v.buildForeignKeys(b,o)),[p,b]})),f=Object.fromEntries(Object.entries(u).map(([p,x])=>{const v=x;v.setName(p);const b=v.buildExtraConfigColumn(o);return[p,b]})),m=Object.assign(o,c);return m[Wr.Symbol.Columns]=c,m[Wr.Symbol.ExtraConfigColumns]=f,Object.assign(m,{enableRLS:()=>(m[zb.Symbol.EnableRLS]=!0,m)})}const gt=(e,t,n)=>x5(e,t,n,void 0),dn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function En(e,t){return t.includes(e.columnType)}function v5(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const y5=G.union([G.string(),G.number(),G.boolean(),G.null()]),w5=G.union([y5,G.record(G.any()),G.array(G.any())]),b5=G.custom(e=>e instanceof Buffer);function NS(e,t){const n=t?.zodInstance??G,s=t?.coerce??{};let i;return v5(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(En(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):En(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):En(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):En(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):En(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):En(e,["PgArray"])?(i=n.array(NS(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=j5(e,n,s):e.dataType==="bigint"?i=N5(e,n,s):e.dataType==="boolean"?i=s===!0||s.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=s===!0||s.date?n.coerce.date():n.date():e.dataType==="string"?i=S5(e,n,s):e.dataType==="json"?i=w5:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=b5)),i||(i=n.any()),i}function j5(e,t,n){let s=e.getSQLType().includes("unsigned"),i,o,u=!1;En(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=s?0:dn.INT8_MIN,o=s?dn.INT8_UNSIGNED_MAX:dn.INT8_MAX,u=!0):En(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=s?0:dn.INT16_MIN,o=s?dn.INT16_UNSIGNED_MAX:dn.INT16_MAX,u=!0):En(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=s?0:dn.INT24_MIN,o=s?dn.INT24_UNSIGNED_MAX:dn.INT24_MAX,u=En(e,["MySqlMediumInt","SingleStoreMediumInt"])):En(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=s?0:dn.INT32_MIN,o=s?dn.INT32_UNSIGNED_MAX:dn.INT32_MAX,u=!0):En(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=s?0:dn.INT48_MIN,o=s?dn.INT48_UNSIGNED_MAX:dn.INT48_MAX):En(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||En(e,["MySqlSerial","SingleStoreSerial"]),i=s?0:Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,u=!0):En(e,["MySqlYear","SingleStoreYear"])?(i=1901,o=2155,u=!0):(i=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER);let c=n===!0||n?.number?t.coerce.number():t.number();return c=c.min(i).max(o),u?c.int():c}function N5(e,t,n){const s=e.getSQLType().includes("unsigned"),i=s?0n:dn.INT64_MIN,o=s?dn.INT64_UNSIGNED_MAX:dn.INT64_MAX;return(n===!0||n?.bigint?t.coerce.bigint():t.bigint()).min(i).max(o)}function S5(e,t,n){if(En(e,["PgUUID"]))return t.string().uuid();let s,i,o=!1;En(e,["PgVarchar","SQLiteText"])?s=e.length:En(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??dn.INT16_UNSIGNED_MAX:En(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=dn.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=dn.INT24_UNSIGNED_MAX:e.textType==="text"?s=dn.INT16_UNSIGNED_MAX:s=dn.INT8_UNSIGNED_MAX),En(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,o=!0),En(e,["PgBinaryVector"])&&(i=/^[01]+$/,s=e.dimensions);let u=n===!0||n?.string?t.coerce.string():t.string();return u=i?u.regex(i):u,s&&o?u.length(s):s?u.max(s):u}function SS(e){return xS(e)?gD(e):xD(e)}function CS(e,t,n,s){const i={};for(const[o,u]of Object.entries(e)){if(!Yn(u,au)&&!Yn(u,wn)&&!Yn(u,wn.Aliased)&&typeof u=="object"){const x=xS(u)||pD(u)?SS(u):u;i[o]=CS(x,t[o]??{},n,s);continue}const c=t[o];if(c!==void 0&&typeof c!="function"){i[o]=c;continue}const f=Yn(u,au)?u:void 0,m=f?NS(f,s):G.any(),p=typeof c=="function"?c(m):m;n.never(f)||(i[o]=p,f&&(n.nullable(f)&&(i[o]=i[o].nullable()),n.optional(f)&&(i[o]=i[o].optional())))}return G.object(i)}const C5={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},vr=(e,t)=>{const n=SS(e);return CS(n,{},C5)},Rt=gt("users",{id:ft("id").primaryKey(),username:ue("username").notNull().unique(),password:ue("password").notNull(),role:ue("role").notNull().default("miembro"),displayName:ue("display_name"),bio:ue("bio"),avatarUrl:ue("avatar_url"),isActive:gn("is_active").notNull().default(!1),cargo:ue("cargo"),country:ue("country"),phone:ue("phone"),email:ue("email"),createdAt:Ye("created_at").defaultNow()}),E5=["Pastor","Evangelista","Coordinador","Lider de Alabanza","Maestro","Diacono","Misionero","Intercesor","Ujier","Lider de Jovenes","Lider de Ninos","Tesorero","Secretario"],uv=["Estados Unidos","Venezuela","Peru","Colombia","Mexico","Guatemala","Honduras","El Salvador","Nicaragua","Costa Rica","Panama","Ecuador","Chile","Argentina","Brasil","Bolivia","Paraguay","Uruguay","Republica Dominicana","Cuba","Puerto Rico","Espana","Otro"],_5=gt("messages",{id:ft("id").primaryKey(),name:ue("name").notNull(),email:ue("email").notNull(),subject:ue("subject").notNull(),content:ue("content").notNull(),isRead:gn("is_read").notNull().default(!1),createdAt:Ye("created_at").defaultNow()}),P5=gt("member_posts",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),content:ue("content").notNull(),createdAt:Ye("created_at").defaultNow()}),k5=gt("events",{id:ft("id").primaryKey(),title:ue("title").notNull(),description:ue("description").notNull(),eventDate:Ye("event_date").notNull(),eventEndDate:Ye("event_end_date"),location:ue("location").notNull(),imageUrl:ue("image_url"),isPublished:gn("is_published").notNull().default(!0),createdBy:me("created_by").references(()=>Rt.id),createdAt:Ye("created_at").defaultNow()});gt("site_content",{id:ft("id").primaryKey(),sectionKey:ue("section_key").notNull().unique(),title:ue("title"),content:ue("content"),updatedAt:Ye("updated_at").defaultNow(),updatedBy:me("updated_by").references(()=>Rt.id)});const yo=gt("courses",{id:ft("id").primaryKey(),title:ue("title").notNull(),description:ue("description").notNull(),category:ue("category").notNull().default("general"),imageUrl:ue("image_url"),isActive:gn("is_active").notNull().default(!0),maxStudents:me("max_students"),teacherId:me("teacher_id").references(()=>Rt.id),createdBy:me("created_by").references(()=>Rt.id),createdAt:Ye("created_at").defaultNow()}),T5=gt("course_materials",{id:ft("id").primaryKey(),courseId:me("course_id").notNull().references(()=>yo.id),title:ue("title").notNull(),description:ue("description"),fileUrl:ue("file_url"),materialType:ue("material_type").notNull().default("documento"),sortOrder:me("sort_order").notNull().default(0),createdAt:Ye("created_at").defaultNow()}),ES=gt("course_sessions",{id:ft("id").primaryKey(),courseId:me("course_id").notNull().references(()=>yo.id),title:ue("title").notNull(),description:ue("description"),sessionDate:Ye("session_date").notNull(),duration:me("duration"),meetingUrl:ue("meeting_url"),meetingPlatform:ue("meeting_platform").default("zoom"),isCompleted:gn("is_completed").notNull().default(!1),createdAt:Ye("created_at").defaultNow()});gt("enrollments",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),courseId:me("course_id").notNull().references(()=>yo.id),status:ue("status").notNull().default("solicitado"),grade:ue("grade"),observations:ue("observations"),enrolledAt:Ye("enrolled_at").defaultNow(),completedAt:Ye("completed_at")});vr(Rt).pick({username:!0,password:!0,role:!0,displayName:!0,bio:!0,avatarUrl:!0,isActive:!0,country:!0,phone:!0,email:!0});const A5=vr(Rt).pick({displayName:!0,bio:!0,avatarUrl:!0,country:!0,phone:!0,email:!0}).partial(),R5=vr(_5);vr(P5).pick({content:!0});const O5=vr(k5).pick({title:!0,description:!0,location:!0,imageUrl:!0,isPublished:!0}).extend({eventDate:G.string(),eventEndDate:G.string().optional().nullable()});O5.partial();G.object({title:G.string().optional().nullable(),content:G.string().optional().nullable()});const I5=vr(yo).pick({title:!0,description:!0,category:!0,imageUrl:!0,isActive:!0,maxStudents:!0,teacherId:!0});I5.partial();const M5=vr(T5).pick({courseId:!0,title:!0,description:!0,fileUrl:!0,materialType:!0,sortOrder:!0});M5.omit({courseId:!0}).partial();const D5=vr(ES).pick({courseId:!0,title:!0,description:!0,duration:!0,meetingUrl:!0,meetingPlatform:!0}).extend({sessionDate:G.string()});D5.omit({courseId:!0}).partial().extend({isCompleted:G.boolean().optional()});G.object({courseId:G.number()});G.object({status:G.enum(["solicitado","aprobado","rechazado","completado"]).optional(),grade:G.string().optional().nullable(),observations:G.string().optional().nullable()});gt("teacher_requests",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),courseId:me("course_id").notNull().references(()=>yo.id),status:ue("status").notNull().default("solicitado"),message:ue("message"),createdAt:Ye("created_at").defaultNow()});G.object({courseId:G.number(),message:G.string().optional().nullable()});G.object({status:G.enum(["solicitado","aprobado","rechazado"])});gt("course_announcements",{id:ft("id").primaryKey(),courseId:me("course_id").notNull().references(()=>yo.id),authorId:me("author_id").notNull().references(()=>Rt.id),title:ue("title").notNull(),content:ue("content").notNull(),isPinned:gn("is_pinned").notNull().default(!1),createdAt:Ye("created_at").defaultNow()});gt("course_schedule",{id:ft("id").primaryKey(),courseId:me("course_id").notNull().references(()=>yo.id),dayOfWeek:me("day_of_week").notNull(),startTime:ue("start_time").notNull(),endTime:ue("end_time").notNull(),meetingUrl:ue("meeting_url"),meetingPlatform:ue("meeting_platform").default("zoom"),description:ue("description"),isActive:gn("is_active").notNull().default(!0)});gt("session_attendance",{id:ft("id").primaryKey(),sessionId:me("session_id").notNull().references(()=>ES.id),userId:me("user_id").notNull().references(()=>Rt.id),status:ue("status").notNull().default("presente"),createdAt:Ye("created_at").defaultNow()});G.object({courseId:G.number(),title:G.string().min(1),content:G.string().min(1),isPinned:G.boolean().optional()});G.object({title:G.string().min(1).optional(),content:G.string().min(1).optional(),isPinned:G.boolean().optional()});const $5=G.object({courseId:G.number(),dayOfWeek:G.number().min(0).max(6),startTime:G.string(),endTime:G.string(),meetingUrl:G.string().optional().nullable(),meetingPlatform:G.string().optional(),description:G.string().optional().nullable(),isActive:G.boolean().optional()});$5.omit({courseId:!0}).partial();G.object({sessionId:G.number(),userId:G.number(),status:G.enum(["presente","ausente","tardanza","excusado"]).optional()});const ax={0:"Domingo",1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sabado"},dv={zoom:"Zoom",google_meet:"Google Meet",teams:"Microsoft Teams",otro:"Otro"},_S={solicitado:"Solicitado",aprobado:"Aprobado",rechazado:"Rechazado"},Es={admin:"Administrador",obrero:"Maestro",miembro:"Miembro",usuario:"Usuario"},L5=gt("ministry_regions",{id:ft("id").primaryKey(),name:ue("name").notNull().unique(),isActive:gn("is_active").notNull().default(!0),sortOrder:me("sort_order").notNull().default(0),createdAt:Ye("created_at").defaultNow()}),F5=vr(L5).pick({name:!0,isActive:!0,sortOrder:!0});F5.partial();const z5=gt("team_members",{id:ft("id").primaryKey(),name:ue("name").notNull(),role:ue("role").notNull(),description:ue("description"),verse:ue("verse"),initials:ue("initials"),avatarUrl:ue("avatar_url"),sortOrder:me("sort_order").notNull().default(0),isActive:gn("is_active").notNull().default(!0),createdAt:Ye("created_at").defaultNow()}),V5=vr(z5).pick({name:!0,role:!0,description:!0,verse:!0,initials:!0,avatarUrl:!0,sortOrder:!0,isActive:!0});V5.partial();const wo={solicitado:"Solicitado",aprobado:"Aprobado",rechazado:"Rechazado",completado:"Completado"},Lf={documento:"Documento",video:"Video",enlace:"Enlace",audio:"Audio",presentacion:"Presentacion"},fi={general:"General",doctrina:"Doctrina",liderazgo:"Liderazgo",evangelismo:"Evangelismo",adoracion:"Adoracion",consejeria:"Consejeria",ninos:"Ministerio Infantil",jovenes:"Jovenes"};gt("bible_highlights",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),book:ue("book").notNull(),chapter:me("chapter").notNull(),verseStart:me("verse_start").notNull(),verseEnd:me("verse_end").notNull(),color:ue("color").notNull().default("#FFA500"),note:ue("note"),createdAt:Ye("created_at").defaultNow()});gt("bible_notes",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),book:ue("book").notNull(),chapter:me("chapter").notNull(),verse:me("verse").notNull(),content:ue("content").notNull(),createdAt:Ye("created_at").defaultNow()});const U5=gt("reading_plans",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),title:ue("title").notNull(),description:ue("description"),isPublic:gn("is_public").notNull().default(!1),createdAt:Ye("created_at").defaultNow()});gt("reading_plan_items",{id:ft("id").primaryKey(),planId:me("plan_id").notNull().references(()=>U5.id),book:ue("book").notNull(),chapter:me("chapter").notNull(),isCompleted:gn("is_completed").notNull().default(!1),completedAt:Ye("completed_at"),sortOrder:me("sort_order").notNull().default(0)});const PS=gt("reading_club_posts",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),book:ue("book").notNull(),chapter:me("chapter").notNull(),verseStart:me("verse_start"),verseEnd:me("verse_end"),content:ue("content").notNull(),createdAt:Ye("created_at").defaultNow()});gt("reading_club_comments",{id:ft("id").primaryKey(),postId:me("post_id").notNull().references(()=>PS.id),userId:me("user_id").notNull().references(()=>Rt.id),content:ue("content").notNull(),createdAt:Ye("created_at").defaultNow()});gt("reading_club_post_likes",{id:ft("id").primaryKey(),postId:me("post_id").notNull().references(()=>PS.id),userId:me("user_id").notNull().references(()=>Rt.id),createdAt:Ye("created_at").defaultNow()});const B5=gt("library_resources",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),title:ue("title").notNull(),description:ue("description"),resourceType:ue("resource_type").notNull().default("documento"),fileData:ue("file_data"),fileUrl:ue("file_url"),fileName:ue("file_name"),fileSize:me("file_size"),category:ue("category").notNull().default("general"),createdAt:Ye("created_at").defaultNow()});gt("library_resource_likes",{id:ft("id").primaryKey(),resourceId:me("resource_id").notNull().references(()=>B5.id),userId:me("user_id").notNull().references(()=>Rt.id),createdAt:Ye("created_at").defaultNow()});G.object({book:G.string().min(1),chapter:G.number().min(1),verseStart:G.number().min(1),verseEnd:G.number().min(1),color:G.string().optional(),note:G.string().optional().nullable()});G.object({book:G.string().min(1),chapter:G.number().min(1),verse:G.number().min(1),content:G.string().min(1)});G.object({title:G.string().min(1),description:G.string().optional().nullable(),isPublic:G.boolean().optional()});G.object({planId:G.number(),book:G.string().min(1),chapter:G.number().min(1),sortOrder:G.number().optional()});G.object({book:G.string().min(1),chapter:G.number().min(1),verseStart:G.number().optional().nullable(),verseEnd:G.number().optional().nullable(),content:G.string().min(1)});G.object({postId:G.number(),content:G.string().min(1)});G.object({title:G.string().min(1),description:G.string().optional().nullable(),resourceType:G.string().optional(),fileData:G.string().optional().nullable(),fileUrl:G.string().optional().nullable(),fileName:G.string().optional().nullable(),fileSize:G.number().optional().nullable(),category:G.string().optional()});gt("notifications",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),type:ue("type").notNull().default("general"),title:ue("title").notNull(),content:ue("content").notNull(),link:ue("link"),isRead:gn("is_read").notNull().default(!1),createdAt:Ye("created_at").defaultNow()});G.object({userId:G.number(),type:G.string(),title:G.string().min(1),content:G.string().min(1),link:G.string().optional().nullable()});gt("prayer_activities",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),title:ue("title").notNull(),description:ue("description"),meetingUrl:ue("meeting_url"),meetingPlatform:ue("meeting_platform").default("zoom"),scheduledDate:Ye("scheduled_date"),isActive:gn("is_active").notNull().default(!0),createdAt:Ye("created_at").defaultNow()});G.object({title:G.string().min(1),description:G.string().optional().nullable(),meetingUrl:G.string().optional().nullable(),meetingPlatform:G.string().optional(),scheduledDate:G.string().optional().nullable()});const kS=gt("region_posts",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),region:ue("region").notNull(),content:ue("content").notNull(),imageUrl:ue("image_url"),createdAt:Ye("created_at").defaultNow()});G.object({region:G.string().min(1),content:G.string().min(1),imageUrl:G.string().optional().nullable()});const q5={fuego:"Fuego",oracion:"Oracion",amen:"Amen",corazon:"Corazon",alabanza:"Alabanza"};gt("region_post_reactions",{id:ft("id").primaryKey(),postId:me("post_id").notNull().references(()=>kS.id),userId:me("user_id").notNull().references(()=>Rt.id),reactionType:ue("reaction_type").notNull(),createdAt:Ye("created_at").defaultNow()});const H5=gt("region_post_polls",{id:ft("id").primaryKey(),postId:me("post_id").notNull().references(()=>kS.id),question:ue("question").notNull(),createdAt:Ye("created_at").defaultNow()}),W5=gt("region_post_poll_options",{id:ft("id").primaryKey(),pollId:me("poll_id").notNull().references(()=>H5.id),optionText:ue("option_text").notNull(),sortOrder:me("sort_order").notNull().default(0)});gt("region_post_poll_votes",{id:ft("id").primaryKey(),optionId:me("option_id").notNull().references(()=>W5.id),userId:me("user_id").notNull().references(()=>Rt.id),createdAt:Ye("created_at").defaultNow()});G.object({question:G.string().min(1),options:G.array(G.string().min(1)).min(2).max(6)});const TS={facil:"Facil",medio:"Medio",dificil:"Dificil",experto:"Experto"},K5=gt("game_questions",{id:ft("id").primaryKey(),type:ue("type").notNull().default("multiple"),difficulty:ue("difficulty").notNull().default("facil"),category:ue("category").notNull().default("biblia"),question:ue("question").notNull(),options:ue("options").array(),correctAnswer:ue("correct_answer").notNull(),explanation:ue("explanation"),bibleReference:ue("bible_reference"),points:me("points").notNull().default(10),createdAt:Ye("created_at").defaultNow()});gt("game_profiles",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),level:me("level").notNull().default(1),totalPoints:me("total_points").notNull().default(0),energy:me("energy").notNull().default(15),maxEnergy:me("max_energy").notNull().default(15),streak:me("streak").notNull().default(0),bestStreak:me("best_streak").notNull().default(0),questionsAnswered:me("questions_answered").notNull().default(0),correctAnswers:me("correct_answers").notNull().default(0),currentFlameLevel:me("current_flame_level").notNull().default(1),lastEnergyRefill:Ye("last_energy_refill").defaultNow(),lastPlayedAt:Ye("last_played_at"),createdAt:Ye("created_at").defaultNow()});gt("game_answers",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),questionId:me("question_id").notNull().references(()=>K5.id),selectedAnswer:ue("selected_answer").notNull(),isCorrect:gn("is_correct").notNull(),pointsEarned:me("points_earned").notNull().default(0),difficulty:ue("difficulty").notNull(),createdAt:Ye("created_at").defaultNow()});const Q5=gt("game_missions",{id:ft("id").primaryKey(),title:ue("title").notNull(),description:ue("description").notNull(),missionType:ue("mission_type").notNull(),targetAction:ue("target_action").notNull(),targetCount:me("target_count").notNull().default(1),rewardEnergy:me("reward_energy").notNull().default(1),rewardPoints:me("reward_points").notNull().default(0),isActive:gn("is_active").notNull().default(!0),createdAt:Ye("created_at").defaultNow()});gt("user_missions",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),missionId:me("mission_id").notNull().references(()=>Q5.id),progress:me("progress").notNull().default(0),isCompleted:gn("is_completed").notNull().default(!1),completedAt:Ye("completed_at"),createdAt:Ye("created_at").defaultNow()});const G5={completar_versiculo:"Completar Versiculo",ordenar_eventos:"Ordenar Eventos",parear:"Parear Conceptos",comparar_pasajes:"Comparar Pasajes",opcion_multiple:"Opcion Multiple",verdadero_falso:"Verdadero o Falso",reflexion:"Reflexion"},AS=gt("story_chapters",{id:ft("id").primaryKey(),chapterNumber:me("chapter_number").notNull(),title:ue("title").notNull(),description:ue("description"),category:ue("category").notNull().default("Antiguo Testamento"),bibleBook:ue("bible_book"),isActive:gn("is_active").notNull().default(!0),createdAt:Ye("created_at").defaultNow()}),Z5=gt("story_activities",{id:ft("id").primaryKey(),chapterId:me("chapter_id").notNull().references(()=>AS.id),activityOrder:me("activity_order").notNull().default(1),activityType:ue("activity_type").notNull(),title:ue("title").notNull(),instruction:ue("instruction").notNull(),content:ue("content").notNull(),correctAnswer:ue("correct_answer"),explanation:ue("explanation"),bibleReference:ue("bible_reference"),createdAt:Ye("created_at").defaultNow()});gt("story_progress",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),chapterId:me("chapter_id").notNull().references(()=>AS.id),activityId:me("activity_id").notNull().references(()=>Z5.id),completed:gn("completed").notNull().default(!1),userAnswer:ue("user_answer"),isCorrect:gn("is_correct"),completedAt:Ye("completed_at"),createdAt:Ye("created_at").defaultNow()});G.object({type:G.string().default("multiple"),difficulty:G.string().default("facil"),category:G.string().default("biblia"),question:G.string().min(1),options:G.array(G.string()).optional().nullable(),correctAnswer:G.string().min(1),explanation:G.string().optional().nullable(),bibleReference:G.string().optional().nullable(),points:G.number().optional()});G.object({questionId:G.number(),selectedAnswer:G.string().min(1)});const X5=gt("city_profiles",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id).unique(),cityName:ue("city_name").notNull().default("Nueva Jerusalem"),level:me("level").notNull().default(1),xp:me("xp").notNull().default(0),gold:me("gold").notNull().default(100),food:me("food").notNull().default(50),wood:me("wood").notNull().default(80),stone:me("stone").notNull().default(40),faith:me("faith").notNull().default(10),population:me("population").notNull().default(0),maxPopulation:me("max_population").notNull().default(10),lastCollectedAt:Ye("last_collected_at").defaultNow(),createdAt:Ye("created_at").defaultNow()}),RS=gt("city_tiles",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),x:me("x").notNull(),y:me("y").notNull(),buildingKey:ue("building_key").notNull(),level:me("level").notNull().default(1),state:ue("state").notNull().default("ready"),plantedAt:Ye("planted_at"),readyAt:Ye("ready_at"),lastHarvestAt:Ye("last_harvest_at"),createdAt:Ye("created_at").defaultNow()}),OS=gt("city_missions",{id:ft("id").primaryKey(),title:ue("title").notNull(),description:ue("description").notNull(),bibleReference:ue("bible_reference"),missionType:ue("mission_type").notNull().default("build"),targetKey:ue("target_key"),targetCount:me("target_count").notNull().default(1),rewardGold:me("reward_gold").notNull().default(0),rewardFood:me("reward_food").notNull().default(0),rewardWood:me("reward_wood").notNull().default(0),rewardStone:me("reward_stone").notNull().default(0),rewardFaith:me("reward_faith").notNull().default(0),rewardXp:me("reward_xp").notNull().default(10),requiredLevel:me("required_level").notNull().default(1),sortOrder:me("sort_order").notNull().default(0)});gt("user_city_missions",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),missionId:me("mission_id").notNull().references(()=>OS.id),progress:me("progress").notNull().default(0),isCompleted:gn("is_completed").notNull().default(!1),isClaimed:gn("is_claimed").notNull().default(!1),completedAt:Ye("completed_at"),claimedAt:Ye("claimed_at")});gt("city_helps",{id:ft("id").primaryKey(),helperId:me("helper_id").notNull().references(()=>Rt.id),ownerId:me("owner_id").notNull().references(()=>Rt.id),helpType:ue("help_type").notNull().default("boost"),tileId:me("tile_id").references(()=>RS.id),createdAt:Ye("created_at").defaultNow()});const J5=gt("city_trades",{id:ft("id").primaryKey(),fromUserId:me("from_user_id").notNull().references(()=>Rt.id),toUserId:me("to_user_id"),offerResource:ue("offer_resource").notNull(),offerAmount:me("offer_amount").notNull(),requestResource:ue("request_resource").notNull(),requestAmount:me("request_amount").notNull(),status:ue("status").notNull().default("open"),createdAt:Ye("created_at").defaultNow()});vr(X5).omit({id:!0,createdAt:!0});vr(RS).omit({id:!0,createdAt:!0});vr(OS).omit({id:!0});vr(J5).omit({id:!0,createdAt:!0,status:!0});const Y5=gt("game_rooms",{id:ft("id").primaryKey(),gameType:ue("game_type").notNull(),roomCode:ue("room_code").notNull(),player1Id:me("player1_id").notNull().references(()=>Rt.id),player2Id:me("player2_id").references(()=>Rt.id),status:ue("status").notNull().default("waiting"),gameState:ue("game_state").notNull().default("{}"),currentTurn:me("current_turn"),winnerId:me("winner_id").references(()=>Rt.id),isDraw:gn("is_draw").notNull().default(!1),createdAt:Ye("created_at").defaultNow(),updatedAt:Ye("updated_at").defaultNow()}),e$=gt("game_stats",{id:ft("id").primaryKey(),userId:me("user_id").notNull().references(()=>Rt.id),gameType:ue("game_type").notNull(),wins:me("wins").notNull().default(0),losses:me("losses").notNull().default(0),draws:me("draws").notNull().default(0)});vr(Y5).omit({id:!0,createdAt:!0,updatedAt:!0});vr(e$).omit({id:!0});const bl={tictactoe:{name:"Tres en Raya",description:"Clasico juego de X y O",icon:"grid3x3",players:2,category:"estrategia"},connect4:{name:"Conecta 4",description:"Conecta cuatro fichas en linea",icon:"circle",players:2,category:"estrategia"},memory:{name:"Memoria",description:"Encuentra los pares de cartas",icon:"brain",players:2,category:"mental"},checkers:{name:"Damas",description:"Juego clasico de damas",icon:"crown",players:2,category:"estrategia"},chess:{name:"Ajedrez",description:"El rey de los juegos de mesa",icon:"castle",players:2,category:"estrategia"},bingo:{name:"Bingo",description:"Bingo en tiempo real",icon:"ticket",players:2,category:"suerte"},domino:{name:"Domino",description:"Juego clasico de fichas",icon:"rectangleHorizontal",players:2,category:"estrategia"}},t$={"#FFA500":"Naranja","#FFD700":"Amarillo","#90EE90":"Verde","#87CEEB":"Azul","#DDA0DD":"Morado","#FFB6C1":"Rosa"},ng={general:"General",estudio:"Estudio Biblico",devocional:"Devocional",teologia:"Teologia",sermones:"Sermones",musica:"Musica",jovenes:"Jovenes",ninos:"Ninos"},fv=["Genesis","Exodo","Levitico","Numeros","Deuteronomio","Josue","Jueces","Rut","1 Samuel","2 Samuel","1 Reyes","2 Reyes","1 Cronicas","2 Cronicas","Esdras","Nehemias","Ester","Job","Salmos","Proverbios","Eclesiastes","Cantares","Isaias","Jeremias","Lamentaciones","Ezequiel","Daniel","Oseas","Joel","Amos","Abdias","Jonas","Miqueas","Nahum","Habacuc","Sofonias","Hageo","Zacarias","Malaquias","Mateo","Marcos","Lucas","Juan","Hechos","Romanos","1 Corintios","2 Corintios","Galatas","Efesios","Filipenses","Colosenses","1 Tesalonicenses","2 Tesalonicenses","1 Timoteo","2 Timoteo","Tito","Filemon","Hebreos","Santiago","1 Pedro","2 Pedro","1 Juan","2 Juan","3 Juan","Judas","Apocalipsis"];G.object({message:G.string()}),G.object({message:G.string()}),G.object({message:G.string()});const Q={auth:{login:{path:"/api/login",input:G.object({username:G.string(),password:G.string()}),responses:{200:G.custom()}},register:{path:"/api/register",responses:{201:G.custom()}},logout:{path:"/api/logout",responses:{200:G.void()}},me:{path:"/api/user",responses:{200:G.custom()}}},users:{get:{path:"/api/users/:id"},update:{path:"/api/users/:id"}},contact:{send:{input:R5.omit({id:!0,createdAt:!0,isRead:!0})}},posts:{list:{path:"/api/posts"},create:{path:"/api/posts"},delete:{path:"/api/posts/:id"}},events:{list:{path:"/api/events"},create:{path:"/api/events"},update:{path:"/api/events/:id"},delete:{path:"/api/events/:id"}},siteContent:{get:{path:"/api/content/:key"},list:{path:"/api/content"},update:{path:"/api/content/:key"}},courses:{list:{path:"/api/courses"},get:{path:"/api/courses/:id"},create:{path:"/api/courses"},update:{path:"/api/courses/:id"},delete:{path:"/api/courses/:id"}},courseMaterials:{list:{path:"/api/courses/:courseId/materials"},delete:{path:"/api/materials/:id"}},courseSessions:{list:{path:"/api/courses/:courseId/sessions"},update:{path:"/api/sessions/:id"},delete:{path:"/api/sessions/:id"}},enrollments:{list:{path:"/api/enrollments"},listByCourse:{path:"/api/courses/:courseId/enrollments"},create:{path:"/api/enrollments"},update:{path:"/api/enrollments/:id"},delete:{path:"/api/enrollments/:id"}},teacherRequests:{list:{path:"/api/teacher-requests"},myRequests:{path:"/api/my-teacher-requests"},create:{path:"/api/teacher-requests"},update:{path:"/api/teacher-requests/:id"},delete:{path:"/api/teacher-requests/:id"}},courseAnnouncements:{list:{path:"/api/courses/:courseId/announcements"},delete:{path:"/api/announcements/:id"}},courseScheduleEntries:{list:{path:"/api/courses/:courseId/schedule"},delete:{path:"/api/schedule/:id"}},bibleHighlights:{list:{path:"/api/bible/highlights"},create:{path:"/api/bible/highlights"},delete:{path:"/api/bible/highlights/:id"}},bibleNotes:{list:{path:"/api/bible/notes"},create:{path:"/api/bible/notes"},update:{input:G.object({content:G.string().min(1)})},delete:{path:"/api/bible/notes/:id"}},readingPlans:{list:{path:"/api/reading-plans"},get:{path:"/api/reading-plans/:id"},create:{path:"/api/reading-plans"},delete:{path:"/api/reading-plans/:id"},addItem:{path:"/api/reading-plans/:id/items"},toggleItem:{path:"/api/reading-plan-items/:id/toggle"}},readingClub:{list:{path:"/api/reading-club"},create:{path:"/api/reading-club"},listComments:{path:"/api/reading-club/:id/comments"},createComment:{path:"/api/reading-club/:id/comments"}},libraryResources:{list:{path:"/api/library-resources"},create:{path:"/api/library-resources"},delete:{path:"/api/library-resources/:id"},toggleLike:{path:"/api/library-resources/:id/like"}},readingClubLikes:{toggle:{path:"/api/reading-club/:id/like"}},admin:{listUsers:{path:"/api/admin/users"},toggleActive:{path:"/api/admin/users/:id/toggle-active"},updateRole:{path:"/api/admin/users/:id/role"},updateUserInfo:{path:"/api/admin/users/:id/info"},deleteUser:{path:"/api/admin/users/:id"},listMessages:{path:"/api/admin/messages"},toggleMessageRead:{path:"/api/admin/messages/:id/toggle-read"},deleteMessage:{path:"/api/admin/messages/:id"},getWhatsappLink:{path:"/api/admin/whatsapp-link"},updateWhatsappLink:{path:"/api/admin/whatsapp-link"},getLiveStream:{path:"/api/live-stream"},updateLiveStream:{path:"/api/admin/live-stream"},getUserDetail:{path:"/api/admin/users/:id/detail"}}};function bt(e,t){let n=e;return t&&Object.entries(t).forEach(([s,i])=>{n=n.replace(`:${s}`,String(i))}),n}function an(){const e=ot(),{toast:t}=rt(),{data:n,isLoading:s,error:i}=vt({queryKey:[Q.auth.me.path],queryFn:async()=>{const f=await fetch(Q.auth.me.path);if(f.status===401)return null;if(!f.ok)throw new Error("Error al obtener usuario");return f.json()},retry:!1}),o=De({mutationFn:async f=>{const m=await fetch(Q.auth.login.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!m.ok){const p=await m.json().catch(()=>null);throw new Error(p?.message||"Error al iniciar sesion")}return m.json()},onSuccess:f=>{e.setQueryData([Q.auth.me.path],f),t({title:"Bienvenido!",description:`Sesion iniciada como ${f.username}`})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),u=De({mutationFn:async f=>{const m=await fetch(Q.auth.register.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),p=await m.json();if(!m.ok)throw new Error(p.message||"Error en el registro");return p},onSuccess:f=>{e.setQueryData([Q.auth.me.path],f),f.pending?t({title:"Registro exitoso",description:"Tu cuenta esta activa. Un administrador aprobara tu cuenta para acceso completo."}):t({title:"Bienvenido!",description:"Cuenta creada exitosamente"})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),c=De({mutationFn:async()=>{if(!(await fetch(Q.auth.logout.path,{method:"POST"})).ok)throw new Error("Error al cerrar sesion")},onSuccess:()=>{e.setQueryData([Q.auth.me.path],null),e.clear(),t({title:"Hasta pronto",description:"Sesion cerrada"})}});return{user:n,isLoading:s,error:i,login:o.mutate,register:u.mutateAsync,logout:c.mutate,isLoggingIn:o.isPending,isRegistering:u.isPending,isLoggingOut:c.isPending,registerData:u.data}}function kt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Vb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $r(...e){return t=>{let n=!1;const s=e.map(i=>{const o=Vb(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():Vb(e[i],null)}}}}function xr(...e){return h.useCallback($r(...e),e)}function n$(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,r$(i,...t)]}function r$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var Ms=globalThis?.document?h.useLayoutEffect:()=>{},s$=Oa[" useInsertionEffect ".trim().toString()]||Ms;function mv({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,u]=i$({defaultProp:t,onChange:n}),c=e!==void 0,f=c?e:i;{const p=h.useRef(e!==void 0);h.useEffect(()=>{const x=p.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const m=h.useCallback(p=>{if(c){const x=a$(p)?p(e):p;x!==e&&u.current?.(x)}else o(p)},[c,e,o,u]);return[f,m]}function i$({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),i=h.useRef(n),o=h.useRef(t);return s$(()=>{o.current=t},[t]),h.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,s,o]}function a$(e){return typeof e=="function"}function o$(e){const t=l$(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(u$);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function l$(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=f$(i),c=d$(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var c$=Symbol("radix.slottable");function u$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===c$}function d$(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function f$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var m$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h$=m$.reduce((e,t)=>{const n=o$(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function p$(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,g$(i,...t)]}function g$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Ub(e){const t=x$(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(y$);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function x$(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=b$(i),c=w$(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v$=Symbol("radix.slottable");function y$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v$}function w$(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function b$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function IS(e){const t=e+"CollectionProvider",[n,s]=p$(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:N,children:E}=w,C=tt.useRef(null),P=tt.useRef(new Map).current;return r.jsx(i,{scope:N,itemMap:P,collectionRef:C,children:E})};u.displayName=t;const c=e+"CollectionSlot",f=Ub(c),m=tt.forwardRef((w,N)=>{const{scope:E,children:C}=w,P=o(c,E),k=xr(N,P.collectionRef);return r.jsx(f,{ref:k,children:C})});m.displayName=c;const p=e+"CollectionItemSlot",x="data-radix-collection-item",v=Ub(p),b=tt.forwardRef((w,N)=>{const{scope:E,children:C,...P}=w,k=tt.useRef(null),T=xr(N,k),R=o(p,E);return tt.useEffect(()=>(R.itemMap.set(k,{ref:k,...P}),()=>{R.itemMap.delete(k)})),r.jsx(v,{[x]:"",ref:T,children:C})});b.displayName=p;function S(w){const N=o(e+"CollectionConsumer",w);return tt.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const P=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((R,A)=>P.indexOf(R.ref.current)-P.indexOf(A.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},S,s]}function j$(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,N$(i,...t)]}function N$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var S$=h.createContext(void 0);function MS(e){const t=h.useContext(S$);return e||t||"ltr"}function C$(e){const t=E$(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(P$);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function E$(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=T$(i),c=k$(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _$=Symbol("radix.slottable");function P$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_$}function k$(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function T$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var A$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DS=A$.reduce((e,t)=>{const n=C$(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function R$(e,t){e&&pi.flushSync(()=>e.dispatchEvent(t))}function mi(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function O$(e,t=globalThis?.document){const n=mi(e);h.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var I$="DismissableLayer",ox="dismissableLayer.update",M$="dismissableLayer.pointerDownOutside",D$="dismissableLayer.focusOutside",Bb,$S=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hv=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...f}=e,m=h.useContext($S),[p,x]=h.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=h.useState({}),S=xr(t,A=>x(A)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),C=p?w.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,k=C>=E,T=F$(A=>{const B=A.target,Z=[...m.branches].some($=>$.contains(B));!k||Z||(i?.(A),u?.(A),A.defaultPrevented||c?.())},v),R=z$(A=>{const B=A.target;[...m.branches].some($=>$.contains(B))||(o?.(A),u?.(A),A.defaultPrevented||c?.())},v);return O$(A=>{C===m.layers.size-1&&(s?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},v),h.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Bb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),qb(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Bb)}},[p,v,n,m]),h.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),qb())},[p,m]),h.useEffect(()=>{const A=()=>b({});return document.addEventListener(ox,A),()=>document.removeEventListener(ox,A)},[]),r.jsx(DS.div,{...f,ref:S,style:{pointerEvents:P?k?"auto":"none":void 0,...e.style},onFocusCapture:kt(e.onFocusCapture,R.onFocusCapture),onBlurCapture:kt(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:kt(e.onPointerDownCapture,T.onPointerDownCapture)})});hv.displayName=I$;var $$="DismissableLayerBranch",L$=h.forwardRef((e,t)=>{const n=h.useContext($S),s=h.useRef(null),i=xr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(DS.div,{...e,ref:i})});L$.displayName=$$;function F$(e,t=globalThis?.document){const n=mi(e),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const o=c=>{if(c.target&&!s.current){let f=function(){LS(M$,n,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function z$(e,t=globalThis?.document){const n=mi(e),s=h.useRef(!1);return h.useEffect(()=>{const i=o=>{o.target&&!s.current&&LS(D$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qb(){const e=new CustomEvent(ox);document.dispatchEvent(e)}function LS(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?R$(i,o):i.dispatchEvent(o)}var rg=0;function FS(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hb()),document.body.insertAdjacentElement("beforeend",e[1]??Hb()),rg++,()=>{rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rg--}},[])}function Hb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function V$(e){const t=U$(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(q$);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function U$(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=W$(i),c=H$(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B$=Symbol("radix.slottable");function q$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B$}function H$(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function W$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var K$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Q$=K$.reduce((e,t)=>{const n=V$(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),sg="focusScope.autoFocusOnMount",ig="focusScope.autoFocusOnUnmount",Wb={bubbles:!1,cancelable:!0},G$="FocusScope",pv=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[c,f]=h.useState(null),m=mi(i),p=mi(o),x=h.useRef(null),v=xr(t,w=>f(w)),b=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let w=function(P){if(b.paused||!c)return;const k=P.target;c.contains(k)?x.current=k:ma(x.current,{select:!0})},N=function(P){if(b.paused||!c)return;const k=P.relatedTarget;k!==null&&(c.contains(k)||ma(x.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&ma(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const C=new MutationObserver(E);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),C.disconnect()}}},[s,c,b.paused]),h.useEffect(()=>{if(c){Qb.add(b);const w=document.activeElement;if(!c.contains(w)){const E=new CustomEvent(sg,Wb);c.addEventListener(sg,m),c.dispatchEvent(E),E.defaultPrevented||(Z$(tL(zS(c)),{select:!0}),document.activeElement===w&&ma(c))}return()=>{c.removeEventListener(sg,m),setTimeout(()=>{const E=new CustomEvent(ig,Wb);c.addEventListener(ig,p),c.dispatchEvent(E),E.defaultPrevented||ma(w??document.body,{select:!0}),c.removeEventListener(ig,p),Qb.remove(b)},0)}}},[c,m,p,b]);const S=h.useCallback(w=>{if(!n&&!s||b.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const C=w.currentTarget,[P,k]=X$(C);P&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&ma(P,{select:!0})):w.shiftKey&&E===P&&(w.preventDefault(),n&&ma(k,{select:!0})):E===C&&w.preventDefault()}},[n,s,b.paused]);return r.jsx(Q$.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});pv.displayName=G$;function Z$(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ma(s,{select:t}),document.activeElement!==n)return}function X$(e){const t=zS(e),n=Kb(t,e),s=Kb(t.reverse(),e);return[n,s]}function zS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kb(e,t){for(const n of e)if(!J$(n,{upTo:t}))return n}function J$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Y$(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Y$(e)&&t&&e.select()}}var Qb=eL();function eL(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Gb(e,t),e.unshift(t)},remove(t){e=Gb(e,t),e[0]?.resume()}}}function Gb(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function tL(e){return e.filter(t=>t.tagName!=="A")}var nL=Oa[" useId ".trim().toString()]||(()=>{}),rL=0;function Ff(e){const[t,n]=h.useState(nL());return Ms(()=>{n(s=>s??String(rL++))},[e]),t?`radix-${t}`:""}const sL=["top","right","bottom","left"],Aa=Math.min,Kr=Math.max,zf=Math.round,Hd=Math.floor,oi=e=>({x:e,y:e}),iL={left:"right",right:"left",bottom:"top",top:"bottom"},aL={start:"end",end:"start"};function lx(e,t,n){return Kr(e,Aa(t,n))}function Li(e,t){return typeof e=="function"?e(t):e}function Fi(e){return e.split("-")[0]}function Ol(e){return e.split("-")[1]}function gv(e){return e==="x"?"y":"x"}function xv(e){return e==="y"?"height":"width"}const oL=new Set(["top","bottom"]);function ti(e){return oL.has(Fi(e))?"y":"x"}function vv(e){return gv(ti(e))}function lL(e,t,n){n===void 0&&(n=!1);const s=Ol(e),i=vv(e),o=xv(i);let u=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=Vf(u)),[u,Vf(u)]}function cL(e){const t=Vf(e);return[cx(e),t,cx(t)]}function cx(e){return e.replace(/start|end/g,t=>aL[t])}const Zb=["left","right"],Xb=["right","left"],uL=["top","bottom"],dL=["bottom","top"];function fL(e,t,n){switch(e){case"top":case"bottom":return n?t?Xb:Zb:t?Zb:Xb;case"left":case"right":return t?uL:dL;default:return[]}}function mL(e,t,n,s){const i=Ol(e);let o=fL(Fi(e),n==="start",s);return i&&(o=o.map(u=>u+"-"+i),t&&(o=o.concat(o.map(cx)))),o}function Vf(e){return e.replace(/left|right|bottom|top/g,t=>iL[t])}function hL(e){return{top:0,right:0,bottom:0,left:0,...e}}function VS(e){return typeof e!="number"?hL(e):{top:e,right:e,bottom:e,left:e}}function Uf(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function Jb(e,t,n){let{reference:s,floating:i}=e;const o=ti(t),u=vv(t),c=xv(u),f=Fi(t),m=o==="y",p=s.x+s.width/2-i.width/2,x=s.y+s.height/2-i.height/2,v=s[c]/2-i[c]/2;let b;switch(f){case"top":b={x:p,y:s.y-i.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:x};break;case"left":b={x:s.x-i.width,y:x};break;default:b={x:s.x,y:s.y}}switch(Ol(t)){case"start":b[u]-=v*(n&&m?-1:1);break;case"end":b[u]+=v*(n&&m?-1:1);break}return b}async function pL(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:u,elements:c,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:v=!1,padding:b=0}=Li(t,e),S=VS(b),N=c[v?x==="floating"?"reference":"floating":x],E=Uf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:m,rootBoundary:p,strategy:f})),C=x==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),k=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},T=Uf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:P,strategy:f}):C);return{top:(E.top-T.top+S.top)/k.y,bottom:(T.bottom-E.bottom+S.bottom)/k.y,left:(E.left-T.left+S.left)/k.x,right:(T.right-E.right+S.right)/k.x}}const gL=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:u}=n,c=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:x}=Jb(m,s,f),v=s,b={},S=0;for(let N=0;N<c.length;N++){var w;const{name:E,fn:C}=c[N],{x:P,y:k,data:T,reset:R}=await C({x:p,y:x,initialPlacement:s,placement:v,strategy:i,middlewareData:b,rects:m,platform:{...u,detectOverflow:(w=u.detectOverflow)!=null?w:pL},elements:{reference:e,floating:t}});p=P??p,x=k??x,b={...b,[E]:{...b[E],...T}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(m=R.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:p,y:x}=Jb(m,v,f)),N=-1)}return{x:p,y:x,placement:v,strategy:i,middlewareData:b}},xL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:u,elements:c,middlewareData:f}=t,{element:m,padding:p=0}=Li(e,t)||{};if(m==null)return{};const x=VS(p),v={x:n,y:s},b=vv(i),S=xv(b),w=await u.getDimensions(m),N=b==="y",E=N?"top":"left",C=N?"bottom":"right",P=N?"clientHeight":"clientWidth",k=o.reference[S]+o.reference[b]-v[b]-o.floating[S],T=v[b]-o.reference[b],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let A=R?R[P]:0;(!A||!await(u.isElement==null?void 0:u.isElement(R)))&&(A=c.floating[P]||o.floating[S]);const B=k/2-T/2,Z=A/2-w[S]/2-1,$=Aa(x[E],Z),re=Aa(x[C],Z),H=$,ie=A-w[S]-re,Y=A/2-w[S]/2+B,ve=lx(H,Y,ie),W=!f.arrow&&Ol(i)!=null&&Y!==ve&&o.reference[S]/2-(Y<H?$:re)-w[S]/2<0,he=W?Y<H?Y-H:Y-ie:0;return{[b]:v[b]+he,data:{[b]:ve,centerOffset:Y-ve-he,...W&&{alignmentOffset:he}},reset:W}}}),vL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:u,initialPlacement:c,platform:f,elements:m}=t,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...N}=Li(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const E=Fi(i),C=ti(c),P=Fi(c)===c,k=await(f.isRTL==null?void 0:f.isRTL(m.floating)),T=v||(P||!w?[Vf(c)]:cL(c)),R=S!=="none";!v&&R&&T.push(...mL(c,w,S,k));const A=[c,...T],B=await f.detectOverflow(t,N),Z=[];let $=((s=o.flip)==null?void 0:s.overflows)||[];if(p&&Z.push(B[E]),x){const Y=lL(i,u,k);Z.push(B[Y[0]],B[Y[1]])}if($=[...$,{placement:i,overflows:Z}],!Z.every(Y=>Y<=0)){var re,H;const Y=(((re=o.flip)==null?void 0:re.index)||0)+1,ve=A[Y];if(ve&&(!(x==="alignment"?C!==ti(ve):!1)||$.every(L=>ti(L.placement)===C?L.overflows[0]>0:!0)))return{data:{index:Y,overflows:$},reset:{placement:ve}};let W=(H=$.filter(he=>he.overflows[0]<=0).sort((he,L)=>he.overflows[1]-L.overflows[1])[0])==null?void 0:H.placement;if(!W)switch(b){case"bestFit":{var ie;const he=(ie=$.filter(L=>{if(R){const z=ti(L.placement);return z===C||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,J)=>z+J,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:ie[0];he&&(W=he);break}case"initialPlacement":W=c;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function Yb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ej(e){return sL.some(t=>e[t]>=0)}const yL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:s}=t,{strategy:i="referenceHidden",...o}=Li(e,t);switch(i){case"referenceHidden":{const u=await s.detectOverflow(t,{...o,elementContext:"reference"}),c=Yb(u,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ej(c)}}}case"escaped":{const u=await s.detectOverflow(t,{...o,altBoundary:!0}),c=Yb(u,n.floating);return{data:{escapedOffsets:c,escaped:ej(c)}}}default:return{}}}}},US=new Set(["left","top"]);async function wL(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=Fi(n),c=Ol(n),f=ti(n)==="y",m=US.has(u)?-1:1,p=o&&f?-1:1,x=Li(t,e);let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof S=="number"&&(b=c==="end"?S*-1:S),f?{x:b*p,y:v*m}:{x:v*m,y:b*p}}const bL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:u,middlewareData:c}=t,f=await wL(t,e);return u===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:u}}}}},jL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i,platform:o}=t,{mainAxis:u=!0,crossAxis:c=!1,limiter:f={fn:E=>{let{x:C,y:P}=E;return{x:C,y:P}}},...m}=Li(e,t),p={x:n,y:s},x=await o.detectOverflow(t,m),v=ti(Fi(i)),b=gv(v);let S=p[b],w=p[v];if(u){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",P=S+x[E],k=S-x[C];S=lx(P,S,k)}if(c){const E=v==="y"?"top":"left",C=v==="y"?"bottom":"right",P=w+x[E],k=w-x[C];w=lx(P,w,k)}const N=f.fn({...t,[b]:S,[v]:w});return{...N,data:{x:N.x-n,y:N.y-s,enabled:{[b]:u,[v]:c}}}}}},NL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:u}=t,{offset:c=0,mainAxis:f=!0,crossAxis:m=!0}=Li(e,t),p={x:n,y:s},x=ti(i),v=gv(x);let b=p[v],S=p[x];const w=Li(c,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const P=v==="y"?"height":"width",k=o.reference[v]-o.floating[P]+N.mainAxis,T=o.reference[v]+o.reference[P]-N.mainAxis;b<k?b=k:b>T&&(b=T)}if(m){var E,C;const P=v==="y"?"width":"height",k=US.has(Fi(i)),T=o.reference[x]-o.floating[P]+(k&&((E=u.offset)==null?void 0:E[x])||0)+(k?0:N.crossAxis),R=o.reference[x]+o.reference[P]+(k?0:((C=u.offset)==null?void 0:C[x])||0)-(k?N.crossAxis:0);S<T?S=T:S>R&&(S=R)}return{[v]:b,[x]:S}}}},SL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:u,elements:c}=t,{apply:f=()=>{},...m}=Li(e,t),p=await u.detectOverflow(t,m),x=Fi(i),v=Ol(i),b=ti(i)==="y",{width:S,height:w}=o.floating;let N,E;x==="top"||x==="bottom"?(N=x,E=v===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(E=x,N=v==="end"?"top":"bottom");const C=w-p.top-p.bottom,P=S-p.left-p.right,k=Aa(w-p[N],C),T=Aa(S-p[E],P),R=!t.middlewareData.shift;let A=k,B=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=P),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=C),R&&!v){const $=Kr(p.left,0),re=Kr(p.right,0),H=Kr(p.top,0),ie=Kr(p.bottom,0);b?B=S-2*($!==0||re!==0?$+re:Kr(p.left,p.right)):A=w-2*(H!==0||ie!==0?H+ie:Kr(p.top,p.bottom))}await f({...t,availableWidth:B,availableHeight:A});const Z=await u.getDimensions(c.floating);return S!==Z.width||w!==Z.height?{reset:{rects:!0}}:{}}}};function km(){return typeof window<"u"}function Il(e){return BS(e)?(e.nodeName||"").toLowerCase():"#document"}function Zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xi(e){var t;return(t=(BS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BS(e){return km()?e instanceof Node||e instanceof Zr(e).Node:!1}function Ds(e){return km()?e instanceof Element||e instanceof Zr(e).Element:!1}function hi(e){return km()?e instanceof HTMLElement||e instanceof Zr(e).HTMLElement:!1}function tj(e){return!km()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zr(e).ShadowRoot}const CL=new Set(["inline","contents"]);function vu(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=$s(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!CL.has(i)}const EL=new Set(["table","td","th"]);function _L(e){return EL.has(Il(e))}const PL=[":popover-open",":modal"];function Tm(e){return PL.some(t=>{try{return e.matches(t)}catch{return!1}})}const kL=["transform","translate","scale","rotate","perspective"],TL=["transform","translate","scale","rotate","perspective","filter"],AL=["paint","layout","strict","content"];function yv(e){const t=wv(),n=Ds(e)?$s(e):e;return kL.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||TL.some(s=>(n.willChange||"").includes(s))||AL.some(s=>(n.contain||"").includes(s))}function RL(e){let t=Ra(e);for(;hi(t)&&!jl(t);){if(yv(t))return t;if(Tm(t))return null;t=Ra(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OL=new Set(["html","body","#document"]);function jl(e){return OL.has(Il(e))}function $s(e){return Zr(e).getComputedStyle(e)}function Am(e){return Ds(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ra(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tj(e)&&e.host||xi(e);return tj(t)?t.host:t}function qS(e){const t=Ra(e);return jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:hi(t)&&vu(t)?t:qS(t)}function ou(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=qS(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),u=Zr(i);if(o){const c=ux(u);return t.concat(u,u.visualViewport||[],vu(i)?i:[],c&&n?ou(c):[])}return t.concat(i,ou(i,[],n))}function ux(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HS(e){const t=$s(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=hi(e),o=i?e.offsetWidth:n,u=i?e.offsetHeight:s,c=zf(n)!==o||zf(s)!==u;return c&&(n=o,s=u),{width:n,height:s,$:c}}function bv(e){return Ds(e)?e:e.contextElement}function cl(e){const t=bv(e);if(!hi(t))return oi(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=HS(t);let u=(o?zf(n.width):n.width)/s,c=(o?zf(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const IL=oi(0);function WS(e){const t=Zr(e);return!wv()||!t.visualViewport?IL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ML(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zr(e)?!1:t}function ho(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=bv(e);let u=oi(1);t&&(s?Ds(s)&&(u=cl(s)):u=cl(e));const c=ML(o,n,s)?WS(o):oi(0);let f=(i.left+c.x)/u.x,m=(i.top+c.y)/u.y,p=i.width/u.x,x=i.height/u.y;if(o){const v=Zr(o),b=s&&Ds(s)?Zr(s):s;let S=v,w=ux(S);for(;w&&s&&b!==S;){const N=cl(w),E=w.getBoundingClientRect(),C=$s(w),P=E.left+(w.clientLeft+parseFloat(C.paddingLeft))*N.x,k=E.top+(w.clientTop+parseFloat(C.paddingTop))*N.y;f*=N.x,m*=N.y,p*=N.x,x*=N.y,f+=P,m+=k,S=Zr(w),w=ux(S)}}return Uf({width:p,height:x,x:f,y:m})}function Rm(e,t){const n=Am(e).scrollLeft;return t?t.left+n:ho(xi(e)).left+n}function KS(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Rm(e,n),i=n.top+t.scrollTop;return{x:s,y:i}}function DL(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",u=xi(s),c=t?Tm(t.floating):!1;if(s===u||c&&o)return n;let f={scrollLeft:0,scrollTop:0},m=oi(1);const p=oi(0),x=hi(s);if((x||!x&&!o)&&((Il(s)!=="body"||vu(u))&&(f=Am(s)),hi(s))){const b=ho(s);m=cl(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const v=u&&!x&&!o?KS(u,f):oi(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+p.x+v.x,y:n.y*m.y-f.scrollTop*m.y+p.y+v.y}}function $L(e){return Array.from(e.getClientRects())}function LL(e){const t=xi(e),n=Am(e),s=e.ownerDocument.body,i=Kr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Kr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Rm(e);const c=-n.scrollTop;return $s(s).direction==="rtl"&&(u+=Kr(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:u,y:c}}const nj=25;function FL(e,t){const n=Zr(e),s=xi(e),i=n.visualViewport;let o=s.clientWidth,u=s.clientHeight,c=0,f=0;if(i){o=i.width,u=i.height;const p=wv();(!p||p&&t==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}const m=Rm(s);if(m<=0){const p=s.ownerDocument,x=p.body,v=getComputedStyle(x),b=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(s.clientWidth-x.clientWidth-b);S<=nj&&(o-=S)}else m<=nj&&(o+=m);return{width:o,height:u,x:c,y:f}}const zL=new Set(["absolute","fixed"]);function VL(e,t){const n=ho(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=hi(e)?cl(e):oi(1),u=e.clientWidth*o.x,c=e.clientHeight*o.y,f=i*o.x,m=s*o.y;return{width:u,height:c,x:f,y:m}}function rj(e,t,n){let s;if(t==="viewport")s=FL(e,n);else if(t==="document")s=LL(xi(e));else if(Ds(t))s=VL(t,n);else{const i=WS(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Uf(s)}function QS(e,t){const n=Ra(e);return n===t||!Ds(n)||jl(n)?!1:$s(n).position==="fixed"||QS(n,t)}function UL(e,t){const n=t.get(e);if(n)return n;let s=ou(e,[],!1).filter(c=>Ds(c)&&Il(c)!=="body"),i=null;const o=$s(e).position==="fixed";let u=o?Ra(e):e;for(;Ds(u)&&!jl(u);){const c=$s(u),f=yv(u);!f&&c.position==="fixed"&&(i=null),(o?!f&&!i:!f&&c.position==="static"&&!!i&&zL.has(i.position)||vu(u)&&!f&&QS(e,u))?s=s.filter(p=>p!==u):i=c,u=Ra(u)}return t.set(e,s),s}function BL(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const u=[...n==="clippingAncestors"?Tm(t)?[]:UL(t,this._c):[].concat(n),s],c=u[0],f=u.reduce((m,p)=>{const x=rj(t,p,i);return m.top=Kr(x.top,m.top),m.right=Aa(x.right,m.right),m.bottom=Aa(x.bottom,m.bottom),m.left=Kr(x.left,m.left),m},rj(t,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function qL(e){const{width:t,height:n}=HS(e);return{width:t,height:n}}function HL(e,t,n){const s=hi(t),i=xi(t),o=n==="fixed",u=ho(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const f=oi(0);function m(){f.x=Rm(i)}if(s||!s&&!o)if((Il(t)!=="body"||vu(i))&&(c=Am(t)),s){const b=ho(t,!0,o,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else i&&m();o&&!s&&i&&m();const p=i&&!s&&!o?KS(i,c):oi(0),x=u.left+c.scrollLeft-f.x-p.x,v=u.top+c.scrollTop-f.y-p.y;return{x,y:v,width:u.width,height:u.height}}function ag(e){return $s(e).position==="static"}function sj(e,t){if(!hi(e)||$s(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xi(e)===n&&(n=n.ownerDocument.body),n}function GS(e,t){const n=Zr(e);if(Tm(e))return n;if(!hi(e)){let i=Ra(e);for(;i&&!jl(i);){if(Ds(i)&&!ag(i))return i;i=Ra(i)}return n}let s=sj(e,t);for(;s&&_L(s)&&ag(s);)s=sj(s,t);return s&&jl(s)&&ag(s)&&!yv(s)?n:s||RL(e)||n}const WL=async function(e){const t=this.getOffsetParent||GS,n=this.getDimensions,s=await n(e.floating);return{reference:HL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function KL(e){return $s(e).direction==="rtl"}const QL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:xi,getClippingRect:BL,getOffsetParent:GS,getElementRects:WL,getClientRects:$L,getDimensions:qL,getScale:cl,isElement:Ds,isRTL:KL};function ZS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GL(e,t){let n=null,s;const i=xi(e);function o(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function u(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const m=e.getBoundingClientRect(),{left:p,top:x,width:v,height:b}=m;if(c||t(),!v||!b)return;const S=Hd(x),w=Hd(i.clientWidth-(p+v)),N=Hd(i.clientHeight-(x+b)),E=Hd(p),P={rootMargin:-S+"px "+-w+"px "+-N+"px "+-E+"px",threshold:Kr(0,Aa(1,f))||1};let k=!0;function T(R){const A=R[0].intersectionRatio;if(A!==f){if(!k)return u();A?u(!1,A):s=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!ZS(m,e.getBoundingClientRect())&&u(),k=!1}try{n=new IntersectionObserver(T,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,P)}n.observe(e)}return u(!0),o}function ZL(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=bv(e),p=i||o?[...m?ou(m):[],...ou(t)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),o&&E.addEventListener("resize",n)});const x=m&&c?GL(m,n):null;let v=-1,b=null;u&&(b=new ResizeObserver(E=>{let[C]=E;C&&C.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(t)})),n()}),m&&!f&&b.observe(m),b.observe(t));let S,w=f?ho(e):null;f&&N();function N(){const E=ho(e);w&&!ZS(w,E)&&n(),w=E,S=requestAnimationFrame(N)}return n(),()=>{var E;p.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),x?.(),(E=b)==null||E.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const XL=bL,JL=jL,YL=vL,eF=SL,tF=yL,ij=xL,nF=NL,rF=(e,t,n)=>{const s=new Map,i={platform:QL,...n},o={...i.platform,_c:s};return gL(e,t,{...i,platform:o})};var sF=typeof document<"u",iF=function(){},mf=sF?h.useLayoutEffect:iF;function Bf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Bf(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!Bf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function XS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aj(e,t){const n=XS(e);return Math.round(t*n)/n}function og(e){const t=h.useRef(e);return mf(()=>{t.current=e}),t}function aF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:u}={},transform:c=!0,whileElementsMounted:f,open:m}=e,[p,x]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,b]=h.useState(s);Bf(v,s)||b(s);const[S,w]=h.useState(null),[N,E]=h.useState(null),C=h.useCallback(L=>{L!==R.current&&(R.current=L,w(L))},[]),P=h.useCallback(L=>{L!==A.current&&(A.current=L,E(L))},[]),k=o||S,T=u||N,R=h.useRef(null),A=h.useRef(null),B=h.useRef(p),Z=f!=null,$=og(f),re=og(i),H=og(m),ie=h.useCallback(()=>{if(!R.current||!A.current)return;const L={placement:t,strategy:n,middleware:v};re.current&&(L.platform=re.current),rF(R.current,A.current,L).then(z=>{const J={...z,isPositioned:H.current!==!1};Y.current&&!Bf(B.current,J)&&(B.current=J,pi.flushSync(()=>{x(J)}))})},[v,t,n,re,H]);mf(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,x(L=>({...L,isPositioned:!1})))},[m]);const Y=h.useRef(!1);mf(()=>(Y.current=!0,()=>{Y.current=!1}),[]),mf(()=>{if(k&&(R.current=k),T&&(A.current=T),k&&T){if($.current)return $.current(k,T,ie);ie()}},[k,T,ie,$,Z]);const ve=h.useMemo(()=>({reference:R,floating:A,setReference:C,setFloating:P}),[C,P]),W=h.useMemo(()=>({reference:k,floating:T}),[k,T]),he=h.useMemo(()=>{const L={position:n,left:0,top:0};if(!W.floating)return L;const z=aj(W.floating,p.x),J=aj(W.floating,p.y);return c?{...L,transform:"translate("+z+"px, "+J+"px)",...XS(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:J}},[n,c,W.floating,p.x,p.y]);return h.useMemo(()=>({...p,update:ie,refs:ve,elements:W,floatingStyles:he}),[p,ie,ve,W,he])}const oF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?ij({element:s.current,padding:i}).fn(n):{}:s?ij({element:s,padding:i}).fn(n):{}}}},lF=(e,t)=>({...XL(e),options:[e,t]}),cF=(e,t)=>({...JL(e),options:[e,t]}),uF=(e,t)=>({...nF(e),options:[e,t]}),dF=(e,t)=>({...YL(e),options:[e,t]}),fF=(e,t)=>({...eF(e),options:[e,t]}),mF=(e,t)=>({...tF(e),options:[e,t]}),hF=(e,t)=>({...oF(e),options:[e,t]});function pF(e){const t=gF(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(vF);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function gF(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=wF(i),c=yF(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xF=Symbol("radix.slottable");function vF(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xF}function yF(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function wF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jF=bF.reduce((e,t)=>{const n=pF(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),NF="Arrow",JS=h.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return r.jsx(jF.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});JS.displayName=NF;var SF=JS;function CF(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,EF(i,...t)]}function EF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function _F(e){const t=PF(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(TF);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function PF(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=RF(i),c=AF(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kF=Symbol("radix.slottable");function TF(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kF}function AF(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function RF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var OF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],YS=OF.reduce((e,t)=>{const n=_F(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function IF(e){const[t,n]=h.useState(void 0);return Ms(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let u,c;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,c=m.blockSize}else u=e.offsetWidth,c=e.offsetHeight;n({width:u,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var jv="Popper",[eC,Om]=CF(jv),[MF,tC]=eC(jv),nC=e=>{const{__scopePopper:t,children:n}=e,[s,i]=h.useState(null);return r.jsx(MF,{scope:t,anchor:s,onAnchorChange:i,children:n})};nC.displayName=jv;var rC="PopperAnchor",sC=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=tC(rC,n),u=h.useRef(null),c=xr(t,u),f=h.useRef(null);return h.useEffect(()=>{const m=f.current;f.current=s?.current||u.current,m!==f.current&&o.onAnchorChange(f.current)}),s?null:r.jsx(YS.div,{...i,ref:c})});sC.displayName=rC;var Nv="PopperContent",[DF,$F]=eC(Nv),iC=h.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:x="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:S,...w}=e,N=tC(Nv,n),[E,C]=h.useState(null),P=xr(t,xe=>C(xe)),[k,T]=h.useState(null),R=IF(k),A=R?.width??0,B=R?.height??0,Z=s+(o!=="center"?"-"+o:""),$=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},re=Array.isArray(m)?m:[m],H=re.length>0,ie={padding:$,boundary:re.filter(FF),altBoundary:H},{refs:Y,floatingStyles:ve,placement:W,isPositioned:he,middlewareData:L}=aF({strategy:"fixed",placement:Z,whileElementsMounted:(...xe)=>ZL(...xe,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[lF({mainAxis:i+B,alignmentAxis:u}),f&&cF({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?uF():void 0,...ie}),f&&dF({...ie}),fF({...ie,apply:({elements:xe,rects:Ue,availableWidth:q,availableHeight:Ne})=>{const{width:yt,height:Pt}=Ue.reference,Vt=xe.floating.style;Vt.setProperty("--radix-popper-available-width",`${q}px`),Vt.setProperty("--radix-popper-available-height",`${Ne}px`),Vt.setProperty("--radix-popper-anchor-width",`${yt}px`),Vt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),k&&hF({element:k,padding:c}),zF({arrowWidth:A,arrowHeight:B}),v&&mF({strategy:"referenceHidden",...ie})]}),[z,J]=lC(W),I=mi(S);Ms(()=>{he&&I?.()},[he,I]);const ee=L.arrow?.x,Ae=L.arrow?.y,Ve=L.arrow?.centerOffset!==0,[de,ge]=h.useState();return Ms(()=>{E&&ge(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:he?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(DF,{scope:n,placedSide:z,onArrowChange:T,arrowX:ee,arrowY:Ae,shouldHideArrow:Ve,children:r.jsx(YS.div,{"data-side":z,"data-align":J,...w,ref:P,style:{...w.style,animation:he?void 0:"none"}})})})});iC.displayName=Nv;var aC="PopperArrow",LF={top:"bottom",right:"left",bottom:"top",left:"right"},oC=h.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=$F(aC,s),u=LF[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(SF,{...i,ref:n,style:{...i.style,display:"block"}})})});oC.displayName=aC;function FF(e){return e!==null}var zF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,c=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,p]=lC(n),x={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,b=(i.arrow?.y??0)+f/2;let S="",w="";return m==="bottom"?(S=u?x:`${v}px`,w=`${-f}px`):m==="top"?(S=u?x:`${v}px`,w=`${s.floating.height+f}px`):m==="right"?(S=`${-f}px`,w=u?x:`${b}px`):m==="left"&&(S=`${s.floating.width+f}px`,w=u?x:`${b}px`),{data:{x:S,y:w}}}});function lC(e){const[t,n="center"]=e.split("-");return[t,n]}var cC=nC,Sv=sC,uC=iC,dC=oC;function VF(e){const t=UF(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(qF);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function UF(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=WF(i),c=HF(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BF=Symbol("radix.slottable");function qF(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BF}function HF(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function WF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var KF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QF=KF.reduce((e,t)=>{const n=VF(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),GF="Portal",Cv=h.forwardRef((e,t)=>{const{container:n,...s}=e,[i,o]=h.useState(!1);Ms(()=>o(!0),[]);const u=n||i&&globalThis?.document?.body;return u?Vx.createPortal(r.jsx(QF.div,{...s,ref:t}),u):null});Cv.displayName=GF;function ZF(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var bo=e=>{const{present:t,children:n}=e,s=XF(t),i=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=xr(s.ref,JF(i));return typeof n=="function"||s.isPresent?h.cloneElement(i,{ref:o}):null};bo.displayName="Presence";function XF(e){const[t,n]=h.useState(),s=h.useRef(null),i=h.useRef(e),o=h.useRef("none"),u=e?"mounted":"unmounted",[c,f]=ZF(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const m=Wd(s.current);o.current=c==="mounted"?m:"none"},[c]),Ms(()=>{const m=s.current,p=i.current;if(p!==e){const v=o.current,b=Wd(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Ms(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,x=b=>{const w=Wd(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&w&&(f("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=b=>{b.target===t&&(o.current=Wd(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:h.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function Wd(e){return e?.animationName||"none"}function JF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fC(e){const t=YF(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(t6);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function YF(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=r6(i),c=n6(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e6=Symbol("radix.slottable");function t6(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e6}function n6(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function r6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var s6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yu=s6.reduce((e,t)=>{const n=fC(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function i6(e,t){e&&pi.flushSync(()=>e.dispatchEvent(t))}function a6(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,o6(i,...t)]}function o6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function l6(e){const t=c6(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(d6);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function c6(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=m6(i),c=f6(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var u6=Symbol("radix.slottable");function d6(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u6}function f6(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function m6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var h6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mC=h6.reduce((e,t)=>{const n=l6(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),lg="rovingFocusGroup.onEntryFocus",p6={bubbles:!1,cancelable:!0},wu="RovingFocusGroup",[dx,hC,g6]=IS(wu),[x6,pC]=a6(wu,[g6]),[v6,y6]=x6(wu),gC=h.forwardRef((e,t)=>r.jsx(dx.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(dx.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(w6,{...e,ref:t})})}));gC.displayName=wu;var w6=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...x}=e,v=h.useRef(null),b=xr(t,v),S=MS(o),[w,N]=mv({prop:u,defaultProp:c??null,onChange:f,caller:wu}),[E,C]=h.useState(!1),P=mi(m),k=hC(n),T=h.useRef(!1),[R,A]=h.useState(0);return h.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(lg,P),()=>B.removeEventListener(lg,P)},[P]),r.jsx(v6,{scope:n,orientation:s,dir:S,loop:i,currentTabStopId:w,onItemFocus:h.useCallback(B=>N(B),[N]),onItemShiftTab:h.useCallback(()=>C(!0),[]),onFocusableItemAdd:h.useCallback(()=>A(B=>B+1),[]),onFocusableItemRemove:h.useCallback(()=>A(B=>B-1),[]),children:r.jsx(mC.div,{tabIndex:E||R===0?-1:0,"data-orientation":s,...x,ref:b,style:{outline:"none",...e.style},onMouseDown:kt(e.onMouseDown,()=>{T.current=!0}),onFocus:kt(e.onFocus,B=>{const Z=!T.current;if(B.target===B.currentTarget&&Z&&!E){const $=new CustomEvent(lg,p6);if(B.currentTarget.dispatchEvent($),!$.defaultPrevented){const re=k().filter(W=>W.focusable),H=re.find(W=>W.active),ie=re.find(W=>W.id===w),ve=[H,ie,...re].filter(Boolean).map(W=>W.ref.current);yC(ve,p)}}T.current=!1}),onBlur:kt(e.onBlur,()=>C(!1))})})}),xC="RovingFocusGroupItem",vC=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,children:u,...c}=e,f=Ff(),m=o||f,p=y6(xC,n),x=p.currentTabStopId===m,v=hC(n),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:w}=p;return h.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),r.jsx(dx.ItemSlot,{scope:n,id:m,focusable:s,active:i,children:r.jsx(mC.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:kt(e.onMouseDown,N=>{s?p.onItemFocus(m):N.preventDefault()}),onFocus:kt(e.onFocus,()=>p.onItemFocus(m)),onKeyDown:kt(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){p.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=N6(N,p.orientation,p.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let P=v().filter(k=>k.focusable).map(k=>k.ref.current);if(E==="last")P.reverse();else if(E==="prev"||E==="next"){E==="prev"&&P.reverse();const k=P.indexOf(N.currentTarget);P=p.loop?S6(P,k+1):P.slice(k+1)}setTimeout(()=>yC(P))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:w!=null}):u})})});vC.displayName=xC;var b6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N6(e,t,n){const s=j6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return b6[s]}function yC(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function S6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var C6=gC,E6=vC,_6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ko=new WeakMap,Kd=new WeakMap,Qd={},cg=0,wC=function(e){return e&&(e.host||wC(e.parentNode))},P6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=wC(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},k6=function(e,t,n,s){var i=P6(t,Array.isArray(e)?e:[e]);Qd[n]||(Qd[n]=new WeakMap);var o=Qd[n],u=[],c=new Set,f=new Set(i),m=function(x){!x||c.has(x)||(c.add(x),m(x.parentNode))};i.forEach(m);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(v){if(c.has(v))p(v);else try{var b=v.getAttribute(s),S=b!==null&&b!=="false",w=(Ko.get(v)||0)+1,N=(o.get(v)||0)+1;Ko.set(v,w),o.set(v,N),u.push(v),w===1&&S&&Kd.set(v,!0),N===1&&v.setAttribute(n,"true"),S||v.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return p(t),c.clear(),cg++,function(){u.forEach(function(x){var v=Ko.get(x)-1,b=o.get(x)-1;Ko.set(x,v),o.set(x,b),v||(Kd.has(x)||x.removeAttribute(s),Kd.delete(x)),b||x.removeAttribute(n)}),cg--,cg||(Ko=new WeakMap,Ko=new WeakMap,Kd=new WeakMap,Qd={})}},bC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=_6(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),k6(s,i,n,"aria-hidden")):function(){return null}},Ys=function(){return Ys=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ys.apply(this,arguments)};function jC(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function T6(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var hf="right-scroll-bar-position",pf="width-before-scroll-bar",A6="with-scroll-bars-hidden",R6="--removed-body-scroll-bar-size";function ug(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O6(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var I6=typeof window<"u"?h.useLayoutEffect:h.useEffect,oj=new WeakMap;function M6(e,t){var n=O6(null,function(s){return e.forEach(function(i){return ug(i,s)})});return I6(function(){var s=oj.get(n);if(s){var i=new Set(s),o=new Set(e),u=n.current;i.forEach(function(c){o.has(c)||ug(c,null)}),o.forEach(function(c){i.has(c)||ug(c,u)})}oj.set(n,e)},[e]),n}function D6(e){return e}function $6(e,t){t===void 0&&(t=D6);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,s);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(s=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){s=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(o),u=n}var f=function(){var p=u;u=[],p.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(p){u.push(p),m()},filter:function(p){return u=u.filter(p),n}}}};return i}function L6(e){e===void 0&&(e={});var t=$6(null);return t.options=Ys({async:!0,ssr:!1},e),t}var NC=function(e){var t=e.sideCar,n=jC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,Ys({},n))};NC.isSideCarExport=!0;function F6(e,t){return e.useMedium(t),NC}var SC=L6(),dg=function(){},Im=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:dg,onWheelCapture:dg,onTouchMoveCapture:dg}),i=s[0],o=s[1],u=e.forwardProps,c=e.children,f=e.className,m=e.removeScrollBar,p=e.enabled,x=e.shards,v=e.sideCar,b=e.noRelative,S=e.noIsolation,w=e.inert,N=e.allowPinchZoom,E=e.as,C=E===void 0?"div":E,P=e.gapMode,k=jC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,R=M6([n,t]),A=Ys(Ys({},k),i);return h.createElement(h.Fragment,null,p&&h.createElement(T,{sideCar:SC,removeScrollBar:m,shards:x,noRelative:b,noIsolation:S,inert:w,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:P}),u?h.cloneElement(h.Children.only(c),Ys(Ys({},A),{ref:R})):h.createElement(C,Ys({},A,{className:f,ref:R}),c))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:pf,zeroRight:hf};var z6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=z6();return t&&e.setAttribute("nonce",t),e}function U6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var q6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=V6())&&(U6(t,n),B6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},H6=function(){var e=q6();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},CC=function(){var e=H6(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},W6={left:0,top:0,right:0,gap:0},fg=function(e){return parseInt(e||"",10)||0},K6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[fg(n),fg(s),fg(i)]},Q6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W6;var t=K6(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},G6=CC(),ul="data-scroll-locked",Z6=function(e,t,n,s){var i=e.left,o=e.top,u=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(A6,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hf,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(pf,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(pf," .").concat(pf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(R6,": ").concat(c,`px;
  }
`)},lj=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},X6=function(){h.useEffect(function(){return document.body.setAttribute(ul,(lj()+1).toString()),function(){var e=lj()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},J6=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;X6();var o=h.useMemo(function(){return Q6(i)},[i]);return h.createElement(G6,{styles:Z6(o,!t,i,n?"":"!important")})},fx=!1;if(typeof window<"u")try{var Gd=Object.defineProperty({},"passive",{get:function(){return fx=!0,!0}});window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{fx=!1}var Qo=fx?{passive:!1}:!1,Y6=function(e){return e.tagName==="TEXTAREA"},EC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y6(e)&&n[t]==="visible")},e8=function(e){return EC(e,"overflowY")},t8=function(e){return EC(e,"overflowX")},cj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=_C(e,s);if(i){var o=PC(e,s),u=o[1],c=o[2];if(u>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},n8=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},r8=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},_C=function(e,t){return e==="v"?e8(t):t8(t)},PC=function(e,t){return e==="v"?n8(t):r8(t)},s8=function(e,t){return e==="h"&&t==="rtl"?-1:1},i8=function(e,t,n,s,i){var o=s8(e,window.getComputedStyle(t).direction),u=o*s,c=n.target,f=t.contains(c),m=!1,p=u>0,x=0,v=0;do{if(!c)break;var b=PC(e,c),S=b[0],w=b[1],N=b[2],E=w-N-o*S;(S||E)&&_C(e,c)&&(x+=E,v+=S);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&c!==document.body||f&&(t.contains(c)||t===c));return(p&&Math.abs(x)<1||!p&&Math.abs(v)<1)&&(m=!0),m},Zd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uj=function(e){return[e.deltaX,e.deltaY]},dj=function(e){return e&&"current"in e?e.current:e},a8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},l8=0,Go=[];function c8(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),i=h.useState(l8++)[0],o=h.useState(CC)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=T6([e.lockRef.current],(e.shards||[]).map(dj),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=h.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=Zd(w),C=n.current,P="deltaX"in w?w.deltaX:C[0]-E[0],k="deltaY"in w?w.deltaY:C[1]-E[1],T,R=w.target,A=Math.abs(P)>Math.abs(k)?"h":"v";if("touches"in w&&A==="h"&&R.type==="range")return!1;var B=window.getSelection(),Z=B&&B.anchorNode,$=Z?Z===R||Z.contains(R):!1;if($)return!1;var re=cj(A,R);if(!re)return!0;if(re?T=A:(T=A==="v"?"h":"v",re=cj(A,R)),!re)return!1;if(!s.current&&"changedTouches"in w&&(P||k)&&(s.current=T),!T)return!0;var H=s.current||T;return i8(H,N,w,H==="h"?P:k)},[]),f=h.useCallback(function(w){var N=w;if(!(!Go.length||Go[Go.length-1]!==o)){var E="deltaY"in N?uj(N):Zd(N),C=t.current.filter(function(T){return T.name===N.type&&(T.target===N.target||N.target===T.shadowParent)&&a8(T.delta,E)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var P=(u.current.shards||[]).map(dj).filter(Boolean).filter(function(T){return T.contains(N.target)}),k=P.length>0?c(N,P[0]):!u.current.noIsolation;k&&N.cancelable&&N.preventDefault()}}},[]),m=h.useCallback(function(w,N,E,C){var P={name:w,delta:N,target:E,should:C,shadowParent:u8(E)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(k){return k!==P})},1)},[]),p=h.useCallback(function(w){n.current=Zd(w),s.current=void 0},[]),x=h.useCallback(function(w){m(w.type,uj(w),w.target,c(w,e.lockRef.current))},[]),v=h.useCallback(function(w){m(w.type,Zd(w),w.target,c(w,e.lockRef.current))},[]);h.useEffect(function(){return Go.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Qo),document.addEventListener("touchmove",f,Qo),document.addEventListener("touchstart",p,Qo),function(){Go=Go.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Qo),document.removeEventListener("touchmove",f,Qo),document.removeEventListener("touchstart",p,Qo)}},[]);var b=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(o,{styles:o8(i)}):null,b?h.createElement(J6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function u8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const d8=F6(SC,c8);var Ev=h.forwardRef(function(e,t){return h.createElement(Im,Ys({},e,{ref:t,sideCar:d8}))});Ev.classNames=Im.classNames;var mx=["Enter"," "],f8=["ArrowDown","PageUp","Home"],kC=["ArrowUp","PageDown","End"],m8=[...f8,...kC],h8={ltr:[...mx,"ArrowRight"],rtl:[...mx,"ArrowLeft"]},p8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bu="Menu",[lu,g8,x8]=IS(bu),[jo,TC]=j$(bu,[x8,Om,pC]),Mm=Om(),AC=pC(),[v8,No]=jo(bu),[y8,ju]=jo(bu),RC=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:o,modal:u=!0}=e,c=Mm(t),[f,m]=h.useState(null),p=h.useRef(!1),x=mi(o),v=MS(i);return h.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),r.jsx(cC,{...c,children:r.jsx(v8,{scope:t,open:n,onOpenChange:x,content:f,onContentChange:m,children:r.jsx(y8,{scope:t,onClose:h.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:p,dir:v,modal:u,children:s})})})};RC.displayName=bu;var w8="MenuAnchor",_v=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Mm(n);return r.jsx(Sv,{...i,...s,ref:t})});_v.displayName=w8;var Pv="MenuPortal",[b8,OC]=jo(Pv,{forceMount:void 0}),IC=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,o=No(Pv,t);return r.jsx(b8,{scope:t,forceMount:n,children:r.jsx(bo,{present:n||o.open,children:r.jsx(Cv,{asChild:!0,container:i,children:s})})})};IC.displayName=Pv;var us="MenuContent",[j8,kv]=jo(us),MC=h.forwardRef((e,t)=>{const n=OC(us,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=No(us,e.__scopeMenu),u=ju(us,e.__scopeMenu);return r.jsx(lu.Provider,{scope:e.__scopeMenu,children:r.jsx(bo,{present:s||o.open,children:r.jsx(lu.Slot,{scope:e.__scopeMenu,children:u.modal?r.jsx(N8,{...i,ref:t}):r.jsx(S8,{...i,ref:t})})})})}),N8=h.forwardRef((e,t)=>{const n=No(us,e.__scopeMenu),s=h.useRef(null),i=xr(t,s);return h.useEffect(()=>{const o=s.current;if(o)return bC(o)},[]),r.jsx(Tv,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:kt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),S8=h.forwardRef((e,t)=>{const n=No(us,e.__scopeMenu);return r.jsx(Tv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),C8=fC("MenuContent.ScrollLock"),Tv=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:v,onDismiss:b,disableOutsideScroll:S,...w}=e,N=No(us,n),E=ju(us,n),C=Mm(n),P=AC(n),k=g8(n),[T,R]=h.useState(null),A=h.useRef(null),B=xr(t,A,N.onContentChange),Z=h.useRef(0),$=h.useRef(""),re=h.useRef(0),H=h.useRef(null),ie=h.useRef("right"),Y=h.useRef(0),ve=S?Ev:h.Fragment,W=S?{as:C8,allowPinchZoom:!0}:void 0,he=z=>{const J=$.current+z,I=k().filter(xe=>!xe.disabled),ee=document.activeElement,Ae=I.find(xe=>xe.ref.current===ee)?.textValue,Ve=I.map(xe=>xe.textValue),de=$8(Ve,J,Ae),ge=I.find(xe=>xe.textValue===de)?.ref.current;(function xe(Ue){$.current=Ue,window.clearTimeout(Z.current),Ue!==""&&(Z.current=window.setTimeout(()=>xe(""),1e3))})(J),ge&&setTimeout(()=>ge.focus())};h.useEffect(()=>()=>window.clearTimeout(Z.current),[]),FS();const L=h.useCallback(z=>ie.current===H.current?.side&&F8(z,H.current?.area),[]);return r.jsx(j8,{scope:n,searchRef:$,onItemEnter:h.useCallback(z=>{L(z)&&z.preventDefault()},[L]),onItemLeave:h.useCallback(z=>{L(z)||(A.current?.focus(),R(null))},[L]),onTriggerLeave:h.useCallback(z=>{L(z)&&z.preventDefault()},[L]),pointerGraceTimerRef:re,onPointerGraceIntentChange:h.useCallback(z=>{H.current=z},[]),children:r.jsx(ve,{...W,children:r.jsx(pv,{asChild:!0,trapped:i,onMountAutoFocus:kt(o,z=>{z.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:r.jsx(hv,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:v,onDismiss:b,children:r.jsx(C6,{asChild:!0,...P,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:kt(f,z=>{E.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(uC,{role:"menu","aria-orientation":"vertical","data-state":XC(N.open),"data-radix-menu-content":"",dir:E.dir,...C,...w,ref:B,style:{outline:"none",...w.style},onKeyDown:kt(w.onKeyDown,z=>{const I=z.target.closest("[data-radix-menu-content]")===z.currentTarget,ee=z.ctrlKey||z.altKey||z.metaKey,Ae=z.key.length===1;I&&(z.key==="Tab"&&z.preventDefault(),!ee&&Ae&&he(z.key));const Ve=A.current;if(z.target!==Ve||!m8.includes(z.key))return;z.preventDefault();const ge=k().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);kC.includes(z.key)&&ge.reverse(),M8(ge)}),onBlur:kt(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(Z.current),$.current="")}),onPointerMove:kt(e.onPointerMove,cu(z=>{const J=z.target,I=Y.current!==z.clientX;if(z.currentTarget.contains(J)&&I){const ee=z.clientX>Y.current?"right":"left";ie.current=ee,Y.current=z.clientX}}))})})})})})})});MC.displayName=us;var E8="MenuGroup",Av=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(yu.div,{role:"group",...s,ref:t})});Av.displayName=E8;var _8="MenuLabel",DC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(yu.div,{...s,ref:t})});DC.displayName=_8;var qf="MenuItem",fj="menu.itemSelect",Dm=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,o=h.useRef(null),u=ju(qf,e.__scopeMenu),c=kv(qf,e.__scopeMenu),f=xr(t,o),m=h.useRef(!1),p=()=>{const x=o.current;if(!n&&x){const v=new CustomEvent(fj,{bubbles:!0,cancelable:!0});x.addEventListener(fj,b=>s?.(b),{once:!0}),i6(x,v),v.defaultPrevented?m.current=!1:u.onClose()}};return r.jsx($C,{...i,ref:f,disabled:n,onClick:kt(e.onClick,p),onPointerDown:x=>{e.onPointerDown?.(x),m.current=!0},onPointerUp:kt(e.onPointerUp,x=>{m.current||x.currentTarget?.click()}),onKeyDown:kt(e.onKeyDown,x=>{const v=c.searchRef.current!=="";n||v&&x.key===" "||mx.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Dm.displayName=qf;var $C=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...o}=e,u=kv(qf,n),c=AC(n),f=h.useRef(null),m=xr(t,f),[p,x]=h.useState(!1),[v,b]=h.useState("");return h.useEffect(()=>{const S=f.current;S&&b((S.textContent??"").trim())},[o.children]),r.jsx(lu.ItemSlot,{scope:n,disabled:s,textValue:i??v,children:r.jsx(E6,{asChild:!0,...c,focusable:!s,children:r.jsx(yu.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:m,onPointerMove:kt(e.onPointerMove,cu(S=>{s?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kt(e.onPointerLeave,cu(S=>u.onItemLeave(S))),onFocus:kt(e.onFocus,()=>x(!0)),onBlur:kt(e.onBlur,()=>x(!1))})})})}),P8="MenuCheckboxItem",LC=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(BC,{scope:e.__scopeMenu,checked:n,children:r.jsx(Dm,{role:"menuitemcheckbox","aria-checked":Hf(n)?"mixed":n,...i,ref:t,"data-state":Ov(n),onSelect:kt(i.onSelect,()=>s?.(Hf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LC.displayName=P8;var FC="MenuRadioGroup",[k8,T8]=jo(FC,{value:void 0,onValueChange:()=>{}}),zC=h.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,o=mi(s);return r.jsx(k8,{scope:e.__scopeMenu,value:n,onValueChange:o,children:r.jsx(Av,{...i,ref:t})})});zC.displayName=FC;var VC="MenuRadioItem",UC=h.forwardRef((e,t)=>{const{value:n,...s}=e,i=T8(VC,e.__scopeMenu),o=n===i.value;return r.jsx(BC,{scope:e.__scopeMenu,checked:o,children:r.jsx(Dm,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Ov(o),onSelect:kt(s.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});UC.displayName=VC;var Rv="MenuItemIndicator",[BC,A8]=jo(Rv,{checked:!1}),qC=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,o=A8(Rv,n);return r.jsx(bo,{present:s||Hf(o.checked)||o.checked===!0,children:r.jsx(yu.span,{...i,ref:t,"data-state":Ov(o.checked)})})});qC.displayName=Rv;var R8="MenuSeparator",HC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(yu.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});HC.displayName=R8;var O8="MenuArrow",WC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Mm(n);return r.jsx(dC,{...i,...s,ref:t})});WC.displayName=O8;var I8="MenuSub",[WW,KC]=jo(I8),kc="MenuSubTrigger",QC=h.forwardRef((e,t)=>{const n=No(kc,e.__scopeMenu),s=ju(kc,e.__scopeMenu),i=KC(kc,e.__scopeMenu),o=kv(kc,e.__scopeMenu),u=h.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=o,m={__scopeMenu:e.__scopeMenu},p=h.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return h.useEffect(()=>p,[p]),h.useEffect(()=>{const x=c.current;return()=>{window.clearTimeout(x),f(null)}},[c,f]),r.jsx(_v,{asChild:!0,...m,children:r.jsx($C,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":XC(n.open),...e,ref:$r(t,i.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:kt(e.onPointerMove,cu(x=>{o.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:kt(e.onPointerLeave,cu(x=>{p();const v=n.content?.getBoundingClientRect();if(v){const b=n.content?.dataset.side,S=b==="right",w=S?-5:5,N=v[S?"left":"right"],E=v[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:x.clientX+w,y:x.clientY},{x:N,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:N,y:v.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(x),x.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:kt(e.onKeyDown,x=>{const v=o.searchRef.current!=="";e.disabled||v&&x.key===" "||h8[s.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});QC.displayName=kc;var GC="MenuSubContent",ZC=h.forwardRef((e,t)=>{const n=OC(us,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=No(us,e.__scopeMenu),u=ju(us,e.__scopeMenu),c=KC(GC,e.__scopeMenu),f=h.useRef(null),m=xr(t,f);return r.jsx(lu.Provider,{scope:e.__scopeMenu,children:r.jsx(bo,{present:s||o.open,children:r.jsx(lu.Slot,{scope:e.__scopeMenu,children:r.jsx(Tv,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:kt(e.onFocusOutside,p=>{p.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:kt(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:kt(e.onKeyDown,p=>{const x=p.currentTarget.contains(p.target),v=p8[u.dir].includes(p.key);x&&v&&(o.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});ZC.displayName=GC;function XC(e){return e?"open":"closed"}function Hf(e){return e==="indeterminate"}function Ov(e){return Hf(e)?"indeterminate":e?"checked":"unchecked"}function M8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function D8(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function $8(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let u=D8(e,Math.max(o,0));i.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function L8(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const c=t[o],f=t[u],m=c.x,p=c.y,x=f.x,v=f.y;p>s!=v>s&&n<(x-m)*(s-p)/(v-p)+m&&(i=!i)}return i}function F8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return L8(n,t)}function cu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var z8=RC,V8=_v,U8=IC,B8=MC,q8=Av,H8=DC,W8=Dm,K8=LC,Q8=zC,G8=UC,Z8=qC,X8=HC,J8=WC,Y8=QC,ez=ZC,$m="DropdownMenu",[tz]=n$($m,[TC]),kr=TC(),[nz,JC]=tz($m),YC=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:o,onOpenChange:u,modal:c=!0}=e,f=kr(t),m=h.useRef(null),[p,x]=mv({prop:i,defaultProp:o??!1,onChange:u,caller:$m});return r.jsx(nz,{scope:t,triggerId:Ff(),triggerRef:m,contentId:Ff(),open:p,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(v=>!v),[x]),modal:c,children:r.jsx(z8,{...f,open:p,onOpenChange:x,dir:s,modal:c,children:n})})};YC.displayName=$m;var e2="DropdownMenuTrigger",t2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,o=JC(e2,n),u=kr(n);return r.jsx(V8,{asChild:!0,...u,children:r.jsx(h$.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:$r(t,o.triggerRef),onPointerDown:kt(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:kt(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});t2.displayName=e2;var rz="DropdownMenuPortal",n2=e=>{const{__scopeDropdownMenu:t,...n}=e,s=kr(t);return r.jsx(U8,{...s,...n})};n2.displayName=rz;var r2="DropdownMenuContent",s2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=JC(r2,n),o=kr(n),u=h.useRef(!1);return r.jsx(B8,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...s,ref:t,onCloseAutoFocus:kt(e.onCloseAutoFocus,c=>{u.current||i.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:kt(e.onInteractOutside,c=>{const f=c.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,p=f.button===2||m;(!i.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s2.displayName=r2;var sz="DropdownMenuGroup",iz=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(q8,{...i,...s,ref:t})});iz.displayName=sz;var az="DropdownMenuLabel",i2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(H8,{...i,...s,ref:t})});i2.displayName=az;var oz="DropdownMenuItem",a2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(W8,{...i,...s,ref:t})});a2.displayName=oz;var lz="DropdownMenuCheckboxItem",o2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(K8,{...i,...s,ref:t})});o2.displayName=lz;var cz="DropdownMenuRadioGroup",uz=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(Q8,{...i,...s,ref:t})});uz.displayName=cz;var dz="DropdownMenuRadioItem",l2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(G8,{...i,...s,ref:t})});l2.displayName=dz;var fz="DropdownMenuItemIndicator",c2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(Z8,{...i,...s,ref:t})});c2.displayName=fz;var mz="DropdownMenuSeparator",u2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(X8,{...i,...s,ref:t})});u2.displayName=mz;var hz="DropdownMenuArrow",pz=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(J8,{...i,...s,ref:t})});pz.displayName=hz;var gz="DropdownMenuSubTrigger",d2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(Y8,{...i,...s,ref:t})});d2.displayName=gz;var xz="DropdownMenuSubContent",f2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=kr(n);return r.jsx(ez,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f2.displayName=xz;var vz=YC,yz=t2,wz=n2,m2=s2,h2=i2,p2=a2,g2=o2,x2=l2,v2=c2,y2=u2,w2=d2,b2=f2;const bz=vz,jz=yz,Nz=h.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(w2,{ref:i,className:Be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(xo,{className:"ml-auto"})]}));Nz.displayName=w2.displayName;const Sz=h.forwardRef(({className:e,...t},n)=>r.jsx(b2,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Sz.displayName=b2.displayName;const j2=h.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(wz,{children:r.jsx(m2,{ref:s,sideOffset:t,className:Be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));j2.displayName=m2.displayName;const Zs=h.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(p2,{ref:s,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Zs.displayName=p2.displayName;const Cz=h.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(g2,{ref:i,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v2,{children:r.jsx(xm,{className:"h-4 w-4"})})}),t]}));Cz.displayName=g2.displayName;const Ez=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(x2,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v2,{children:r.jsx(Qx,{className:"h-2 w-2 fill-current"})})}),t]}));Ez.displayName=x2.displayName;const N2=h.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(h2,{ref:s,className:Be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));N2.displayName=h2.displayName;const hx=h.forwardRef(({className:e,...t},n)=>r.jsx(y2,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));hx.displayName=y2.displayName;var _z=Symbol.for("react.lazy"),Wf=Oa[" use ".trim().toString()];function Pz(e){return typeof e=="object"&&e!==null&&"then"in e}function S2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_z&&"_payload"in e&&Pz(e._payload)}function C2(e){const t=kz(e),n=h.forwardRef((s,i)=>{let{children:o,...u}=s;S2(o)&&typeof Wf=="function"&&(o=Wf(o._payload));const c=h.Children.toArray(o),f=c.find(Az);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var E2=C2("Slot");function kz(e){const t=h.forwardRef((n,s)=>{let{children:i,...o}=n;if(S2(i)&&typeof Wf=="function"&&(i=Wf(i._payload)),h.isValidElement(i)){const u=Oz(i),c=Rz(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tz=Symbol("radix.slottable");function Az(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tz}function Rz(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Oz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Iz=gm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),D=h.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},o)=>{const u=s?E2:"button";return r.jsx(u,{className:Be(Iz({variant:t,size:n,className:e})),ref:o,...i})});D.displayName="Button";function Mz(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u);c.displayName=o+"Context";const f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,Dz(i,...t)]}function Dz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var $z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Iv=$z.reduce((e,t)=>{const n=C2(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Lz(){return y1.useSyncExternalStore(Fz,()=>!0,()=>!1)}function Fz(){return()=>{}}var Mv="Avatar",[zz]=Mz(Mv),[Vz,_2]=zz(Mv),P2=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,o]=h.useState("idle");return r.jsx(Vz,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:r.jsx(Iv.span,{...s,ref:t})})});P2.displayName=Mv;var k2="AvatarImage",T2=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...o}=e,u=_2(k2,n),c=Uz(s,o),f=mi(m=>{i(m),u.onImageLoadingStatusChange(m)});return Ms(()=>{c!=="idle"&&f(c)},[c,f]),c==="loaded"?r.jsx(Iv.img,{...o,ref:t,src:s}):null});T2.displayName=k2;var A2="AvatarFallback",R2=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,o=_2(A2,n),[u,c]=h.useState(s===void 0);return h.useEffect(()=>{if(s!==void 0){const f=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(f)}},[s]),u&&o.imageLoadingStatus!=="loaded"?r.jsx(Iv.span,{...i,ref:t}):null});R2.displayName=A2;function mj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Uz(e,{referrerPolicy:t,crossOrigin:n}){const s=Lz(),i=h.useRef(null),o=s?(i.current||(i.current=new window.Image),i.current):null,[u,c]=h.useState(()=>mj(o,e));return Ms(()=>{c(mj(o,e))},[o,e]),Ms(()=>{const f=x=>()=>{c(x)};if(!o)return;const m=f("loaded"),p=f("error");return o.addEventListener("load",m),o.addEventListener("error",p),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",m),o.removeEventListener("error",p)}},[o,n,t]),u}var O2=P2,I2=T2,M2=R2;const mr=h.forwardRef(({className:e,...t},n)=>r.jsx(O2,{ref:n,className:Be(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));mr.displayName=O2.displayName;const ds=h.forwardRef(({className:e,...t},n)=>r.jsx(I2,{ref:n,className:Be("aspect-square h-full w-full",e),...t}));ds.displayName=I2.displayName;const hr=h.forwardRef(({className:e,...t},n)=>r.jsx(M2,{ref:n,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hr.displayName=M2.displayName;function Bz(e,t=[]){let n=[];function s(o,u){const c=h.createContext(u),f=n.length;n=[...n,u];const m=x=>{const{scope:v,children:b,...S}=x,w=v?.[e]?.[f]||c,N=h.useMemo(()=>S,Object.values(S));return r.jsx(w.Provider,{value:N,children:b})};m.displayName=o+"Provider";function p(x,v){const b=v?.[e]?.[f]||c,S=h.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(c){const f=c?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...c,[e]:f}}),[c,f])}};return i.scopeName=e,[s,qz(i,...t)]}function qz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=s.reduce((c,{useScope:f,scopeName:m})=>{const x=f(o)[`__scope${m}`];return{...c,...x}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function D2(e){const t=Hz(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(Kz);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function Hz(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=Gz(i),c=Qz(o,i.props);return i.type!==h.Fragment&&(c.ref=s?$r(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wz=Symbol("radix.slottable");function Kz(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wz}function Qz(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Gz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$2=Zz.reduce((e,t)=>{const n=D2(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Lm="Popover",[L2]=Bz(Lm,[Om]),Nu=Om(),[Xz,Ia]=L2(Lm),F2=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:u=!1}=e,c=Nu(t),f=h.useRef(null),[m,p]=h.useState(!1),[x,v]=mv({prop:s,defaultProp:i??!1,onChange:o,caller:Lm});return r.jsx(cC,{...c,children:r.jsx(Xz,{scope:t,contentId:Ff(),triggerRef:f,open:x,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(b=>!b),[v]),hasCustomAnchor:m,onCustomAnchorAdd:h.useCallback(()=>p(!0),[]),onCustomAnchorRemove:h.useCallback(()=>p(!1),[]),modal:u,children:n})})};F2.displayName=Lm;var z2="PopoverAnchor",Jz=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ia(z2,n),o=Nu(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:c}=i;return h.useEffect(()=>(u(),()=>c()),[u,c]),r.jsx(Sv,{...o,...s,ref:t})});Jz.displayName=z2;var V2="PopoverTrigger",U2=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ia(V2,n),o=Nu(n),u=xr(t,i.triggerRef),c=r.jsx($2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K2(i.open),...s,ref:u,onClick:kt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:r.jsx(Sv,{asChild:!0,...o,children:c})});U2.displayName=V2;var Dv="PopoverPortal",[Yz,eV]=L2(Dv,{forceMount:void 0}),B2=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,o=Ia(Dv,t);return r.jsx(Yz,{scope:t,forceMount:n,children:r.jsx(bo,{present:n||o.open,children:r.jsx(Cv,{asChild:!0,container:i,children:s})})})};B2.displayName=Dv;var Nl="PopoverContent",q2=h.forwardRef((e,t)=>{const n=eV(Nl,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,o=Ia(Nl,e.__scopePopover);return r.jsx(bo,{present:s||o.open,children:o.modal?r.jsx(nV,{...i,ref:t}):r.jsx(rV,{...i,ref:t})})});q2.displayName=Nl;var tV=D2("PopoverContent.RemoveScroll"),nV=h.forwardRef((e,t)=>{const n=Ia(Nl,e.__scopePopover),s=h.useRef(null),i=xr(t,s),o=h.useRef(!1);return h.useEffect(()=>{const u=s.current;if(u)return bC(u)},[]),r.jsx(Ev,{as:tV,allowPinchZoom:!0,children:r.jsx(H2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(e.onCloseAutoFocus,u=>{u.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:kt(e.onPointerDownOutside,u=>{const c=u.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,m=c.button===2||f;o.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:kt(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),rV=h.forwardRef((e,t)=>{const n=Ia(Nl,e.__scopePopover),s=h.useRef(!1),i=h.useRef(!1);return r.jsx(H2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),H2=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,...x}=e,v=Ia(Nl,n),b=Nu(n);return FS(),r.jsx(pv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(hv,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:r.jsx(uC,{"data-state":K2(v.open),role:"dialog",id:v.contentId,...b,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W2="PopoverClose",sV=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Ia(W2,n);return r.jsx($2.button,{type:"button",...s,ref:t,onClick:kt(e.onClick,()=>i.onOpenChange(!1))})});sV.displayName=W2;var iV="PopoverArrow",aV=h.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Nu(n);return r.jsx(dC,{...i,...s,ref:t})});aV.displayName=iV;function K2(e){return e?"open":"closed"}var oV=F2,lV=U2,cV=B2,Q2=q2;const uV=oV,dV=lV,G2=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(cV,{children:r.jsx(Q2,{ref:i,align:t,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));G2.displayName=Q2.displayName;const hj=[{href:"/",label:"Inicio"},{href:"/historia",label:"Historia"},{href:"/equipo",label:"Equipo"},{href:"/eventos",label:"Eventos"},{href:"/capacitaciones",label:"Capacitaciones"},{href:"/biblioteca",label:"Biblioteca"},{href:"/oracion",label:"Oracion"},{href:"/regiones",label:"Regiones"},{href:"/juego",label:"Juego"},{href:"/en-vivo",label:"En Vivo"},{href:"/contacto",label:"Contacto"}];function fV(){const{data:e}=vt({queryKey:["/api/notifications/unread-count"],refetchInterval:3e4}),{data:t=[]}=vt({queryKey:["/api/notifications"]}),n=De({mutationFn:async()=>{await sn("PATCH","/api/notifications/read-all")},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/notifications"]}),Bt.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),s=e?.count||0,i=t.slice(0,8);return r.jsxs(uV,{children:[r.jsx(dV,{asChild:!0,children:r.jsxs(D,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[r.jsx(oN,{className:"w-5 h-5"}),s>0&&r.jsx("span",{className:"absolute -top-0.5 -right-0.5 bg-destructive text-destructive-foreground text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center","data-testid":"badge-unread-count",children:s>9?"9+":s})]})}),r.jsxs(G2,{className:"w-80 p-0",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 border-b",children:[r.jsx("p",{className:"font-semibold text-sm",children:"Notificaciones"}),s>0&&r.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n.mutate(),"data-testid":"button-mark-all-read",children:"Marcar leidas"})]}),r.jsx("div",{className:"max-h-72 overflow-y-auto",children:i.length===0?r.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"Sin notificaciones"}):i.map(o=>r.jsxs("div",{className:`p-3 border-b last:border-0 text-sm ${o.isRead?"":"bg-primary/5"}`,"data-testid":`notification-${o.id}`,children:[r.jsx("p",{className:"font-medium",children:o.title}),r.jsx("p",{className:"text-muted-foreground text-xs mt-0.5",children:o.content}),r.jsx("p",{className:"text-muted-foreground text-[10px] mt-1",children:new Date(o.createdAt).toLocaleDateString("es",{day:"numeric",month:"short"})})]},o.id))})]})]})}function mV(){const{user:e,logout:t}=an(),[n]=zi(),[s,i]=h.useState(!1),o=e?Es[e.role]||e.role:"";return r.jsxs("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[r.jsxs(lt,{href:"/",className:"flex items-center gap-2","data-testid":"link-home-logo",children:[r.jsx(sr,{className:"w-7 h-7 text-primary"}),r.jsx("span",{className:"font-bold text-lg hidden sm:inline",children:"Avivando el Fuego"})]}),r.jsx("div",{className:"hidden md:flex items-center gap-1",children:hj.map(u=>r.jsx(lt,{href:u.href,children:r.jsx(D,{variant:n===u.href||u.href!=="/"&&n.startsWith(u.href)?"secondary":"ghost",size:"sm","data-testid":`link-nav-${u.label.toLowerCase().replace(/\s/g,"-")}`,children:u.label})},u.href))}),r.jsx("div",{className:"hidden md:flex items-center gap-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(fV,{}),r.jsxs(bz,{children:[r.jsx(jz,{asChild:!0,children:r.jsx(D,{variant:"ghost",size:"icon","data-testid":"button-user-menu",children:r.jsxs(mr,{className:"h-8 w-8",children:[e.avatarUrl&&r.jsx(ds,{src:e.avatarUrl,alt:e.displayName||e.username}),r.jsx(hr,{className:"bg-primary/10 text-primary text-xs",children:(e.displayName||e.username).slice(0,2).toUpperCase()})]})})}),r.jsxs(j2,{className:"w-56",align:"end",children:[r.jsx(N2,{children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("p",{className:"text-sm font-medium",children:e.displayName||e.username}),r.jsx("p",{className:"text-xs text-muted-foreground",children:o})]})}),r.jsx(hx,{}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/perfil",className:"cursor-pointer",children:[r.jsx(vb,{className:"mr-2 h-4 w-4"}),"Mi Perfil"]})}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/mis-capacitaciones",className:"cursor-pointer",children:[r.jsx(cs,{className:"mr-2 h-4 w-4"}),"Mis Capacitaciones"]})}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/comunidad",className:"cursor-pointer",children:[r.jsx(pl,{className:"mr-2 h-4 w-4"}),"Comunidad"]})}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/biblioteca",className:"cursor-pointer",children:[r.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Biblioteca"]})}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/oracion",className:"cursor-pointer",children:[r.jsx(li,{className:"mr-2 h-4 w-4"}),"Oracion"]})}),r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/regiones",className:"cursor-pointer",children:[r.jsx(Uc,{className:"mr-2 h-4 w-4"}),"Regiones"]})}),(e.role==="obrero"||e.role==="admin")&&r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/maestro",className:"cursor-pointer",children:[r.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Panel Maestro"]})}),e.role==="admin"&&r.jsx(Zs,{asChild:!0,children:r.jsxs(lt,{href:"/admin",className:"cursor-pointer",children:[r.jsx(Bc,{className:"mr-2 h-4 w-4"}),"Panel Admin"]})}),r.jsx(hx,{}),r.jsxs(Zs,{className:"text-destructive focus:text-destructive cursor-pointer",onClick:()=>t(),"data-testid":"button-logout",children:[r.jsx(pb,{className:"mr-2 h-4 w-4"}),"Cerrar Sesion"]})]})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lt,{href:"/login",children:r.jsx(D,{variant:"ghost",size:"sm","data-testid":"link-login",children:"Iniciar Sesion"})}),r.jsx(lt,{href:"/registro",children:r.jsxs(D,{size:"sm","data-testid":"link-register",children:[r.jsx(sr,{className:"w-4 h-4 mr-1"}),"Unirse"]})})]})}),r.jsx(D,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>i(!s),"data-testid":"button-mobile-menu",children:s?r.jsx(ro,{className:"w-5 h-5"}):r.jsx(NR,{className:"w-5 h-5"})})]}),s&&r.jsxs("div",{className:"md:hidden border-t bg-background px-4 pb-4 pt-2 flex flex-col gap-1",children:[hj.map(u=>r.jsx(lt,{href:u.href,onClick:()=>i(!1),children:r.jsx(D,{variant:n===u.href?"secondary":"ghost",className:"w-full justify-start",size:"sm",children:u.label})},u.href)),r.jsx("div",{className:"border-t my-2"}),e?r.jsxs(r.Fragment,{children:[r.jsx(lt,{href:"/mis-capacitaciones",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-mis-capacitaciones",children:[r.jsx(cs,{className:"w-4 h-4 mr-1"})," Mis Capacitaciones"]})}),(e.role==="obrero"||e.role==="admin")&&r.jsx(lt,{href:"/maestro",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-maestro",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"})," Panel Maestro"]})}),e.role==="admin"&&r.jsx(lt,{href:"/admin",onClick:()=>i(!1),children:r.jsxs(D,{variant:"outline",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-admin",children:[r.jsx(Bc,{className:"w-4 h-4 mr-1"})," Panel Admin"]})}),r.jsx(lt,{href:"/comunidad",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-comunidad",children:[r.jsx(pl,{className:"w-4 h-4 mr-1"})," Comunidad"]})}),r.jsx(lt,{href:"/biblioteca",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-biblioteca",children:[r.jsx(Oc,{className:"w-4 h-4 mr-1"})," Biblioteca"]})}),r.jsx(lt,{href:"/oracion",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-oracion",children:[r.jsx(li,{className:"w-4 h-4 mr-1"})," Oracion"]})}),r.jsx(lt,{href:"/regiones",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-regiones",children:[r.jsx(Uc,{className:"w-4 h-4 mr-1"})," Regiones"]})}),r.jsx(lt,{href:"/perfil",onClick:()=>i(!1),children:r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-perfil",children:[r.jsx(vb,{className:"w-4 h-4 mr-1"})," Mi Perfil"]})}),r.jsxs(D,{variant:"ghost",className:"w-full justify-start",size:"sm",onClick:()=>{t(),i(!1)},"data-testid":"button-mobile-logout",children:[r.jsx(pb,{className:"w-4 h-4 mr-1"})," Cerrar Sesion"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(lt,{href:"/login",onClick:()=>i(!1),children:r.jsx(D,{variant:"ghost",className:"w-full justify-start",size:"sm","data-testid":"link-mobile-login",children:"Iniciar Sesion"})}),r.jsx(lt,{href:"/registro",onClick:()=>i(!1),children:r.jsx(D,{className:"w-full",size:"sm","data-testid":"link-mobile-register",children:"Unirse al Ministerio"})})]})]})]})}function hV(){return r.jsx("footer",{className:"border-t bg-card",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(sr,{className:"w-6 h-6 text-primary"}),r.jsx("span",{className:"font-bold text-lg",children:"Avivando el Fuego"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ministerio evangelistico internacional. Desde 2017, Ciudad Bolivar, Venezuela."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3 text-sm",children:"Sede Principal"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Austin, Texas, USA"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Iglesia Casa del Alfarero"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Cobertura: Pastores Carlo y Trinibeth Chevez"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3 text-sm",children:"Presencia Internacional"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Venezuela - Peru - USA"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 italic",children:'"No apagueis el Espiritu" - 1 Tesalonicenses 5:19'})]})]}),r.jsx("div",{className:"border-t mt-8 pt-6 text-center",children:r.jsx("p",{className:"text-xs text-muted-foreground",children:"Avivando el Fuego - Ministerio Evangelistico Internacional"})})]})})}function Ot({children:e}){return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background font-sans",children:[r.jsx(mV,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(hV,{})]})}const ce=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ce.displayName="Card";const Qe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",e),...t}));Qe.displayName="CardHeader";const He=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",e),...t}));He.displayName="CardTitle";const wt=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));wt.displayName="CardDescription";const pe=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("p-6 pt-0",e),...t}));pe.displayName="CardContent";const $v=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",e),...t}));$v.displayName="CardFooter";function pV(){return r.jsx(Ot,{children:r.jsx("div",{className:"flex-1 flex items-center justify-center py-20",children:r.jsx(ce,{className:"w-full max-w-md mx-4",children:r.jsxs(pe,{className:"pt-6 text-center",children:[r.jsx(pR,{className:"h-12 w-12 text-primary mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-2","data-testid":"text-404",children:"Pagina no encontrada"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"La pagina que buscas no existe o ha sido movida."}),r.jsx(lt,{href:"/",children:r.jsx(D,{"data-testid":"button-go-home",children:"Volver al Inicio"})})]})})})})}const gV=[{label:"Anos de Servicio",value:"7+"},{label:"Paises",value:"3"},{label:"Vidas Impactadas",value:"1000+"},{label:"Fuego del Espiritu",value:""}],xV=[{icon:sr,title:"Evangelismo Callejero",desc:"Alcanzando vidas en plazas, parques y hogares con el mensaje de salvacion."},{icon:si,title:"Medios Digitales",desc:"Radio, podcasts, YouTube y redes sociales llevando el evangelio a todo lugar."},{icon:li,title:"Obras Sociales",desc:"Ayuda humanitaria, jornadas comunitarias y apoyo a los necesitados."},{icon:Nn,title:"Formacion de Lideres",desc:"Escuela de ministerio, discipulado y capacitacion de obreros fieles."},{icon:rr,title:"Retiros y Encuentros",desc:"Vigilias, campamentos, congresos y tiempos de avivamiento espiritual."},{icon:Uc,title:"Misiones Internacionales",desc:"Expansion del ministerio a nuevas naciones y culturas."}];function vV(){const{user:e}=an();return r.jsxs(Ot,{children:[r.jsxs("section",{className:"relative overflow-hidden py-24 md:py-36",children:[r.jsx("div",{className:"absolute inset-0 fire-gradient opacity-10 dark:opacity-20"}),r.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4","data-testid":"text-subtitle",children:"Desde 2017 - Ciudad Bolivar, Venezuela"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6","data-testid":"text-title",children:r.jsx("span",{className:"fire-text",children:"AVIVANDO EL FUEGO"})}),r.jsx("blockquote",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-2 italic",children:'"Para que vuestra fe no este fundada en la sabiduria de los hombres, sino en el poder de Dios"'}),r.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"- 1 Corintios 2:4"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e?r.jsx(lt,{href:"/perfil",children:r.jsxs(D,{size:"lg","data-testid":"button-hero-profile",children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Mi Perfil"]})}):r.jsx(lt,{href:"/registro",children:r.jsxs(D,{size:"lg","data-testid":"button-hero-join",children:[r.jsx(sr,{className:"w-4 h-4 mr-2"}),"Unirse al Ministerio"]})}),r.jsx(lt,{href:"/historia",children:r.jsx(D,{variant:"outline",size:"lg","data-testid":"button-hero-vision",children:"Conocer la Vision"})})]})]})]}),r.jsx("section",{className:"py-12 border-t",children:r.jsx("div",{className:"max-w-5xl mx-auto px-4 grid grid-cols-2 md:grid-cols-4 gap-6",children:gV.map(t=>r.jsxs("div",{className:"text-center","data-testid":`stat-${t.value}`,children:[r.jsx("p",{className:"text-3xl md:text-4xl font-bold fire-text",children:t.value}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.label})]},t.label))})}),r.jsx("section",{className:"py-16 bg-card border-t",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:"Nuestro Trabajo"}),r.jsx("h2",{className:"text-3xl font-bold",children:"Areas de Accion"}),r.jsx("p",{className:"text-muted-foreground mt-2 max-w-xl mx-auto",children:"Multiples frentes de batalla espiritual, un solo objetivo: llevar el fuego del evangelio a toda criatura."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xV.map(t=>r.jsxs(ce,{className:"p-6","data-testid":`card-area-${t.title}`,children:[r.jsx(t.icon,{className:"w-8 h-8 text-primary mb-3"}),r.jsx("h3",{className:"font-semibold mb-2",children:t.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t.desc})]},t.title))})]})}),r.jsx("section",{className:"py-16 border-t",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sientes el llamado?"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Estamos buscando obreros apasionados que quieran unirse a esta vision de llevar el fuego del evangelio a las naciones."}),r.jsx(lt,{href:"/registro",children:r.jsx(D,{size:"lg","data-testid":"button-cta-join",children:"Ser Parte del Equipo"})})]})})]})}const pj=[{year:"2017",title:"El Llamado",desc:"Nacimiento del ministerio en Ciudad Bolivar, Venezuela. Un grupo de jovenes apasionados por Dios reciben el mandato de llevar el fuego del evangelio a las naciones."},{year:"2018-2019",title:"Expansion Nacional",desc:"Primeras campanas evangelisticas masivas. Formacion de equipos de evangelismo callejero. Alcance de cientos de vidas en Venezuela."},{year:"2020-2021",title:"Nuevos Horizontes",desc:"Expansion a Peru bajo la cobertura de Mision Peru. Adaptacion a medios digitales durante la pandemia. Radio y transmisiones en vivo."},{year:"2022-2023",title:"Traslado a USA",desc:"Nueva sede en Austin, Texas. Consolidacion del ministerio internacional. Formacion de lideres y estructura organizativa."},{year:"2024-2025",title:"Plataforma Digital",desc:"Lanzamiento de la plataforma ministerial global. Conexion de obreros de todas las naciones. Escuela de ministerio en linea."}],yV=["Evangelismo integral en calles y plazas","Medios digitales y radio","Campanas y cruzadas","Obras sociales y ayuda humanitaria","Capacitacion de obreros"];function wV(){return r.jsxs(Ot,{children:[r.jsx("section",{className:"py-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:"Nuestra Historia"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4","data-testid":"text-history-title",children:"Un Legado de Fe y Fuego"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Desde un pequeno grupo de oracion en Venezuela hasta una red internacional de obreros apasionados por el avivamiento."})]}),r.jsx("div",{className:"space-y-8",children:pj.map((e,t)=>r.jsxs("div",{className:"flex gap-6","data-testid":`timeline-${e.year}`,children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(sr,{className:"w-5 h-5 text-primary"})}),t<pj.length-1&&r.jsx("div",{className:"w-0.5 flex-1 bg-border mt-2"})]}),r.jsxs(ce,{className:"p-5 flex-1 mb-2",children:[r.jsx("p",{className:"text-xs text-primary font-semibold mb-1",children:e.year}),r.jsx("h3",{className:"font-semibold mb-2",children:e.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]})]},e.year))})]})}),r.jsx("section",{className:"py-16 bg-card border-t",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs(ce,{className:"p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Sf,{className:"w-8 h-8 text-primary"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Nuestra Mision"})]}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Obedecer el mandato de nuestro Senor Jesucristo de ir por todo el mundo y predicar el evangelio a toda criatura (Marcos 16:15-16), alcanzando vidas para Cristo, guiandolas al arrepentimiento genuino, restauracion espiritual y transformacion personal."}),r.jsx("ul",{className:"space-y-2",children:yV.map(e=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(sr,{className:"w-3 h-3 text-primary flex-shrink-0"}),e]},e))})]}),r.jsxs(ce,{className:"p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Wg,{className:"w-8 h-8 text-primary"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Nuestra Vision"})]}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Ser un ministerio evangelistico internacional guiado por el Espiritu Santo, que enciende el fuego del avivamiento en las naciones mediante la proclamacion del Evangelio con poder, compasion y verdad."}),r.jsx("blockquote",{className:"border-l-2 border-primary pl-4 italic text-muted-foreground",children:'"Levantar una generacion comprometida, apasionada y capacitada para alcanzar su ciudad, su nacion y el mundo."'})]})]})}),r.jsx("section",{className:"py-12 border-t",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[r.jsx("blockquote",{className:"text-lg italic text-muted-foreground",children:'"No apagueis el Espiritu"'}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"- 1 Tesalonicenses 5:19"})]})})]})}const Le=h.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Be("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Le.displayName="Input";var bV=Symbol.for("react.lazy"),Kf=Oa[" use ".trim().toString()];function jV(e){return typeof e=="object"&&e!==null&&"then"in e}function Z2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bV&&"_payload"in e&&jV(e._payload)}function NV(e){const t=SV(e),n=h.forwardRef((s,i)=>{let{children:o,...u}=s;Z2(o)&&typeof Kf=="function"&&(o=Kf(o._payload));const c=h.Children.toArray(o),f=c.find(EV);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function SV(e){const t=h.forwardRef((n,s)=>{let{children:i,...o}=n;if(Z2(i)&&typeof Kf=="function"&&(i=Kf(i._payload)),h.isValidElement(i)){const u=PV(i),c=_V(o,i.props);return i.type!==h.Fragment&&(c.ref=s?fu(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CV=Symbol("radix.slottable");function EV(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CV}function _V(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function PV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TV=kV.reduce((e,t)=>{const n=NV(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),AV="Label",X2=h.forwardRef((e,t)=>r.jsx(TV.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));X2.displayName=AV;var J2=X2;const RV=gm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ke=h.forwardRef(({className:e,...t},n)=>r.jsx(J2,{ref:n,className:Be(RV(),e),...t}));Ke.displayName=J2.displayName;const bn=h.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));bn.displayName="Textarea";function ja(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var OV=Oa[" useInsertionEffect ".trim().toString()]||jn;function IV({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,u]=MV({defaultProp:t,onChange:n}),c=e!==void 0,f=c?e:i;{const p=h.useRef(e!==void 0);h.useEffect(()=>{const x=p.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const m=h.useCallback(p=>{if(c){const x=DV(p)?p(e):p;x!==e&&u.current?.(x)}else o(p)},[c,e,o,u]);return[f,m]}function MV({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),i=h.useRef(n),o=h.useRef(t);return OV(()=>{o.current=t},[t]),h.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,s,o]}function DV(e){return typeof e=="function"}function Y2(e){const t=$V(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(FV);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function $V(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=VV(i),c=zV(o,i.props);return i.type!==h.Fragment&&(c.ref=s?fu(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LV=Symbol("radix.slottable");function FV(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LV}function zV(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function VV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ui=UV.reduce((e,t)=>{const n=Y2(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function BV(e,t){e&&pi.flushSync(()=>e.dispatchEvent(t))}var qV="DismissableLayer",px="dismissableLayer.update",HV="dismissableLayer.pointerDownOutside",WV="dismissableLayer.focusOutside",gj,eE=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tE=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...f}=e,m=h.useContext(eE),[p,x]=h.useState(null),v=p?.ownerDocument??globalThis?.document,[,b]=h.useState({}),S=Tt(t,A=>x(A)),w=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(N),C=p?w.indexOf(p):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,k=C>=E,T=GV(A=>{const B=A.target,Z=[...m.branches].some($=>$.contains(B));!k||Z||(i?.(A),u?.(A),A.defaultPrevented||c?.())},v),R=ZV(A=>{const B=A.target;[...m.branches].some($=>$.contains(B))||(o?.(A),u?.(A),A.defaultPrevented||c?.())},v);return I1(A=>{C===m.layers.size-1&&(s?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},v),h.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(gj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),xj(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=gj)}},[p,v,n,m]),h.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),xj())},[p,m]),h.useEffect(()=>{const A=()=>b({});return document.addEventListener(px,A),()=>document.removeEventListener(px,A)},[]),r.jsx(Ui.div,{...f,ref:S,style:{pointerEvents:P?k?"auto":"none":void 0,...e.style},onFocusCapture:ja(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ja(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ja(e.onPointerDownCapture,T.onPointerDownCapture)})});tE.displayName=qV;var KV="DismissableLayerBranch",QV=h.forwardRef((e,t)=>{const n=h.useContext(eE),s=h.useRef(null),i=Tt(t,s);return h.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Ui.div,{...e,ref:i})});QV.displayName=KV;function GV(e,t=globalThis?.document){const n=Jt(e),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const o=c=>{if(c.target&&!s.current){let f=function(){nE(HV,n,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ZV(e,t=globalThis?.document){const n=Jt(e),s=h.useRef(!1);return h.useEffect(()=>{const i=o=>{o.target&&!s.current&&nE(WV,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function xj(){const e=new CustomEvent(px);document.dispatchEvent(e)}function nE(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?BV(i,o):i.dispatchEvent(o)}var mg="focusScope.autoFocusOnMount",hg="focusScope.autoFocusOnUnmount",vj={bubbles:!1,cancelable:!0},XV="FocusScope",rE=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[c,f]=h.useState(null),m=Jt(i),p=Jt(o),x=h.useRef(null),v=Tt(t,w=>f(w)),b=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let w=function(P){if(b.paused||!c)return;const k=P.target;c.contains(k)?x.current=k:ha(x.current,{select:!0})},N=function(P){if(b.paused||!c)return;const k=P.relatedTarget;k!==null&&(c.contains(k)||ha(x.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&ha(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const C=new MutationObserver(E);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),C.disconnect()}}},[s,c,b.paused]),h.useEffect(()=>{if(c){wj.add(b);const w=document.activeElement;if(!c.contains(w)){const E=new CustomEvent(mg,vj);c.addEventListener(mg,m),c.dispatchEvent(E),E.defaultPrevented||(JV(rU(sE(c)),{select:!0}),document.activeElement===w&&ha(c))}return()=>{c.removeEventListener(mg,m),setTimeout(()=>{const E=new CustomEvent(hg,vj);c.addEventListener(hg,p),c.dispatchEvent(E),E.defaultPrevented||ha(w??document.body,{select:!0}),c.removeEventListener(hg,p),wj.remove(b)},0)}}},[c,m,p,b]);const S=h.useCallback(w=>{if(!n&&!s||b.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const C=w.currentTarget,[P,k]=YV(C);P&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&ha(P,{select:!0})):w.shiftKey&&E===P&&(w.preventDefault(),n&&ha(k,{select:!0})):E===C&&w.preventDefault()}},[n,s,b.paused]);return r.jsx(Ui.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});rE.displayName=XV;function JV(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ha(s,{select:t}),document.activeElement!==n)return}function YV(e){const t=sE(e),n=yj(t,e),s=yj(t.reverse(),e);return[n,s]}function sE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yj(e,t){for(const n of e)if(!eU(n,{upTo:t}))return n}function eU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tU(e){return e instanceof HTMLInputElement&&"select"in e}function ha(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tU(e)&&t&&e.select()}}var wj=nU();function nU(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=bj(e,t),e.unshift(t)},remove(t){e=bj(e,t),e[0]?.resume()}}}function bj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function rU(e){return e.filter(t=>t.tagName!=="A")}var sU="Portal",iE=h.forwardRef((e,t)=>{const{container:n,...s}=e,[i,o]=h.useState(!1);jn(()=>o(!0),[]);const u=n||i&&globalThis?.document?.body;return u?Vx.createPortal(r.jsx(Ui.div,{...s,ref:t}),u):null});iE.displayName=sU;function iU(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var Fm=e=>{const{present:t,children:n}=e,s=aU(t),i=typeof n=="function"?n({present:s.isPresent}):h.Children.only(n),o=Tt(s.ref,oU(i));return typeof n=="function"||s.isPresent?h.cloneElement(i,{ref:o}):null};Fm.displayName="Presence";function aU(e){const[t,n]=h.useState(),s=h.useRef(null),i=h.useRef(e),o=h.useRef("none"),u=e?"mounted":"unmounted",[c,f]=iU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const m=Xd(s.current);o.current=c==="mounted"?m:"none"},[c]),jn(()=>{const m=s.current,p=i.current;if(p!==e){const v=o.current,b=Xd(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(p&&v!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),jn(()=>{if(t){let m;const p=t.ownerDocument.defaultView??window,x=b=>{const w=Xd(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&w&&(f("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},v=b=>{b.target===t&&(o.current=Xd(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{p.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:h.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function Xd(e){return e?.animationName||"none"}function oU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pg=0;function lU(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jj()),document.body.insertAdjacentElement("beforeend",e[1]??jj()),pg++,()=>{pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pg--}},[])}function jj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ei=function(){return ei=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ei.apply(this,arguments)};function aE(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function cU(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var gf="right-scroll-bar-position",xf="width-before-scroll-bar",uU="with-scroll-bars-hidden",dU="--removed-body-scroll-bar-size";function gg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fU(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var mU=typeof window<"u"?h.useLayoutEffect:h.useEffect,Nj=new WeakMap;function hU(e,t){var n=fU(null,function(s){return e.forEach(function(i){return gg(i,s)})});return mU(function(){var s=Nj.get(n);if(s){var i=new Set(s),o=new Set(e),u=n.current;i.forEach(function(c){o.has(c)||gg(c,null)}),o.forEach(function(c){i.has(c)||gg(c,u)})}Nj.set(n,e)},[e]),n}function pU(e){return e}function gU(e,t){t===void 0&&(t=pU);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,s);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(s=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){s=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(o),u=n}var f=function(){var p=u;u=[],p.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(p){u.push(p),m()},filter:function(p){return u=u.filter(p),n}}}};return i}function xU(e){e===void 0&&(e={});var t=gU(null);return t.options=ei({async:!0,ssr:!1},e),t}var oE=function(e){var t=e.sideCar,n=aE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,ei({},n))};oE.isSideCarExport=!0;function vU(e,t){return e.useMedium(t),oE}var lE=xU(),xg=function(){},zm=h.forwardRef(function(e,t){var n=h.useRef(null),s=h.useState({onScrollCapture:xg,onWheelCapture:xg,onTouchMoveCapture:xg}),i=s[0],o=s[1],u=e.forwardProps,c=e.children,f=e.className,m=e.removeScrollBar,p=e.enabled,x=e.shards,v=e.sideCar,b=e.noIsolation,S=e.inert,w=e.allowPinchZoom,N=e.as,E=N===void 0?"div":N,C=e.gapMode,P=aE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,T=hU([n,t]),R=ei(ei({},P),i);return h.createElement(h.Fragment,null,p&&h.createElement(k,{sideCar:lE,removeScrollBar:m,shards:x,noIsolation:b,inert:S,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:C}),u?h.cloneElement(h.Children.only(c),ei(ei({},R),{ref:T})):h.createElement(E,ei({},R,{className:f,ref:T}),c))});zm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zm.classNames={fullWidth:xf,zeroRight:gf};var yU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yU();return t&&e.setAttribute("nonce",t),e}function bU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var NU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wU())&&(bU(t,n),jU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SU=function(){var e=NU();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cE=function(){var e=SU(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},CU={left:0,top:0,right:0,gap:0},vg=function(e){return parseInt(e||"",10)||0},EU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[vg(n),vg(s),vg(i)]},_U=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CU;var t=EU(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},PU=cE(),dl="data-scroll-locked",kU=function(e,t,n,s){var i=e.left,o=e.top,u=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uU,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(dl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(xf,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(dl,`] {
    `).concat(dU,": ").concat(c,`px;
  }
`)},Sj=function(){var e=parseInt(document.body.getAttribute(dl)||"0",10);return isFinite(e)?e:0},TU=function(){h.useEffect(function(){return document.body.setAttribute(dl,(Sj()+1).toString()),function(){var e=Sj()-1;e<=0?document.body.removeAttribute(dl):document.body.setAttribute(dl,e.toString())}},[])},AU=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;TU();var o=h.useMemo(function(){return _U(i)},[i]);return h.createElement(PU,{styles:kU(o,!t,i,n?"":"!important")})},gx=!1;if(typeof window<"u")try{var Jd=Object.defineProperty({},"passive",{get:function(){return gx=!0,!0}});window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{gx=!1}var Zo=gx?{passive:!1}:!1,RU=function(e){return e.tagName==="TEXTAREA"},uE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!RU(e)&&n[t]==="visible")},OU=function(e){return uE(e,"overflowY")},IU=function(e){return uE(e,"overflowX")},Cj=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=dE(e,s);if(i){var o=fE(e,s),u=o[1],c=o[2];if(u>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},MU=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},DU=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},dE=function(e,t){return e==="v"?OU(t):IU(t)},fE=function(e,t){return e==="v"?MU(t):DU(t)},$U=function(e,t){return e==="h"&&t==="rtl"?-1:1},LU=function(e,t,n,s,i){var o=$U(e,window.getComputedStyle(t).direction),u=o*s,c=n.target,f=t.contains(c),m=!1,p=u>0,x=0,v=0;do{var b=fE(e,c),S=b[0],w=b[1],N=b[2],E=w-N-o*S;(S||E)&&dE(e,c)&&(x+=E,v+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(t.contains(c)||t===c));return(p&&Math.abs(x)<1||!p&&Math.abs(v)<1)&&(m=!0),m},Yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ej=function(e){return[e.deltaX,e.deltaY]},_j=function(e){return e&&"current"in e?e.current:e},FU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VU=0,Xo=[];function UU(e){var t=h.useRef([]),n=h.useRef([0,0]),s=h.useRef(),i=h.useState(VU++)[0],o=h.useState(cE)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=cU([e.lockRef.current],(e.shards||[]).map(_j),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=h.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var E=Yd(w),C=n.current,P="deltaX"in w?w.deltaX:C[0]-E[0],k="deltaY"in w?w.deltaY:C[1]-E[1],T,R=w.target,A=Math.abs(P)>Math.abs(k)?"h":"v";if("touches"in w&&A==="h"&&R.type==="range")return!1;var B=Cj(A,R);if(!B)return!0;if(B?T=A:(T=A==="v"?"h":"v",B=Cj(A,R)),!B)return!1;if(!s.current&&"changedTouches"in w&&(P||k)&&(s.current=T),!T)return!0;var Z=s.current||T;return LU(Z,N,w,Z==="h"?P:k)},[]),f=h.useCallback(function(w){var N=w;if(!(!Xo.length||Xo[Xo.length-1]!==o)){var E="deltaY"in N?Ej(N):Yd(N),C=t.current.filter(function(T){return T.name===N.type&&(T.target===N.target||N.target===T.shadowParent)&&FU(T.delta,E)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var P=(u.current.shards||[]).map(_j).filter(Boolean).filter(function(T){return T.contains(N.target)}),k=P.length>0?c(N,P[0]):!u.current.noIsolation;k&&N.cancelable&&N.preventDefault()}}},[]),m=h.useCallback(function(w,N,E,C){var P={name:w,delta:N,target:E,should:C,shadowParent:BU(E)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(k){return k!==P})},1)},[]),p=h.useCallback(function(w){n.current=Yd(w),s.current=void 0},[]),x=h.useCallback(function(w){m(w.type,Ej(w),w.target,c(w,e.lockRef.current))},[]),v=h.useCallback(function(w){m(w.type,Yd(w),w.target,c(w,e.lockRef.current))},[]);h.useEffect(function(){return Xo.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Zo),document.addEventListener("touchmove",f,Zo),document.addEventListener("touchstart",p,Zo),function(){Xo=Xo.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,Zo),document.removeEventListener("touchmove",f,Zo),document.removeEventListener("touchstart",p,Zo)}},[]);var b=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(o,{styles:zU(i)}):null,b?h.createElement(AU,{gapMode:e.gapMode}):null)}function BU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qU=vU(lE,UU);var Lv=h.forwardRef(function(e,t){return h.createElement(zm,ei({},e,{ref:t,sideCar:qU}))});Lv.classNames=zm.classNames;var HU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,ef=new WeakMap,tf={},yg=0,mE=function(e){return e&&(e.host||mE(e.parentNode))},WU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=mE(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KU=function(e,t,n,s){var i=WU(t,Array.isArray(e)?e:[e]);tf[n]||(tf[n]=new WeakMap);var o=tf[n],u=[],c=new Set,f=new Set(i),m=function(x){!x||c.has(x)||(c.add(x),m(x.parentNode))};i.forEach(m);var p=function(x){!x||f.has(x)||Array.prototype.forEach.call(x.children,function(v){if(c.has(v))p(v);else try{var b=v.getAttribute(s),S=b!==null&&b!=="false",w=(Jo.get(v)||0)+1,N=(o.get(v)||0)+1;Jo.set(v,w),o.set(v,N),u.push(v),w===1&&S&&ef.set(v,!0),N===1&&v.setAttribute(n,"true"),S||v.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return p(t),c.clear(),yg++,function(){u.forEach(function(x){var v=Jo.get(x)-1,b=o.get(x)-1;Jo.set(x,v),o.set(x,b),v||(ef.has(x)||x.removeAttribute(s),ef.delete(x)),b||x.removeAttribute(n)}),yg--,yg||(Jo=new WeakMap,Jo=new WeakMap,ef=new WeakMap,tf={})}},hE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=HU(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),KU(s,i,n,"aria-hidden")):function(){return null}},Vm="Dialog",[pE]=fs(Vm),[QU,Ls]=pE(Vm),gE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,c=h.useRef(null),f=h.useRef(null),[m,p]=IV({prop:s,defaultProp:i??!1,onChange:o,caller:Vm});return r.jsx(QU,{scope:t,triggerRef:c,contentRef:f,contentId:ba(),titleId:ba(),descriptionId:ba(),open:m,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(x=>!x),[p]),modal:u,children:n})};gE.displayName=Vm;var xE="DialogTrigger",vE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ls(xE,n),o=Tt(t,i.triggerRef);return r.jsx(Ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Vv(i.open),...s,ref:o,onClick:ja(e.onClick,i.onOpenToggle)})});vE.displayName=xE;var Fv="DialogPortal",[GU,yE]=pE(Fv,{forceMount:void 0}),wE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,o=Ls(Fv,t);return r.jsx(GU,{scope:t,forceMount:n,children:h.Children.map(s,u=>r.jsx(Fm,{present:n||o.open,children:r.jsx(iE,{asChild:!0,container:i,children:u})}))})};wE.displayName=Fv;var Qf="DialogOverlay",bE=h.forwardRef((e,t)=>{const n=yE(Qf,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Ls(Qf,e.__scopeDialog);return o.modal?r.jsx(Fm,{present:s||o.open,children:r.jsx(XU,{...i,ref:t})}):null});bE.displayName=Qf;var ZU=Y2("DialogOverlay.RemoveScroll"),XU=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ls(Qf,n);return r.jsx(Lv,{as:ZU,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ui.div,{"data-state":Vv(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),po="DialogContent",jE=h.forwardRef((e,t)=>{const n=yE(po,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Ls(po,e.__scopeDialog);return r.jsx(Fm,{present:s||o.open,children:o.modal?r.jsx(JU,{...i,ref:t}):r.jsx(YU,{...i,ref:t})})});jE.displayName=po;var JU=h.forwardRef((e,t)=>{const n=Ls(po,e.__scopeDialog),s=h.useRef(null),i=Tt(t,n.contentRef,s);return h.useEffect(()=>{const o=s.current;if(o)return hE(o)},[]),r.jsx(NE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ja(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ja(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:ja(e.onFocusOutside,o=>o.preventDefault())})}),YU=h.forwardRef((e,t)=>{const n=Ls(po,e.__scopeDialog),s=h.useRef(!1),i=h.useRef(!1);return r.jsx(NE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),NE=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...u}=e,c=Ls(po,n),f=h.useRef(null),m=Tt(t,f);return lU(),r.jsxs(r.Fragment,{children:[r.jsx(rE,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(tE,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Vv(c.open),...u,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(e7,{titleId:c.titleId}),r.jsx(n7,{contentRef:f,descriptionId:c.descriptionId})]})]})}),zv="DialogTitle",SE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ls(zv,n);return r.jsx(Ui.h2,{id:i.titleId,...s,ref:t})});SE.displayName=zv;var CE="DialogDescription",EE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ls(CE,n);return r.jsx(Ui.p,{id:i.descriptionId,...s,ref:t})});EE.displayName=CE;var _E="DialogClose",PE=h.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ls(_E,n);return r.jsx(Ui.button,{type:"button",...s,ref:t,onClick:ja(e.onClick,()=>i.onOpenChange(!1))})});PE.displayName=_E;function Vv(e){return e?"open":"closed"}var kE="DialogTitleWarning",[KW,TE]=xA(kE,{contentName:po,titleName:zv,docsSlug:"dialog"}),e7=({titleId:e})=>{const t=TE(kE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},t7="DialogDescriptionWarning",n7=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TE(t7).contentName}}.`;return h.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},r7=gE,s7=vE,i7=wE,AE=bE,RE=jE,OE=SE,IE=EE,ME=PE;const ur=r7,DE=s7,a7=i7,o7=ME,$E=h.forwardRef(({className:e,...t},n)=>r.jsx(AE,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$E.displayName=AE.displayName;const er=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(a7,{children:[r.jsx($E,{}),r.jsxs(RE,{ref:s,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(ME,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(ro,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=RE.displayName;const tr=({className:e,...t})=>r.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tr.displayName="DialogHeader";const dr=({className:e,...t})=>r.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dr.displayName="DialogFooter";const nr=h.forwardRef(({className:e,...t},n)=>r.jsx(OE,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",e),...t}));nr.displayName=OE.displayName;const io=h.forwardRef(({className:e,...t},n)=>r.jsx(IE,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));io.displayName=IE.displayName;const nf={name:"",role:"",description:"",verse:"",initials:""};function l7(){const{user:e}=an(),{toast:t}=rt(),n=e?.role==="admin",[s,i]=h.useState(!1),[o,u]=h.useState(!1),[c,f]=h.useState(null),[m,p]=h.useState(null),[x,v]=h.useState(nf),{data:b,isLoading:S}=vt({queryKey:["/api/team-members"]}),w=De({mutationFn:async R=>{await sn("POST","/api/team-members",R)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/team-members"]}),u(!1),v(nf),t({title:"Miembro agregado exitosamente"})},onError:R=>{t({title:"Error al agregar miembro",description:R.message,variant:"destructive"})}}),N=De({mutationFn:async({id:R,data:A})=>{await sn("PATCH",`/api/team-members/${R}`,A)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/team-members"]}),u(!1),f(null),v(nf),t({title:"Miembro actualizado exitosamente"})},onError:R=>{t({title:"Error al actualizar miembro",description:R.message,variant:"destructive"})}}),E=De({mutationFn:async R=>{await sn("DELETE",`/api/team-members/${R}`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/team-members"]}),p(null),t({title:"Miembro eliminado exitosamente"})},onError:R=>{t({title:"Error al eliminar miembro",description:R.message,variant:"destructive"})}});function C(){f(null),v(nf),u(!0)}function P(R){f(R),v({name:R.name,role:R.role,description:R.description||"",verse:R.verse||"",initials:R.initials||""}),u(!0)}function k(){!x.name.trim()||!x.role.trim()||(c?N.mutate({id:c.id,data:x}):w.mutate(x))}const T=w.isPending||N.isPending;return r.jsxs(Ot,{children:[r.jsx("section",{className:"py-16",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:"Nuestro Equipo"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4","data-testid":"text-team-title",children:"Lideres con Vision y Pasion"}),r.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Un equipo unido por el mismo llamado: encender el fuego del avivamiento en cada rincon del mundo."})]}),n&&r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[r.jsxs(D,{variant:s?"default":"outline",onClick:()=>i(!s),"data-testid":"button-toggle-management",children:[r.jsx(pN,{className:"mr-2 h-4 w-4"}),"Gestionar Equipo"]}),s&&r.jsxs(D,{onClick:C,"data-testid":"button-add-member",children:[r.jsx($n,{className:"mr-2 h-4 w-4"}),"Agregar Miembro"]})]}),S?r.jsx("div",{className:"flex justify-center py-16",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground","data-testid":"loading-spinner"})}):!b||b.length===0?r.jsxs(ce,{className:"p-12 text-center","data-testid":"empty-state",children:[r.jsx(rr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay miembros del equipo"}),r.jsx("p",{className:"text-muted-foreground",children:n?"Activa el modo de gestion para agregar miembros al equipo.":"El equipo se esta conformando. Vuelve pronto."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(R=>r.jsx(ce,{className:"p-6","data-testid":`card-leader-${R.id}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(mr,{className:"h-14 w-14",children:r.jsx(hr,{className:"bg-primary/10 text-primary font-bold",children:R.initials||R.name.slice(0,2).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:R.name}),r.jsx("p",{className:"text-sm text-primary font-medium",children:R.role})]}),s&&n&&r.jsxs("div",{className:"flex gap-1",style:{visibility:"visible"},children:[r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>P(R),"data-testid":`button-edit-member-${R.id}`,children:r.jsx(Js,{className:"h-4 w-4"})}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>p(R.id),"data-testid":`button-delete-member-${R.id}`,children:r.jsx(An,{className:"h-4 w-4"})})]})]}),R.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:R.description}),R.verse&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-2 italic",children:['"',R.verse,'"']})]})]})},R.id))}),r.jsxs(ce,{className:"mt-12 p-8 text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Sientes el llamado?"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Estamos buscando obreros apasionados que quieran unirse a esta vision de llevar el fuego del evangelio a las naciones."}),r.jsx(lt,{href:"/registro",children:r.jsx(D,{"data-testid":"button-join-team",children:"Ser Parte del Equipo"})})]})]})}),r.jsx(ur,{open:o,onOpenChange:u,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:c?"Editar Miembro":"Agregar Miembro"})}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"member-name",children:"Nombre"}),r.jsx(Le,{id:"member-name",value:x.name,onChange:R=>v({...x,name:R.target.value}),placeholder:"Nombre completo","data-testid":"input-member-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"member-role",children:"Rol"}),r.jsx(Le,{id:"member-role",value:x.role,onChange:R=>v({...x,role:R.target.value}),placeholder:"Ej: Director del Ministerio","data-testid":"input-member-role"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"member-description",children:"Descripcion"}),r.jsx(bn,{id:"member-description",value:x.description,onChange:R=>v({...x,description:R.target.value}),placeholder:"Breve descripcion del miembro","data-testid":"input-member-description"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"member-verse",children:"Versiculo"}),r.jsx(Le,{id:"member-verse",value:x.verse,onChange:R=>v({...x,verse:R.target.value}),placeholder:"Ej: 1 Timoteo 4:12","data-testid":"input-member-verse"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"member-initials",children:"Iniciales"}),r.jsx(Le,{id:"member-initials",value:x.initials,onChange:R=>v({...x,initials:R.target.value}),placeholder:"Ej: LR",maxLength:3,"data-testid":"input-member-initials"})]})]}),r.jsxs(dr,{children:[r.jsx(D,{variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-member",children:"Cancelar"}),r.jsxs(D,{onClick:k,disabled:T||!x.name.trim()||!x.role.trim(),"data-testid":"button-save-member",children:[T?r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(wa,{className:"mr-2 h-4 w-4"}),c?"Guardar Cambios":"Agregar"]})]})]})}),r.jsx(ur,{open:m!==null,onOpenChange:()=>p(null),children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Confirmar Eliminacion"})}),r.jsx("p",{className:"text-muted-foreground py-4",children:"Esta seguro de que desea eliminar este miembro del equipo? Esta accion no se puede deshacer."}),r.jsxs(dr,{children:[r.jsx(D,{variant:"outline",onClick:()=>p(null),"data-testid":"button-cancel-delete",children:"Cancelar"}),r.jsxs(D,{variant:"destructive",onClick:()=>m&&E.mutate(m),disabled:E.isPending,"data-testid":"button-confirm-delete",children:[E.isPending?r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(An,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]})}const c7=gm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...n}){return r.jsx("div",{className:Be(c7({variant:t}),e),...n})}function u7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,updates:s})=>{const i=bt(Q.users.update.path,{id:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error("Error al actualizar perfil");return o.json()},onSuccess:n=>{e.invalidateQueries({queryKey:[Q.users.get.path,n.id]}),e.invalidateQueries({queryKey:[Q.auth.me.path]}),t({title:"Perfil actualizado",description:"Los cambios han sido guardados."})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function d7(){return vt({queryKey:[Q.admin.listUsers.path],queryFn:async()=>{const e=await fetch(Q.admin.listUsers.path);if(!e.ok)throw new Error("Error al obtener usuarios");return e.json()}})}function f7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.admin.toggleActive.path,{id:n}),i=await fetch(s,{method:"PATCH"});if(!i.ok)throw new Error("Error al cambiar estado");return i.json()},onSuccess:n=>{e.invalidateQueries({queryKey:[Q.admin.listUsers.path]}),t({title:n.isActive?"Usuario aprobado":"Usuario desactivado",description:n.isActive?`${n.displayName||n.username} ahora puede acceder al sistema.`:`${n.displayName||n.username} ha sido desactivado.`})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function m7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,role:s})=>{const i=bt(Q.admin.updateRole.path,{id:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:s})});if(!o.ok)throw new Error("Error al cambiar rol");return o.json()},onSuccess:n=>{e.invalidateQueries({queryKey:[Q.admin.listUsers.path]}),e.invalidateQueries({queryKey:[Q.courses.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.myRequests.path]}),t({title:"Rol actualizado",description:`El rol de ${n.displayName||n.username} ha sido actualizado.`})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function h7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.admin.deleteUser.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar usuario")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.listUsers.path]}),t({title:"Usuario eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function p7(){return vt({queryKey:[Q.admin.listMessages.path],queryFn:async()=>{const e=await fetch(Q.admin.listMessages.path);if(!e.ok)throw new Error("Error al obtener mensajes");return e.json()}})}function g7(){const e=ot();return De({mutationFn:async t=>{const n=bt(Q.admin.toggleMessageRead.path,{id:t}),s=await fetch(n,{method:"PATCH"});if(!s.ok)throw new Error("Error al marcar mensaje");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.listMessages.path]})}})}function x7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.admin.deleteMessage.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar mensaje")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.listMessages.path]}),t({title:"Mensaje eliminado"})}})}function LE(){return vt({queryKey:[Q.posts.list.path],queryFn:async()=>{const e=await fetch(Q.posts.list.path);if(!e.ok)throw new Error("Error al obtener publicaciones");return e.json()}})}function v7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.posts.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n})});if(!s.ok)throw new Error("Error al publicar mensaje");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.posts.list.path]}),t({title:"Mensaje publicado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function FE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.posts.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar publicacion")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.posts.list.path]}),t({title:"Publicacion eliminada"})}})}function zE(){return vt({queryKey:[Q.events.list.path],queryFn:async()=>{const e=await fetch(Q.events.list.path);if(!e.ok)throw new Error("Error al obtener eventos");return e.json()}})}function VE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.events.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al crear evento");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.events.list.path]}),t({title:"Evento creado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function UE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,updates:s})=>{const i=bt(Q.events.update.path,{id:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error("Error al actualizar evento");return o.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.events.list.path]}),t({title:"Evento actualizado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function BE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.events.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar evento")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.events.list.path]}),t({title:"Evento eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function y7(){return vt({queryKey:[Q.siteContent.list.path],queryFn:async()=>{const e=await fetch(Q.siteContent.list.path);if(!e.ok)throw new Error("Error al obtener contenido");return e.json()}})}function w7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({key:n,data:s})=>{const i=bt(Q.siteContent.update.path,{key:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error("Error al actualizar contenido");return o.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.siteContent.get.path,s.key]}),e.invalidateQueries({queryKey:[Q.siteContent.list.path]}),t({title:"Contenido actualizado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function Uv(e){const t=new URLSearchParams;e?.search&&t.set("search",e.search),e?.category&&t.set("category",e.category),e?.teacher&&t.set("teacher",String(e.teacher));const n=t.toString();return vt({queryKey:[Q.courses.list.path,e?.search||"",e?.category||"",e?.teacher||""],queryFn:async()=>{const s=await fetch(`${Q.courses.list.path}${n?`?${n}`:""}`);if(!s.ok)throw new Error("Error al obtener cursos");return s.json()}})}function Bv(e){return vt({queryKey:[Q.courses.get.path,e],queryFn:async()=>{const t=bt(Q.courses.get.path,{id:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener curso");return n.json()},enabled:!!e})}function qE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.courses.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al crear curso");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.courses.list.path]}),t({title:"Curso creado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function HE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,updates:s})=>{const i=bt(Q.courses.update.path,{id:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error("Error al actualizar curso");return o.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courses.list.path]}),e.invalidateQueries({queryKey:[Q.courses.get.path,s.id]}),e.invalidateQueries({queryKey:[Q.teacherRequests.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.myRequests.path]}),e.invalidateQueries({queryKey:[Q.enrollments.list.path]}),t({title:"Curso actualizado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function b7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.courses.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar curso")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.courses.list.path]}),t({title:"Curso eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function qv(e){return vt({queryKey:[Q.courseMaterials.list.path,e],queryFn:async()=>{const t=bt(Q.courseMaterials.list.path,{courseId:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener materiales");return n.json()},enabled:!!e})}function j7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.courseMaterials.list.path,{courseId:n.courseId}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Error al crear material");return i.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseMaterials.list.path,s.courseId]}),t({title:"Material agregado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function N7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s})=>{const i=bt(Q.courseMaterials.delete.path,{id:n});if(!(await fetch(i,{method:"DELETE"})).ok)throw new Error("Error al eliminar material")},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseMaterials.list.path,s.courseId]}),t({title:"Material eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function Hv(e){return vt({queryKey:[Q.courseSessions.list.path,e],queryFn:async()=>{const t=bt(Q.courseSessions.list.path,{courseId:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener sesiones");return n.json()},enabled:!!e})}function S7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.courseSessions.list.path,{courseId:n.courseId}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Error al crear sesion");return i.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseSessions.list.path,s.courseId]}),t({title:"Sesion programada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function C7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s,updates:i})=>{const o=bt(Q.courseSessions.update.path,{id:n}),u=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!u.ok)throw new Error("Error al actualizar sesion");return u.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseSessions.list.path,s.courseId]}),t({title:"Sesion actualizada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function E7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s})=>{const i=bt(Q.courseSessions.delete.path,{id:n});if(!(await fetch(i,{method:"DELETE"})).ok)throw new Error("Error al eliminar sesion")},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseSessions.list.path,s.courseId]}),t({title:"Sesion eliminada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function Um(){return vt({queryKey:[Q.enrollments.list.path],queryFn:async()=>{const e=await fetch(Q.enrollments.list.path);if(!e.ok)throw new Error("Error al obtener inscripciones");return e.json()}})}function WE(e){return vt({queryKey:[Q.enrollments.listByCourse.path,e],queryFn:async()=>{const t=bt(Q.enrollments.listByCourse.path,{courseId:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener inscripciones");return n.json()},enabled:!!e})}function KE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.enrollments.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:n})});if(!s.ok){const i=await s.json().catch(()=>null);throw new Error(i?.message||"Error al solicitar inscripcion")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.enrollments.list.path]}),t({title:"Inscripcion solicitada",description:"Tu solicitud sera revisada por el profesor o administrador."})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function QE(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s,updates:i})=>{const o=bt(Q.enrollments.update.path,{id:n}),u=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!u.ok)throw new Error("Error al actualizar inscripcion");return u.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.enrollments.listByCourse.path,s.courseId]}),e.invalidateQueries({queryKey:[Q.enrollments.list.path]}),e.invalidateQueries({queryKey:[Q.courses.list.path]}),e.invalidateQueries({queryKey:[Q.courses.get.path]}),t({title:"Inscripcion actualizada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function _7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s})=>{const i=bt(Q.enrollments.delete.path,{id:n});if(!(await fetch(i,{method:"DELETE"})).ok)throw new Error("Error al cancelar inscripcion")},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.enrollments.listByCourse.path,s.courseId]}),e.invalidateQueries({queryKey:[Q.enrollments.list.path]}),t({title:"Inscripcion cancelada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function P7(){return vt({queryKey:[Q.teacherRequests.list.path],queryFn:async()=>{const e=await fetch(Q.teacherRequests.list.path);if(!e.ok)throw new Error("Error al obtener solicitudes de maestros");return e.json()}})}function k7(){return vt({queryKey:[Q.teacherRequests.myRequests.path],queryFn:async()=>{const e=await fetch(Q.teacherRequests.myRequests.path);if(!e.ok)throw new Error("Error al obtener mis solicitudes");return e.json()}})}function T7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({courseId:n,message:s})=>{const i=await fetch(Q.teacherRequests.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:n,message:s})});if(!i.ok){const o=await i.json().catch(()=>null);throw new Error(o?.message||"Error al enviar solicitud")}return i.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.teacherRequests.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.myRequests.path]}),t({title:"Solicitud enviada",description:"Tu solicitud para ensenar este curso sera revisada por el administrador."})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function A7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,updates:s})=>{const i=bt(Q.teacherRequests.update.path,{id:n}),o=await fetch(i,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error("Error al actualizar solicitud");return o.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.teacherRequests.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.myRequests.path]}),e.invalidateQueries({queryKey:[Q.courses.list.path]}),e.invalidateQueries({queryKey:[Q.courses.get.path]}),t({title:"Solicitud actualizada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function R7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.teacherRequests.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar solicitud")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.teacherRequests.list.path]}),e.invalidateQueries({queryKey:[Q.teacherRequests.myRequests.path]}),e.invalidateQueries({queryKey:[Q.courses.list.path]}),t({title:"Solicitud eliminada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function GE(e){return vt({queryKey:[Q.courseAnnouncements.list.path,e],queryFn:async()=>{const t=bt(Q.courseAnnouncements.list.path,{courseId:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener anuncios");return n.json()},enabled:!!e})}function O7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.courseAnnouncements.list.path,{courseId:n.courseId}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Error al crear anuncio");return i.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseAnnouncements.list.path,s.courseId]}),t({title:"Anuncio publicado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function I7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s})=>{const i=bt(Q.courseAnnouncements.delete.path,{id:n});if(!(await fetch(i,{method:"DELETE"})).ok)throw new Error("Error al eliminar anuncio")},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseAnnouncements.list.path,s.courseId]}),t({title:"Anuncio eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function ZE(e){return vt({queryKey:[Q.courseScheduleEntries.list.path,e],queryFn:async()=>{const t=bt(Q.courseScheduleEntries.list.path,{courseId:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener horario");return n.json()},enabled:!!e})}function M7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.courseScheduleEntries.list.path,{courseId:n.courseId}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Error al crear horario");return i.json()},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseScheduleEntries.list.path,s.courseId]}),t({title:"Horario agregado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function D7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,courseId:s})=>{const i=bt(Q.courseScheduleEntries.delete.path,{id:n});if(!(await fetch(i,{method:"DELETE"})).ok)throw new Error("Error al eliminar horario")},onSuccess:(n,s)=>{e.invalidateQueries({queryKey:[Q.courseScheduleEntries.list.path,s.courseId]}),t({title:"Horario eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function $7(e,t){const n=new URLSearchParams;e&&n.set("book",e),t!==void 0&&n.set("chapter",String(t));const s=n.toString();return vt({queryKey:[Q.bibleHighlights.list.path,e||"",t??""],queryFn:async()=>{const i=await fetch(`${Q.bibleHighlights.list.path}${s?`?${s}`:""}`);return i.ok?i.json():[]}})}function L7(){const e=ot();return De({mutationFn:async t=>{const n=await fetch(Q.bibleHighlights.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Error al crear resaltado");return n.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.bibleHighlights.list.path]})}})}function F7(){const e=ot();return De({mutationFn:async t=>{const n=bt(Q.bibleHighlights.delete.path,{id:t});if(!(await fetch(n,{method:"DELETE"})).ok)throw new Error("Error al eliminar resaltado")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.bibleHighlights.list.path]})}})}function z7(e,t){const n=new URLSearchParams;e&&n.set("book",e),t!==void 0&&n.set("chapter",String(t));const s=n.toString();return vt({queryKey:[Q.bibleNotes.list.path,e||"",t??""],queryFn:async()=>{const i=await fetch(`${Q.bibleNotes.list.path}${s?`?${s}`:""}`);return i.ok?i.json():[]}})}function V7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.bibleNotes.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al crear nota");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.bibleNotes.list.path]}),t({title:"Nota guardada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function U7(){const e=ot();return De({mutationFn:async t=>{const n=bt(Q.bibleNotes.delete.path,{id:t});if(!(await fetch(n,{method:"DELETE"})).ok)throw new Error("Error al eliminar nota")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.bibleNotes.list.path]})}})}function B7(e){return vt({queryKey:[Q.readingPlans.list.path,e?"public":"mine"],queryFn:async()=>{const t=await fetch(`${Q.readingPlans.list.path}${e?"?public=true":""}`);return t.ok?t.json():[]}})}function q7(e){return vt({queryKey:[Q.readingPlans.get.path,e],queryFn:async()=>{const t=bt(Q.readingPlans.get.path,{id:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener plan");return n.json()},enabled:!!e})}function H7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.readingPlans.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al crear plan");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.readingPlans.list.path]}),t({title:"Plan de lectura creado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function W7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.readingPlans.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar plan")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.readingPlans.list.path]}),t({title:"Plan eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function K7(){const e=ot();return De({mutationFn:async({planId:t,data:n})=>{const s=bt(Q.readingPlans.addItem.path,{id:t}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,planId:t})});if(!i.ok)throw new Error("Error al agregar lectura");return i.json()},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:[Q.readingPlans.get.path,n.planId]})}})}function Q7(){const e=ot();return De({mutationFn:async({id:t,planId:n})=>{const s=bt(Q.readingPlans.toggleItem.path,{id:t}),i=await fetch(s,{method:"PATCH"});if(!i.ok)throw new Error("Error al actualizar lectura");return i.json()},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:[Q.readingPlans.get.path,n.planId]}),e.invalidateQueries({queryKey:[Q.readingPlans.list.path]})}})}function G7(){return vt({queryKey:[Q.readingClub.list.path],queryFn:async()=>{const e=await fetch(Q.readingClub.list.path);return e.ok?e.json():[]}})}function Z7(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.readingClub.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al publicar reflexion");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.readingClub.list.path]}),t({title:"Reflexion publicada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function X7(e){return vt({queryKey:[Q.readingClub.listComments.path,e],queryFn:async()=>{const t=bt(Q.readingClub.listComments.path,{id:e}),n=await fetch(t);return n.ok?n.json():[]},enabled:!!e})}function J7(){const e=ot();return De({mutationFn:async({postId:t,content:n})=>{const s=bt(Q.readingClub.createComment.path,{id:t}),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:t,content:n})});if(!i.ok)throw new Error("Error al comentar");return i.json()},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:[Q.readingClub.listComments.path,n.postId]}),e.invalidateQueries({queryKey:[Q.readingClub.list.path]})}})}function Y7(){return vt({queryKey:["/api/reading-club/my-likes"],queryFn:async()=>{const e=await fetch("/api/reading-club/my-likes");return e.ok?e.json():[]}})}function e9(){const e=ot();return De({mutationFn:async t=>{const n=bt(Q.readingClubLikes.toggle.path,{id:t}),s=await fetch(n,{method:"POST"});if(!s.ok)throw new Error("Error al dar like");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.readingClub.list.path]}),e.invalidateQueries({queryKey:["/api/reading-club/my-likes"]})}})}function t9(){const e=ot(),{toast:t}=rt();return De({mutationFn:async({id:n,cargo:s,country:i})=>{const o=bt(Q.admin.updateUserInfo.path,{id:n}),u=await fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({cargo:s,country:i})});if(!u.ok)throw new Error("Error al actualizar info");return u.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.listUsers.path]}),t({title:"Informacion actualizada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function XE(){return vt({queryKey:[Q.admin.getWhatsappLink.path],queryFn:async()=>{const e=await fetch(Q.admin.getWhatsappLink.path);return e.ok?e.json():{link:""}}})}function n9(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.admin.updateWhatsappLink.path,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:n})});if(!s.ok)throw new Error("Error al actualizar enlace");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.getWhatsappLink.path]}),t({title:"Enlace de WhatsApp actualizado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function r9(e,t){const n=new URLSearchParams;e&&e!=="all"&&n.set("category",e),t&&n.set("search",t);const s=n.toString();return vt({queryKey:[Q.libraryResources.list.path,e||"",t||""],queryFn:async()=>{const i=await fetch(`${Q.libraryResources.list.path}${s?`?${s}`:""}`);return i.ok?i.json():[]}})}function s9(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.libraryResources.create.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al compartir recurso");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.libraryResources.list.path]}),t({title:"Recurso compartido"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function i9(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=bt(Q.libraryResources.delete.path,{id:n});if(!(await fetch(s,{method:"DELETE"})).ok)throw new Error("Error al eliminar recurso")},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.libraryResources.list.path]}),t({title:"Recurso eliminado"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function a9(){const e=ot();return De({mutationFn:async t=>{const n=bt(Q.libraryResources.toggleLike.path,{id:t}),s=await fetch(n,{method:"POST"});if(!s.ok)throw new Error("Error");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.libraryResources.list.path]})}})}function JE(){return vt({queryKey:[Q.admin.getLiveStream.path],queryFn:async()=>{const e=await fetch(Q.admin.getLiveStream.path);if(!e.ok)throw new Error("Error al obtener configuracion");return e.json()},refetchInterval:15e3})}function o9(){const e=ot(),{toast:t}=rt();return De({mutationFn:async n=>{const s=await fetch(Q.admin.updateLiveStream.path,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Error al actualizar");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[Q.admin.getLiveStream.path]}),t({title:"Transmision actualizada"})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function l9(e){return vt({queryKey:[Q.admin.getUserDetail.path,e],queryFn:async()=>{const t=bt(Q.admin.getUserDetail.path,{id:e}),n=await fetch(t);if(!n.ok)throw new Error("Error al obtener detalles del usuario");return n.json()},enabled:!!e})}var YE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pj=tt.createContext&&tt.createContext(YE),c9=["attr","size","title"];function u9(e,t){if(e==null)return{};var n=d9(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d9(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gf.apply(this,arguments)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(s){f9(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f9(e,t,n){return t=m9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e_(e){return e&&e.map((t,n)=>tt.createElement(t.tag,Zf({key:n},t.attr),e_(t.child)))}function Bm(e){return t=>tt.createElement(p9,Gf({attr:Zf({},e.attr)},t),e_(e.child))}function p9(e){var t=n=>{var{attr:s,size:i,title:o}=e,u=u9(e,c9),c=i||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),tt.createElement("svg",Gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:f,style:Zf(Zf({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&tt.createElement("title",null,o),e.children)};return Pj!==void 0?tt.createElement(Pj.Consumer,null,n=>t(n)):t(YE)}function t_(e){return Bm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Wv(e){return Bm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(e)}function xx(e){return Bm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}function n_(e){return Bm({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(e)}const g9=[{day:"Lunes - Viernes",time:"12:00 PM",program:"Fuego al Mediodia",type:"Ensenanza Biblica"},{day:"Sabado",time:"7:00 PM",program:"Noche de Avivamiento",type:"Culto en Vivo"},{day:"Domingo",time:"10:00 AM",program:"Culto Dominical",type:"Servicio Principal"},{day:"Miercoles",time:"8:00 PM",program:"Estudio Biblico",type:"Ensenanza"}];function x9(e){try{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/live\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/(?:channel|c)\/[^/]+\/live/];for(const n of t){const s=e.match(n);if(s&&s[1])return s[1]}if(e.match(/youtube\.com/)&&e.match(/live/)){const s=new URL(e).searchParams.get("v");if(s)return s}}catch{return null}return null}function v9(e){return`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(e)}&show_text=false&width=560&height=315&appId`}function Tj(e){switch(e){case"youtube":return r.jsx(n_,{className:"w-5 h-5 text-red-500"});case"facebook":return r.jsx(t_,{className:"w-5 h-5 text-blue-600"});case"tiktok":return r.jsx(Wv,{className:"w-5 h-5"});case"radio":return r.jsx(si,{className:"w-5 h-5 text-primary"});default:return r.jsx(MR,{className:"w-5 h-5 text-primary"})}}function Aj(e){switch(e){case"youtube":return"YouTube";case"facebook":return"Facebook";case"tiktok":return"TikTok";case"radio":return"Radio";case"custom":return"Transmision Externa";default:return"En Vivo"}}function wg({color:e="bg-red-500"}){return r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full ${e} opacity-75`}),r.jsx("span",{className:`relative inline-flex rounded-full h-3 w-3 ${e}`})]})}function y9({isPlaying:e}){return r.jsx("div",{className:"flex items-end gap-[3px] h-8","aria-hidden":!0,children:[...Array(12)].map((t,n)=>r.jsx("div",{className:`w-1 rounded-full bg-primary/80 transition-all duration-300 ${e?"animate-pulse":""}`,style:{height:e?`${Math.random()*100}%`:"15%",animationDelay:`${n*.08}s`,animationDuration:`${.4+Math.random()*.4}s`}},n))})}function Rj({url:e,title:t}){const n=h.useRef(null),[s,i]=h.useState(!1),[o,u]=h.useState(80),[c,f]=h.useState(!1),[m,p]=h.useState(!1);h.useEffect(()=>{n.current&&(n.current.volume=c?0:o/100)},[o,c]);const x=()=>{!n.current||!e||(s?(n.current.pause(),i(!1)):(p(!1),n.current.src=e,n.current.play().catch(()=>p(!0)),i(!0)))};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("audio",{ref:n,onError:()=>{p(!0),i(!1)},onEnded:()=>i(!1)}),r.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/20 rounded-md p-6 flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/15 flex items-center justify-center",children:s?r.jsx(y9,{isPlaying:s}):r.jsx(si,{className:"w-10 h-10 text-primary"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-bold text-lg",children:t||"Radio Avivando el Fuego"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s?"Reproduciendo...":e?"Listo para reproducir":"Sin senal configurada"})]}),m&&r.jsx("p",{className:"text-xs text-destructive",children:"No se pudo conectar con la emisora. Verifica la URL de la senal."}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(D,{size:"icon",variant:s?"default":"outline",onClick:x,disabled:!e,"data-testid":"button-radio-play",children:s?r.jsx(PR,{className:"w-5 h-5"}):r.jsx(kR,{className:"w-5 h-5"})}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>f(!c),"data-testid":"button-radio-mute",children:c?r.jsx(LR,{className:"w-5 h-5"}):r.jsx($R,{className:"w-5 h-5"})}),r.jsx("input",{type:"range",min:0,max:100,value:c?0:o,onChange:v=>{u(Number(v.target.value)),f(!1)},className:"w-24 accent-primary","data-testid":"slider-radio-volume"})]})]})]})}function w9({sourceType:e,sourceUrl:t}){if(e==="youtube"){const n=x9(t);return n?r.jsx("div",{className:"aspect-video w-full rounded-md overflow-hidden bg-black",children:r.jsx("iframe",{src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0`,className:"w-full h-full",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,title:"YouTube Live","data-testid":"iframe-youtube-player"})}):r.jsx("p",{className:"text-center text-sm text-muted-foreground p-8",children:"URL de YouTube no valida"})}return e==="facebook"?r.jsx("div",{className:"aspect-video w-full rounded-md overflow-hidden bg-black",children:r.jsx("iframe",{src:v9(t),className:"w-full h-full",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,title:"Facebook Live","data-testid":"iframe-facebook-player"})}):e==="tiktok"?r.jsxs("div",{className:"aspect-video w-full rounded-md overflow-hidden bg-black flex flex-col items-center justify-center gap-4 p-6",children:[r.jsx(Wv,{className:"w-16 h-16 text-white"}),r.jsx("p",{className:"text-white text-center font-medium",children:"Transmision en TikTok Live"}),r.jsx("p",{className:"text-white/60 text-sm text-center",children:"TikTok no permite embeber transmisiones directamente. Haz clic para verla en la aplicacion."}),r.jsxs(D,{variant:"outline",className:"border-white/30 text-white",onClick:()=>window.open(t,"_blank"),"data-testid":"button-tiktok-open",children:[r.jsx(vm,{className:"w-4 h-4 mr-2"})," Abrir en TikTok"]})]}):e==="custom"?r.jsx("div",{className:"aspect-video w-full rounded-md overflow-hidden bg-black",children:r.jsx("iframe",{src:t,className:"w-full h-full",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,title:"Transmision en Vivo","data-testid":"iframe-custom-player"})}):null}function b9(){const{data:e,isLoading:t}=JE(),n=e?.isLive&&e?.sourceType!=="radio"&&e?.sourceUrl;!n||e?.sourceType;const s=n?e.sourceType:"radio";return r.jsx(Ot,{children:r.jsx("section",{className:"py-12",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[n?r.jsx(wg,{}):r.jsx(Qp,{className:"w-5 h-5 text-muted-foreground"}),r.jsx(ye,{variant:n?"destructive":"secondary","data-testid":"badge-live-status",children:n?"EN VIVO":"RADIO 24/7"})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3","data-testid":"text-live-title",children:n&&e?.title?e.title:"Radio y Transmisiones"}),r.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:n?"Estamos transmitiendo en vivo. Conectate ahora y se parte de este momento especial.":"Conectate con nosotros desde cualquier lugar del mundo. Escucha nuestra radio y unete a nuestras reuniones en vivo."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsx(ce,{"data-testid":"card-main-player",children:r.jsx(pe,{className:"p-4 md:p-6",children:t?r.jsx("div",{className:"aspect-video flex items-center justify-center bg-muted rounded-md",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[r.jsx(Qp,{className:"w-8 h-8 animate-pulse"}),r.jsx("p",{className:"text-sm",children:"Conectando..."})]})}):n?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx(wg,{}),Tj(s),r.jsxs("span",{className:"text-sm font-medium",children:["Transmitiendo por ",Aj(s)]})]}),r.jsx(w9,{sourceType:e.sourceType,sourceUrl:e.sourceUrl})]}):r.jsx(Rj,{url:e?.radioUrl||"",title:e?.title||"Radio Avivando el Fuego"})})}),n&&e?.radioUrl&&r.jsx(ce,{"data-testid":"card-radio-fallback",children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(si,{className:"w-5 h-5 text-primary"}),r.jsx("span",{className:"font-medium text-sm",children:"Radio Avivando el Fuego"}),r.jsx(ye,{variant:"secondary",className:"ml-auto",children:"Radio"})]}),r.jsx(Rj,{url:e.radioUrl,title:"Radio Avivando el Fuego"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{"data-testid":"card-current-source",children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("h3",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[r.jsx(Qp,{className:"w-4 h-4 text-primary"}),"Estado de la Senal"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n?r.jsx(wg,{}):r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:n?"Transmision en vivo":"Radio activa"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[Tj(s),r.jsxs("span",{children:["Fuente: ",Aj(s)]})]}),r.jsxs("div",{className:"border-t pt-3 mt-3",children:[r.jsx("p",{className:"text-xs font-medium mb-2 text-muted-foreground",children:"Plataformas compatibles"}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(si,{className:"w-3 h-3"})," Radio"]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(n_,{className:"w-3 h-3"})," YouTube"]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(t_,{className:"w-3 h-3"})," Facebook"]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(Wv,{className:"w-3 h-3"})," TikTok"]})]})]})]})]})}),r.jsx(ce,{"data-testid":"card-schedule",children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("h3",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[r.jsx(fr,{className:"w-4 h-4 text-primary"}),"Programacion Semanal"]}),r.jsx("div",{className:"space-y-2",children:g9.map(i=>r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-muted rounded-md","data-testid":`schedule-${i.program.replace(/\s/g,"-").toLowerCase()}`,children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs font-medium truncate",children:i.program}),r.jsx("p",{className:"text-[10px] text-muted-foreground",children:i.type})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsx("p",{className:"text-xs font-medium",children:i.time}),r.jsx("p",{className:"text-[10px] text-muted-foreground",children:i.day})]})]},i.program))})]})}),r.jsx(ce,{"data-testid":"card-connect-info",children:r.jsxs(pe,{className:"p-4",children:[r.jsxs("h3",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[r.jsx(hu,{className:"w-4 h-4 text-primary"}),"Como Conectarte"]}),r.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(si,{className:"w-3 h-3 mt-0.5 flex-shrink-0 text-primary"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium text-foreground",children:"Radio 24/7:"})," Musica cristiana, predicaciones y ensenanzas las 24 horas."]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ii,{className:"w-3 h-3 mt-0.5 flex-shrink-0 text-primary"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium text-foreground",children:"En Vivo:"})," Cultos, reuniones y eventos transmitidos en tiempo real."]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(CR,{className:"w-3 h-3 mt-0.5 flex-shrink-0 text-primary"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium text-foreground",children:"Interactivo:"})," Participa con nosotros desde cualquier lugar del mundo."]})]})]})]})})]})]})]})})})}var Su=e=>e.type==="checkbox",to=e=>e instanceof Date,_r=e=>e==null;const r_=e=>typeof e=="object";var Pn=e=>!_r(e)&&!Array.isArray(e)&&r_(e)&&!to(e),s_=e=>Pn(e)&&e.target?Su(e.target)?e.target.checked:e.target.value:e,j9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,i_=(e,t)=>e.has(j9(t)),N9=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},Kv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jn(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Kv&&(e instanceof Blob||s))&&(n||Pn(e)))if(t=n?[]:{},!n&&!N9(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Jn(e[i]));else return e;return t}var qm=e=>Array.isArray(e)?e.filter(Boolean):[],_n=e=>e===void 0,Ie=(e,t,n)=>{if(!t||!Pn(e))return n;const s=qm(t.split(/[,[\].]+?/)).reduce((i,o)=>_r(i)?i:i[o],e);return _n(s)||s===e?_n(e[t])?n:e[t]:s},qr=e=>typeof e=="boolean",Qv=e=>/^\w*$/.test(e),a_=e=>qm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ut=(e,t,n)=>{let s=-1;const i=Qv(t)?[t]:a_(t),o=i.length,u=o-1;for(;++s<o;){const c=i[s];let f=n;if(s!==u){const m=e[c];f=Pn(m)||Array.isArray(m)?m:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=f,e=e[c]}};const Xf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ti={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},o_=tt.createContext(null),Hm=()=>tt.useContext(o_),S9=e=>{const{children:t,...n}=e;return tt.createElement(o_.Provider,{value:n},t)};var l_=(e,t,n,s=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const u=o;return t._proxyFormState[u]!==_s.all&&(t._proxyFormState[u]=!s||_s.all),n&&(n[u]=!0),e[u]}});return i};function C9(e){const t=Hm(),{control:n=t.control,disabled:s,name:i,exact:o}=e||{},[u,c]=tt.useState(n._formState),f=tt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=tt.useRef(i);return m.current=i,tt.useEffect(()=>n._subscribe({name:m.current,formState:f.current,exact:o,callback:p=>{!s&&c({...n._formState,...p})}}),[n,s,o]),tt.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),tt.useMemo(()=>l_(u,n,f.current,!1),[u,n])}var ni=e=>typeof e=="string",c_=(e,t,n,s,i)=>ni(e)?(s&&t.watch.add(e),Ie(n,e,i)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),Ie(n,o))):(s&&(t.watchAll=!0),n);function E9(e){const t=Hm(),{control:n=t.control,name:s,defaultValue:i,disabled:o,exact:u}=e||{},c=tt.useRef(s),f=tt.useRef(i);c.current=s,tt.useEffect(()=>n._subscribe({name:c.current,formState:{values:!0},exact:u,callback:x=>!o&&p(c_(c.current,n._names,x.values||n._formValues,!1,f.current))}),[n,o,u]);const[m,p]=tt.useState(n._getWatch(s,i));return tt.useEffect(()=>n._removeUnmounted()),m}function _9(e){const t=Hm(),{name:n,disabled:s,control:i=t.control,shouldUnregister:o}=e,u=i_(i._names.array,n),c=E9({control:i,name:n,defaultValue:Ie(i._formValues,n,Ie(i._defaultValues,n,e.defaultValue)),exact:!0}),f=C9({control:i,name:n,exact:!0}),m=tt.useRef(e),p=tt.useRef(i.register(n,{...e.rules,value:c,...qr(e.disabled)?{disabled:e.disabled}:{}})),x=tt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ie(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ie(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ie(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ie(f.validatingFields,n)},error:{enumerable:!0,get:()=>Ie(f.errors,n)}}),[f,n]),v=tt.useCallback(N=>p.current.onChange({target:{value:s_(N),name:n},type:Xf.CHANGE}),[n]),b=tt.useCallback(()=>p.current.onBlur({target:{value:Ie(i._formValues,n),name:n},type:Xf.BLUR}),[n,i._formValues]),S=tt.useCallback(N=>{const E=Ie(i._fields,n);E&&N&&(E._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:C=>N.setCustomValidity(C),reportValidity:()=>N.reportValidity()})},[i._fields,n]),w=tt.useMemo(()=>({name:n,value:c,...qr(s)||f.disabled?{disabled:f.disabled||s}:{},onChange:v,onBlur:b,ref:S}),[n,s,f.disabled,v,b,S,c]);return tt.useEffect(()=>{const N=i._options.shouldUnregister||o;i.register(n,{...m.current.rules,...qr(m.current.disabled)?{disabled:m.current.disabled}:{}});const E=(C,P)=>{const k=Ie(i._fields,C);k&&k._f&&(k._f.mount=P)};if(E(n,!0),N){const C=Jn(Ie(i._options.defaultValues,n));Ut(i._defaultValues,n,C),_n(Ie(i._formValues,n))&&Ut(i._formValues,n,C)}return!u&&i.register(n),()=>{(u?N&&!i._state.action:N)?i.unregister(n):E(n,!1)}},[n,i,u,o]),tt.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),tt.useMemo(()=>({field:w,formState:f,fieldState:x}),[w,f,x])}const P9=e=>e.render(_9(e));var u_=(e,t,n,s,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:i||!0}}:{},Mc=e=>Array.isArray(e)?e:[e],Oj=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},vx=e=>_r(e)||!r_(e);function xa(e,t){if(vx(e)||vx(t))return e===t;if(to(e)&&to(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const u=t[i];if(to(o)&&to(u)||Pn(o)&&Pn(u)||Array.isArray(o)&&Array.isArray(u)?!xa(o,u):o!==u)return!1}}return!0}var Cr=e=>Pn(e)&&!Object.keys(e).length,Gv=e=>e.type==="file",Ps=e=>typeof e=="function",Jf=e=>{if(!Kv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},d_=e=>e.type==="select-multiple",Zv=e=>e.type==="radio",k9=e=>Zv(e)||Su(e),bg=e=>Jf(e)&&e.isConnected;function T9(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=_n(e)?s++:e[t[s++]];return e}function A9(e){for(const t in e)if(e.hasOwnProperty(t)&&!_n(e[t]))return!1;return!0}function In(e,t){const n=Array.isArray(t)?t:Qv(t)?[t]:a_(t),s=n.length===1?e:T9(e,n),i=n.length-1,o=n[i];return s&&delete s[o],i!==0&&(Pn(s)&&Cr(s)||Array.isArray(s)&&A9(s))&&In(e,n.slice(0,-1)),e}var f_=e=>{for(const t in e)if(Ps(e[t]))return!0;return!1};function Yf(e,t={}){const n=Array.isArray(e);if(Pn(e)||n)for(const s in e)Array.isArray(e[s])||Pn(e[s])&&!f_(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Yf(e[s],t[s])):_r(e[s])||(t[s]=!0);return t}function m_(e,t,n){const s=Array.isArray(e);if(Pn(e)||s)for(const i in e)Array.isArray(e[i])||Pn(e[i])&&!f_(e[i])?_n(t)||vx(n[i])?n[i]=Array.isArray(e[i])?Yf(e[i],[]):{...Yf(e[i])}:m_(e[i],_r(t)?{}:t[i],n[i]):n[i]=!xa(e[i],t[i]);return n}var Sc=(e,t)=>m_(e,t,Yf(t));const Ij={value:!1,isValid:!1},Mj={value:!0,isValid:!0};var h_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_n(e[0].attributes.value)?_n(e[0].value)||e[0].value===""?Mj:{value:e[0].value,isValid:!0}:Mj:Ij}return Ij},p_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>_n(e)?e:t?e===""?NaN:e&&+e:n&&ni(e)?new Date(e):s?s(e):e;const Dj={isValid:!1,value:null};var g_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Dj):Dj;function $j(e){const t=e.ref;return Gv(t)?t.files:Zv(t)?g_(e.refs).value:d_(t)?[...t.selectedOptions].map(({value:n})=>n):Su(t)?h_(e.refs).value:p_(_n(t.value)?e.ref.value:t.value,e)}var R9=(e,t,n,s)=>{const i={};for(const o of e){const u=Ie(t,o);u&&Ut(i,o,u._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:s}},em=e=>e instanceof RegExp,Cc=e=>_n(e)?e:em(e)?e.source:Pn(e)?em(e.value)?e.value.source:e.value:e,Lj=e=>({isOnSubmit:!e||e===_s.onSubmit,isOnBlur:e===_s.onBlur,isOnChange:e===_s.onChange,isOnAll:e===_s.all,isOnTouch:e===_s.onTouched});const Fj="AsyncFunction";var O9=e=>!!e&&!!e.validate&&!!(Ps(e.validate)&&e.validate.constructor.name===Fj||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Fj)),I9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),zj=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Dc=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const o=Ie(e,i);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],i)&&!s)return!0;if(u.ref&&t(u.ref,u.name)&&!s)return!0;if(Dc(c,t))break}else if(Pn(c)&&Dc(c,t))break}}};function Vj(e,t,n){const s=Ie(e,n);if(s||Qv(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),u=Ie(t,o),c=Ie(e,o);if(u&&!Array.isArray(u)&&n!==o)return{name:n};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:n}}var M9=(e,t,n,s)=>{n(e);const{name:i,...o}=e;return Cr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!s||_s.all))},D9=(e,t,n)=>!e||!t||e===t||Mc(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),$9=(e,t,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?s.isOnBlur:i.isOnBlur)?!e:(n?s.isOnChange:i.isOnChange)?e:!0,L9=(e,t)=>!qm(Ie(e,t)).length&&In(e,t),F9=(e,t,n)=>{const s=Mc(Ie(e,n));return Ut(s,"root",t[n]),Ut(e,n,s),e},vf=e=>ni(e);function Uj(e,t,n="validate"){if(vf(e)||Array.isArray(e)&&e.every(vf)||qr(e)&&!e)return{type:n,message:vf(e)?e:"",ref:t}}var Yo=e=>Pn(e)&&!em(e)?e:{value:e,message:""},Bj=async(e,t,n,s,i,o)=>{const{ref:u,refs:c,required:f,maxLength:m,minLength:p,min:x,max:v,pattern:b,validate:S,name:w,valueAsNumber:N,mount:E}=e._f,C=Ie(n,w);if(!E||t.has(w))return{};const P=c?c[0]:u,k=H=>{i&&P.reportValidity&&(P.setCustomValidity(qr(H)?"":H||""),P.reportValidity())},T={},R=Zv(u),A=Su(u),B=R||A,Z=(N||Gv(u))&&_n(u.value)&&_n(C)||Jf(u)&&u.value===""||C===""||Array.isArray(C)&&!C.length,$=u_.bind(null,w,s,T),re=(H,ie,Y,ve=Ti.maxLength,W=Ti.minLength)=>{const he=H?ie:Y;T[w]={type:H?ve:W,message:he,ref:u,...$(H?ve:W,he)}};if(o?!Array.isArray(C)||!C.length:f&&(!B&&(Z||_r(C))||qr(C)&&!C||A&&!h_(c).isValid||R&&!g_(c).isValid)){const{value:H,message:ie}=vf(f)?{value:!!f,message:f}:Yo(f);if(H&&(T[w]={type:Ti.required,message:ie,ref:P,...$(Ti.required,ie)},!s))return k(ie),T}if(!Z&&(!_r(x)||!_r(v))){let H,ie;const Y=Yo(v),ve=Yo(x);if(!_r(C)&&!isNaN(C)){const W=u.valueAsNumber||C&&+C;_r(Y.value)||(H=W>Y.value),_r(ve.value)||(ie=W<ve.value)}else{const W=u.valueAsDate||new Date(C),he=J=>new Date(new Date().toDateString()+" "+J),L=u.type=="time",z=u.type=="week";ni(Y.value)&&C&&(H=L?he(C)>he(Y.value):z?C>Y.value:W>new Date(Y.value)),ni(ve.value)&&C&&(ie=L?he(C)<he(ve.value):z?C<ve.value:W<new Date(ve.value))}if((H||ie)&&(re(!!H,Y.message,ve.message,Ti.max,Ti.min),!s))return k(T[w].message),T}if((m||p)&&!Z&&(ni(C)||o&&Array.isArray(C))){const H=Yo(m),ie=Yo(p),Y=!_r(H.value)&&C.length>+H.value,ve=!_r(ie.value)&&C.length<+ie.value;if((Y||ve)&&(re(Y,H.message,ie.message),!s))return k(T[w].message),T}if(b&&!Z&&ni(C)){const{value:H,message:ie}=Yo(b);if(em(H)&&!C.match(H)&&(T[w]={type:Ti.pattern,message:ie,ref:u,...$(Ti.pattern,ie)},!s))return k(ie),T}if(S){if(Ps(S)){const H=await S(C,n),ie=Uj(H,P);if(ie&&(T[w]={...ie,...$(Ti.validate,ie.message)},!s))return k(ie.message),T}else if(Pn(S)){let H={};for(const ie in S){if(!Cr(H)&&!s)break;const Y=Uj(await S[ie](C,n),P,ie);Y&&(H={...Y,...$(ie,Y.message)},k(Y.message),s&&(T[w]=H))}if(!Cr(H)&&(T[w]={ref:P,...H},!s))return T}}return k(!0),T};const z9={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function V9(e={}){let t={...z9,...e},n={submitCount:0,isDirty:!1,isLoading:Ps(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let i=Pn(t.defaultValues)||Pn(t.values)?Jn(t.values||t.defaultValues)||{}:{},o=t.shouldUnregister?{}:Jn(i),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...p};const v={array:Oj(),state:Oj()},b=Lj(t.mode),S=Lj(t.reValidateMode),w=t.criteriaMode===_s.all,N=F=>te=>{clearTimeout(m),m=setTimeout(F,te)},E=async F=>{if(!t.disabled&&(p.isValid||x.isValid||F)){const te=t.resolver?Cr((await Z()).errors):await re(s,!0);te!==n.isValid&&v.state.next({isValid:te})}},C=(F,te)=>{!t.disabled&&(p.isValidating||p.validatingFields||x.isValidating||x.validatingFields)&&((F||Array.from(c.mount)).forEach(fe=>{fe&&(te?Ut(n.validatingFields,fe,te):In(n.validatingFields,fe))}),v.state.next({validatingFields:n.validatingFields,isValidating:!Cr(n.validatingFields)}))},P=(F,te=[],fe,Re,Te=!0,Se=!0)=>{if(Re&&fe&&!t.disabled){if(u.action=!0,Se&&Array.isArray(Ie(s,F))){const Ce=fe(Ie(s,F),Re.argA,Re.argB);Te&&Ut(s,F,Ce)}if(Se&&Array.isArray(Ie(n.errors,F))){const Ce=fe(Ie(n.errors,F),Re.argA,Re.argB);Te&&Ut(n.errors,F,Ce),L9(n.errors,F)}if((p.touchedFields||x.touchedFields)&&Se&&Array.isArray(Ie(n.touchedFields,F))){const Ce=fe(Ie(n.touchedFields,F),Re.argA,Re.argB);Te&&Ut(n.touchedFields,F,Ce)}(p.dirtyFields||x.dirtyFields)&&(n.dirtyFields=Sc(i,o)),v.state.next({name:F,isDirty:ie(F,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ut(o,F,te)},k=(F,te)=>{Ut(n.errors,F,te),v.state.next({errors:n.errors})},T=F=>{n.errors=F,v.state.next({errors:n.errors,isValid:!1})},R=(F,te,fe,Re)=>{const Te=Ie(s,F);if(Te){const Se=Ie(o,F,_n(fe)?Ie(i,F):fe);_n(Se)||Re&&Re.defaultChecked||te?Ut(o,F,te?Se:$j(Te._f)):W(F,Se),u.mount&&E()}},A=(F,te,fe,Re,Te)=>{let Se=!1,Ce=!1;const mt={name:F};if(!t.disabled){if(!fe||Re){(p.isDirty||x.isDirty)&&(Ce=n.isDirty,n.isDirty=mt.isDirty=ie(),Se=Ce!==mt.isDirty);const It=xa(Ie(i,F),te);Ce=!!Ie(n.dirtyFields,F),It?In(n.dirtyFields,F):Ut(n.dirtyFields,F,!0),mt.dirtyFields=n.dirtyFields,Se=Se||(p.dirtyFields||x.dirtyFields)&&Ce!==!It}if(fe){const It=Ie(n.touchedFields,F);It||(Ut(n.touchedFields,F,fe),mt.touchedFields=n.touchedFields,Se=Se||(p.touchedFields||x.touchedFields)&&It!==fe)}Se&&Te&&v.state.next(mt)}return Se?mt:{}},B=(F,te,fe,Re)=>{const Te=Ie(n.errors,F),Se=(p.isValid||x.isValid)&&qr(te)&&n.isValid!==te;if(t.delayError&&fe?(f=N(()=>k(F,fe)),f(t.delayError)):(clearTimeout(m),f=null,fe?Ut(n.errors,F,fe):In(n.errors,F)),(fe?!xa(Te,fe):Te)||!Cr(Re)||Se){const Ce={...Re,...Se&&qr(te)?{isValid:te}:{},errors:n.errors,name:F};n={...n,...Ce},v.state.next(Ce)}},Z=async F=>{C(F,!0);const te=await t.resolver(o,t.context,R9(F||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return C(F),te},$=async F=>{const{errors:te}=await Z(F);if(F)for(const fe of F){const Re=Ie(te,fe);Re?Ut(n.errors,fe,Re):In(n.errors,fe)}else n.errors=te;return te},re=async(F,te,fe={valid:!0})=>{for(const Re in F){const Te=F[Re];if(Te){const{_f:Se,...Ce}=Te;if(Se){const mt=c.array.has(Se.name),It=Te._f&&O9(Te._f);It&&p.validatingFields&&C([Re],!0);const Kt=await Bj(Te,c.disabled,o,w,t.shouldUseNativeValidation&&!te,mt);if(It&&p.validatingFields&&C([Re]),Kt[Se.name]&&(fe.valid=!1,te))break;!te&&(Ie(Kt,Se.name)?mt?F9(n.errors,Kt,Se.name):Ut(n.errors,Se.name,Kt[Se.name]):In(n.errors,Se.name))}!Cr(Ce)&&await re(Ce,te,fe)}}return fe.valid},H=()=>{for(const F of c.unMount){const te=Ie(s,F);te&&(te._f.refs?te._f.refs.every(fe=>!bg(fe)):!bg(te._f.ref))&&q(F)}c.unMount=new Set},ie=(F,te)=>!t.disabled&&(F&&te&&Ut(o,F,te),!xa(ee(),i)),Y=(F,te,fe)=>c_(F,c,{...u.mount?o:_n(te)?i:ni(F)?{[F]:te}:te},fe,te),ve=F=>qm(Ie(u.mount?o:i,F,t.shouldUnregister?Ie(i,F,[]):[])),W=(F,te,fe={})=>{const Re=Ie(s,F);let Te=te;if(Re){const Se=Re._f;Se&&(!Se.disabled&&Ut(o,F,p_(te,Se)),Te=Jf(Se.ref)&&_r(te)?"":te,d_(Se.ref)?[...Se.ref.options].forEach(Ce=>Ce.selected=Te.includes(Ce.value)):Se.refs?Su(Se.ref)?Se.refs.length>1?Se.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(Te)?!!Te.find(mt=>mt===Ce.value):Te===Ce.value)):Se.refs[0]&&(Se.refs[0].checked=!!Te):Se.refs.forEach(Ce=>Ce.checked=Ce.value===Te):Gv(Se.ref)?Se.ref.value="":(Se.ref.value=Te,Se.ref.type||v.state.next({name:F,values:Jn(o)})))}(fe.shouldDirty||fe.shouldTouch)&&A(F,Te,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&I(F)},he=(F,te,fe)=>{for(const Re in te){const Te=te[Re],Se=`${F}.${Re}`,Ce=Ie(s,Se);(c.array.has(F)||Pn(Te)||Ce&&!Ce._f)&&!to(Te)?he(Se,Te,fe):W(Se,Te,fe)}},L=(F,te,fe={})=>{const Re=Ie(s,F),Te=c.array.has(F),Se=Jn(te);Ut(o,F,Se),Te?(v.array.next({name:F,values:Jn(o)}),(p.isDirty||p.dirtyFields||x.isDirty||x.dirtyFields)&&fe.shouldDirty&&v.state.next({name:F,dirtyFields:Sc(i,o),isDirty:ie(F,Se)})):Re&&!Re._f&&!_r(Se)?he(F,Se,fe):W(F,Se,fe),zj(F,c)&&v.state.next({...n}),v.state.next({name:u.mount?F:void 0,values:Jn(o)})},z=async F=>{u.mount=!0;const te=F.target;let fe=te.name,Re=!0;const Te=Ie(s,fe),Se=Ce=>{Re=Number.isNaN(Ce)||to(Ce)&&isNaN(Ce.getTime())||xa(Ce,Ie(o,fe,Ce))};if(Te){let Ce,mt;const It=te.type?$j(Te._f):s_(F),Kt=F.type===Xf.BLUR||F.type===Xf.FOCUS_OUT,yi=!I9(Te._f)&&!t.resolver&&!Ie(n.errors,fe)&&!Te._f.deps||$9(Kt,Ie(n.touchedFields,fe),n.isSubmitted,S,b),Fs=zj(fe,c,Kt);Ut(o,fe,It),Kt?(Te._f.onBlur&&Te._f.onBlur(F),f&&f(0)):Te._f.onChange&&Te._f.onChange(F);const hs=A(fe,It,Kt),$a=!Cr(hs)||Fs;if(!Kt&&v.state.next({name:fe,type:F.type,values:Jn(o)}),yi)return(p.isValid||x.isValid)&&(t.mode==="onBlur"?Kt&&E():Kt||E()),$a&&v.state.next({name:fe,...Fs?{}:hs});if(!Kt&&Fs&&v.state.next({...n}),t.resolver){const{errors:zs}=await Z([fe]);if(Se(It),Re){const Vs=Vj(n.errors,s,fe),Us=Vj(zs,s,Vs.name||fe);Ce=Us.error,fe=Us.name,mt=Cr(zs)}}else C([fe],!0),Ce=(await Bj(Te,c.disabled,o,w,t.shouldUseNativeValidation))[fe],C([fe]),Se(It),Re&&(Ce?mt=!1:(p.isValid||x.isValid)&&(mt=await re(s,!0)));Re&&(Te._f.deps&&I(Te._f.deps),B(fe,mt,Ce,hs))}},J=(F,te)=>{if(Ie(n.errors,te)&&F.focus)return F.focus(),1},I=async(F,te={})=>{let fe,Re;const Te=Mc(F);if(t.resolver){const Se=await $(_n(F)?F:Te);fe=Cr(Se),Re=F?!Te.some(Ce=>Ie(Se,Ce)):fe}else F?(Re=(await Promise.all(Te.map(async Se=>{const Ce=Ie(s,Se);return await re(Ce&&Ce._f?{[Se]:Ce}:Ce)}))).every(Boolean),!(!Re&&!n.isValid)&&E()):Re=fe=await re(s);return v.state.next({...!ni(F)||(p.isValid||x.isValid)&&fe!==n.isValid?{}:{name:F},...t.resolver||!F?{isValid:fe}:{},errors:n.errors}),te.shouldFocus&&!Re&&Dc(s,J,F?Te:c.mount),Re},ee=F=>{const te={...u.mount?o:i};return _n(F)?te:ni(F)?Ie(te,F):F.map(fe=>Ie(te,fe))},Ae=(F,te)=>({invalid:!!Ie((te||n).errors,F),isDirty:!!Ie((te||n).dirtyFields,F),error:Ie((te||n).errors,F),isValidating:!!Ie(n.validatingFields,F),isTouched:!!Ie((te||n).touchedFields,F)}),Ve=F=>{F&&Mc(F).forEach(te=>In(n.errors,te)),v.state.next({errors:F?n.errors:{}})},de=(F,te,fe)=>{const Re=(Ie(s,F,{_f:{}})._f||{}).ref,Te=Ie(n.errors,F)||{},{ref:Se,message:Ce,type:mt,...It}=Te;Ut(n.errors,F,{...It,...te,ref:Re}),v.state.next({name:F,errors:n.errors,isValid:!1}),fe&&fe.shouldFocus&&Re&&Re.focus&&Re.focus()},ge=(F,te)=>Ps(F)?v.state.subscribe({next:fe=>F(Y(void 0,te),fe)}):Y(F,te,!0),xe=F=>v.state.subscribe({next:te=>{D9(F.name,te.name,F.exact)&&M9(te,F.formState||p,Kn,F.reRenderRoot)&&F.callback({values:{...o},...n,...te})}}).unsubscribe,Ue=F=>(u.mount=!0,x={...x,...F.formState},xe({...F,formState:x})),q=(F,te={})=>{for(const fe of F?Mc(F):c.mount)c.mount.delete(fe),c.array.delete(fe),te.keepValue||(In(s,fe),In(o,fe)),!te.keepError&&In(n.errors,fe),!te.keepDirty&&In(n.dirtyFields,fe),!te.keepTouched&&In(n.touchedFields,fe),!te.keepIsValidating&&In(n.validatingFields,fe),!t.shouldUnregister&&!te.keepDefaultValue&&In(i,fe);v.state.next({values:Jn(o)}),v.state.next({...n,...te.keepDirty?{isDirty:ie()}:{}}),!te.keepIsValid&&E()},Ne=({disabled:F,name:te})=>{(qr(F)&&u.mount||F||c.disabled.has(te))&&(F?c.disabled.add(te):c.disabled.delete(te))},yt=(F,te={})=>{let fe=Ie(s,F);const Re=qr(te.disabled)||qr(t.disabled);return Ut(s,F,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:F}},name:F,mount:!0,...te}}),c.mount.add(F),fe?Ne({disabled:qr(te.disabled)?te.disabled:t.disabled,name:F}):R(F,!0,te.value),{...Re?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:Cc(te.min),max:Cc(te.max),minLength:Cc(te.minLength),maxLength:Cc(te.maxLength),pattern:Cc(te.pattern)}:{},name:F,onChange:z,onBlur:z,ref:Te=>{if(Te){yt(F,te),fe=Ie(s,F);const Se=_n(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Ce=k9(Se),mt=fe._f.refs||[];if(Ce?mt.find(It=>It===Se):Se===fe._f.ref)return;Ut(s,F,{_f:{...fe._f,...Ce?{refs:[...mt.filter(bg),Se,...Array.isArray(Ie(i,F))?[{}]:[]],ref:{type:Se.type,name:F}}:{ref:Se}}}),R(F,!1,void 0,Se)}else fe=Ie(s,F,{}),fe._f&&(fe._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(i_(c.array,F)&&u.action)&&c.unMount.add(F)}}},Pt=()=>t.shouldFocusError&&Dc(s,J,c.mount),Vt=F=>{qr(F)&&(v.state.next({disabled:F}),Dc(s,(te,fe)=>{const Re=Ie(s,fe);Re&&(te.disabled=Re._f.disabled||F,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Te=>{Te.disabled=Re._f.disabled||F}))},0,!1))},Ln=(F,te)=>async fe=>{let Re;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let Te=Jn(o);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:Se,values:Ce}=await Z();n.errors=Se,Te=Ce}else await re(s);if(c.disabled.size)for(const Se of c.disabled)Ut(Te,Se,void 0);if(In(n.errors,"root"),Cr(n.errors)){v.state.next({errors:{}});try{await F(Te,fe)}catch(Se){Re=Se}}else te&&await te({...n.errors},fe),Pt(),setTimeout(Pt);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(n.errors)&&!Re,submitCount:n.submitCount+1,errors:n.errors}),Re)throw Re},Hn=(F,te={})=>{Ie(s,F)&&(_n(te.defaultValue)?L(F,Jn(Ie(i,F))):(L(F,te.defaultValue),Ut(i,F,Jn(te.defaultValue))),te.keepTouched||In(n.touchedFields,F),te.keepDirty||(In(n.dirtyFields,F),n.isDirty=te.defaultValue?ie(F,Jn(Ie(i,F))):ie()),te.keepError||(In(n.errors,F),p.isValid&&E()),v.state.next({...n}))},Wn=(F,te={})=>{const fe=F?Jn(F):i,Re=Jn(fe),Te=Cr(F),Se=Te?i:Re;if(te.keepDefaultValues||(i=fe),!te.keepValues){if(te.keepDirtyValues){const Ce=new Set([...c.mount,...Object.keys(Sc(i,o))]);for(const mt of Array.from(Ce))Ie(n.dirtyFields,mt)?Ut(Se,mt,Ie(o,mt)):L(mt,Ie(Se,mt))}else{if(Kv&&_n(F))for(const Ce of c.mount){const mt=Ie(s,Ce);if(mt&&mt._f){const It=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(Jf(It)){const Kt=It.closest("form");if(Kt){Kt.reset();break}}}}for(const Ce of c.mount)L(Ce,Ie(Se,Ce))}o=Jn(Se),v.array.next({values:{...Se}}),v.state.next({values:{...Se}})}c={mount:te.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!p.isValid||!!te.keepIsValid||!!te.keepDirtyValues,u.watch=!!t.shouldUnregister,v.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!xa(F,i)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:te.keepDirtyValues?te.keepDefaultValues&&o?Sc(i,o):n.dirtyFields:te.keepDefaultValues&&F?Sc(i,F):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},yr=(F,te)=>Wn(Ps(F)?F(o):F,te),$t=(F,te={})=>{const fe=Ie(s,F),Re=fe&&fe._f;if(Re){const Te=Re.refs?Re.refs[0]:Re.ref;Te.focus&&(Te.focus(),te.shouldSelect&&Ps(Te.select)&&Te.select())}},Kn=F=>{n={...n,...F}},wr={control:{register:yt,unregister:q,getFieldState:Ae,handleSubmit:Ln,setError:de,_subscribe:xe,_runSchema:Z,_getWatch:Y,_getDirty:ie,_setValid:E,_setFieldArray:P,_setDisabledField:Ne,_setErrors:T,_getFieldArray:ve,_reset:Wn,_resetDefaultValues:()=>Ps(t.defaultValues)&&t.defaultValues().then(F=>{yr(F,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:Vt,_subjects:v,_proxyFormState:p,get _fields(){return s},get _formValues(){return o},get _state(){return u},set _state(F){u=F},get _defaultValues(){return i},get _names(){return c},set _names(F){c=F},get _formState(){return n},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:Ue,trigger:I,register:yt,handleSubmit:Ln,watch:ge,setValue:L,getValues:ee,reset:yr,resetField:Hn,clearErrors:Ve,unregister:q,setError:de,setFocus:$t,getFieldState:Ae};return{...wr,formControl:wr}}function Cu(e={}){const t=tt.useRef(void 0),n=tt.useRef(void 0),[s,i]=tt.useState({isDirty:!1,isValidating:!1,isLoading:Ps(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ps(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:V9(e),formState:s},e.formControl&&e.defaultValues&&!Ps(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,tt.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0}),[o]),tt.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),tt.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==s.isDirty&&o._subjects.state.next({isDirty:u})}},[o,s.isDirty]),tt.useEffect(()=>{e.values&&!xa(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(u=>({...u}))):o._resetDefaultValues()},[e.values,o]),tt.useEffect(()=>{e.errors&&!Cr(e.errors)&&o._setErrors(e.errors)},[e.errors,o]),tt.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),tt.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=l_(s,o),t.current}const Eu=S9,x_=h.createContext({}),mn=({...e})=>r.jsx(x_.Provider,{value:{name:e.name},children:r.jsx(P9,{...e})}),Wm=()=>{const e=h.useContext(x_),t=h.useContext(v_),{getFieldState:n,formState:s}=Hm(),i=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},v_=h.createContext({}),en=h.forwardRef(({className:e,...t},n)=>{const s=h.useId();return r.jsx(v_.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:Be("space-y-2",e),...t})})});en.displayName="FormItem";const tn=h.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:i}=Wm();return r.jsx(Ke,{ref:n,className:Be(s&&"text-destructive",e),htmlFor:i,...t})});tn.displayName="FormLabel";const nn=h.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:i,formMessageId:o}=Wm();return r.jsx(E2,{ref:t,id:s,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});nn.displayName="FormControl";const $c=h.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=Wm();return r.jsx("p",{ref:n,id:s,className:Be("text-sm text-muted-foreground",e),...t})});$c.displayName="FormDescription";const rn=h.forwardRef(({className:e,children:t,...n},s)=>{const{error:i,formMessageId:o}=Wm(),u=i?String(i?.message??""):t;return u?r.jsx("p",{ref:s,id:o,className:Be("text-sm font-medium text-destructive",e),...n,children:u}):null});rn.displayName="FormMessage";function yx(e,[t,n]){return Math.min(n,Math.max(t,e))}var U9=h.createContext(void 0);function Km(e){const t=h.useContext(U9);return e||t||"ltr"}var jg=0;function B9(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qj()),document.body.insertAdjacentElement("beforeend",e[1]??qj()),jg++,()=>{jg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jg--}},[])}function qj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ng="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",Hj={bubbles:!1,cancelable:!0},q9="FocusScope",y_=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[c,f]=h.useState(null),m=Jt(i),p=Jt(o),x=h.useRef(null),v=Tt(t,w=>f(w)),b=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let w=function(P){if(b.paused||!c)return;const k=P.target;c.contains(k)?x.current=k:pa(x.current,{select:!0})},N=function(P){if(b.paused||!c)return;const k=P.relatedTarget;k!==null&&(c.contains(k)||pa(x.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const T of P)T.removedNodes.length>0&&pa(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const C=new MutationObserver(E);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),C.disconnect()}}},[s,c,b.paused]),h.useEffect(()=>{if(c){Kj.add(b);const w=document.activeElement;if(!c.contains(w)){const E=new CustomEvent(Ng,Hj);c.addEventListener(Ng,m),c.dispatchEvent(E),E.defaultPrevented||(H9(Z9(w_(c)),{select:!0}),document.activeElement===w&&pa(c))}return()=>{c.removeEventListener(Ng,m),setTimeout(()=>{const E=new CustomEvent(Sg,Hj);c.addEventListener(Sg,p),c.dispatchEvent(E),E.defaultPrevented||pa(w??document.body,{select:!0}),c.removeEventListener(Sg,p),Kj.remove(b)},0)}}},[c,m,p,b]);const S=h.useCallback(w=>{if(!n&&!s||b.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(N&&E){const C=w.currentTarget,[P,k]=W9(C);P&&k?!w.shiftKey&&E===k?(w.preventDefault(),n&&pa(P,{select:!0})):w.shiftKey&&E===P&&(w.preventDefault(),n&&pa(k,{select:!0})):E===C&&w.preventDefault()}},[n,s,b.paused]);return r.jsx(St.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});y_.displayName=q9;function H9(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(pa(s,{select:t}),document.activeElement!==n)return}function W9(e){const t=w_(e),n=Wj(t,e),s=Wj(t.reverse(),e);return[n,s]}function w_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wj(e,t){for(const n of e)if(!K9(n,{upTo:t}))return n}function K9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Q9(e){return e instanceof HTMLInputElement&&"select"in e}function pa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Q9(e)&&t&&e.select()}}var Kj=G9();function G9(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Qj(e,t),e.unshift(t)},remove(t){e=Qj(e,t),e[0]?.resume()}}}function Qj(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Z9(e){return e.filter(t=>t.tagName!=="A")}function Xv(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var X9=[" ","Enter","ArrowUp","ArrowDown"],J9=[" ","Enter"],_u="Select",[Qm,Gm,Y9]=Ux(_u),[Ml]=fs(_u,[Y9,Sm]),Zm=Sm(),[eB,Ma]=Ml(_u),[tB,nB]=Ml(_u),b_=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:o,value:u,defaultValue:c,onValueChange:f,dir:m,name:p,autoComplete:x,disabled:v,required:b,form:S}=e,w=Zm(t),[N,E]=h.useState(null),[C,P]=h.useState(null),[k,T]=h.useState(!1),R=Km(m),[A=!1,B]=fl({prop:s,defaultProp:i,onChange:o}),[Z,$]=fl({prop:u,defaultProp:c,onChange:f}),re=h.useRef(null),H=N?S||!!N.closest("form"):!0,[ie,Y]=h.useState(new Set),ve=Array.from(ie).map(W=>W.props.value).join(";");return r.jsx(PI,{...w,children:r.jsxs(eB,{required:b,scope:t,trigger:N,onTriggerChange:E,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:ba(),value:Z,onValueChange:$,open:A,onOpenChange:B,dir:R,triggerPointerDownPosRef:re,disabled:v,children:[r.jsx(Qm.Provider,{scope:t,children:r.jsx(tB,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(W=>{Y(he=>new Set(he).add(W))},[]),onNativeOptionRemove:h.useCallback(W=>{Y(he=>{const L=new Set(he);return L.delete(W),L})},[]),children:n})}),H?r.jsxs(W_,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:x,value:Z,onChange:W=>$(W.target.value),disabled:v,form:S,children:[Z===void 0?r.jsx("option",{value:""}):null,Array.from(ie)]},ve):null]})})};b_.displayName=_u;var j_="SelectTrigger",N_=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,o=Zm(n),u=Ma(j_,n),c=u.disabled||s,f=Tt(t,u.onTriggerChange),m=Gm(n),p=h.useRef("touch"),[x,v,b]=K_(w=>{const N=m().filter(P=>!P.disabled),E=N.find(P=>P.value===u.value),C=Q_(N,w,E);C!==void 0&&u.onValueChange(C.value)}),S=w=>{c||(u.onOpenChange(!0),b()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(WN,{asChild:!0,...o,children:r.jsx(St.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":H_(u.value)?"":void 0,...i,ref:f,onClick:st(i.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&S(w)}),onPointerDown:st(i.onPointerDown,w=>{p.current=w.pointerType;const N=w.target;N.hasPointerCapture(w.pointerId)&&N.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:st(i.onKeyDown,w=>{const N=x.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(N&&w.key===" ")&&X9.includes(w.key)&&(S(),w.preventDefault())})})})});N_.displayName=j_;var S_="SelectValue",C_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:u="",...c}=e,f=Ma(S_,n),{onValueNodeHasChildrenChange:m}=f,p=o!==void 0,x=Tt(t,f.onValueNodeChange);return jn(()=>{m(p)},[m,p]),r.jsx(St.span,{...c,ref:x,style:{pointerEvents:"none"},children:H_(f.value)?r.jsx(r.Fragment,{children:u}):o})});C_.displayName=S_;var rB="SelectIcon",E_=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(St.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});E_.displayName=rB;var sB="SelectPortal",__=e=>r.jsx(Bx,{asChild:!0,...e});__.displayName=sB;var go="SelectContent",P_=h.forwardRef((e,t)=>{const n=Ma(go,e.__scopeSelect),[s,i]=h.useState();if(jn(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?pi.createPortal(r.jsx(k_,{scope:e.__scopeSelect,children:r.jsx(Qm.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(T_,{...e,ref:t})});P_.displayName=go;var Ns=10,[k_,Da]=Ml(go),iB="SelectContentImpl",aB=Nf("SelectContent.RemoveScroll"),T_=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:u,side:c,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:w,avoidCollisions:N,...E}=e,C=Ma(go,n),[P,k]=h.useState(null),[T,R]=h.useState(null),A=Tt(t,xe=>k(xe)),[B,Z]=h.useState(null),[$,re]=h.useState(null),H=Gm(n),[ie,Y]=h.useState(!1),ve=h.useRef(!1);h.useEffect(()=>{if(P)return hE(P)},[P]),B9();const W=h.useCallback(xe=>{const[Ue,...q]=H().map(Pt=>Pt.ref.current),[Ne]=q.slice(-1),yt=document.activeElement;for(const Pt of xe)if(Pt===yt||(Pt?.scrollIntoView({block:"nearest"}),Pt===Ue&&T&&(T.scrollTop=0),Pt===Ne&&T&&(T.scrollTop=T.scrollHeight),Pt?.focus(),document.activeElement!==yt))return},[H,T]),he=h.useCallback(()=>W([B,P]),[W,B,P]);h.useEffect(()=>{ie&&he()},[ie,he]);const{onOpenChange:L,triggerPointerDownPosRef:z}=C;h.useEffect(()=>{if(P){let xe={x:0,y:0};const Ue=Ne=>{xe={x:Math.abs(Math.round(Ne.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(z.current?.y??0))}},q=Ne=>{xe.x<=10&&xe.y<=10?Ne.preventDefault():P.contains(Ne.target)||L(!1),document.removeEventListener("pointermove",Ue),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",q,{capture:!0})}}},[P,L,z]),h.useEffect(()=>{const xe=()=>L(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[L]);const[J,I]=K_(xe=>{const Ue=H().filter(yt=>!yt.disabled),q=Ue.find(yt=>yt.ref.current===document.activeElement),Ne=Q_(Ue,xe,q);Ne&&setTimeout(()=>Ne.ref.current.focus())}),ee=h.useCallback((xe,Ue,q)=>{const Ne=!ve.current&&!q;(C.value!==void 0&&C.value===Ue||Ne)&&(Z(xe),Ne&&(ve.current=!0))},[C.value]),Ae=h.useCallback(()=>P?.focus(),[P]),Ve=h.useCallback((xe,Ue,q)=>{const Ne=!ve.current&&!q;(C.value!==void 0&&C.value===Ue||Ne)&&re(xe)},[C.value]),de=s==="popper"?wx:A_,ge=de===wx?{side:c,sideOffset:f,align:m,alignOffset:p,arrowPadding:x,collisionBoundary:v,collisionPadding:b,sticky:S,hideWhenDetached:w,avoidCollisions:N}:{};return r.jsx(k_,{scope:n,content:P,viewport:T,onViewportChange:R,itemRefCallback:ee,selectedItem:B,onItemLeave:Ae,itemTextRefCallback:Ve,focusSelectedItem:he,selectedItemText:$,position:s,isPositioned:ie,searchRef:J,children:r.jsx(Lv,{as:aB,allowPinchZoom:!0,children:r.jsx(y_,{asChild:!0,trapped:C.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:st(i,xe=>{C.trigger?.focus({preventScroll:!0}),xe.preventDefault()}),children:r.jsx(mm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(de,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:xe=>xe.preventDefault(),...E,...ge,onPlaced:()=>Y(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:st(E.onKeyDown,xe=>{const Ue=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ue&&xe.key.length===1&&I(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ne=H().filter(yt=>!yt.disabled).map(yt=>yt.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const yt=xe.target,Pt=Ne.indexOf(yt);Ne=Ne.slice(Pt+1)}setTimeout(()=>W(Ne)),xe.preventDefault()}})})})})})})});T_.displayName=iB;var oB="SelectItemAlignedPosition",A_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,o=Ma(go,n),u=Da(go,n),[c,f]=h.useState(null),[m,p]=h.useState(null),x=Tt(t,A=>p(A)),v=Gm(n),b=h.useRef(!1),S=h.useRef(!0),{viewport:w,selectedItem:N,selectedItemText:E,focusSelectedItem:C}=u,P=h.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&m&&w&&N&&E){const A=o.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),Z=o.valueNode.getBoundingClientRect(),$=E.getBoundingClientRect();if(o.dir!=="rtl"){const yt=$.left-B.left,Pt=Z.left-yt,Vt=A.left-Pt,Ln=A.width+Vt,Hn=Math.max(Ln,B.width),Wn=window.innerWidth-Ns,yr=yx(Pt,[Ns,Math.max(Ns,Wn-Hn)]);c.style.minWidth=Ln+"px",c.style.left=yr+"px"}else{const yt=B.right-$.right,Pt=window.innerWidth-Z.right-yt,Vt=window.innerWidth-A.right-Pt,Ln=A.width+Vt,Hn=Math.max(Ln,B.width),Wn=window.innerWidth-Ns,yr=yx(Pt,[Ns,Math.max(Ns,Wn-Hn)]);c.style.minWidth=Ln+"px",c.style.right=yr+"px"}const re=v(),H=window.innerHeight-Ns*2,ie=w.scrollHeight,Y=window.getComputedStyle(m),ve=parseInt(Y.borderTopWidth,10),W=parseInt(Y.paddingTop,10),he=parseInt(Y.borderBottomWidth,10),L=parseInt(Y.paddingBottom,10),z=ve+W+ie+L+he,J=Math.min(N.offsetHeight*5,z),I=window.getComputedStyle(w),ee=parseInt(I.paddingTop,10),Ae=parseInt(I.paddingBottom,10),Ve=A.top+A.height/2-Ns,de=H-Ve,ge=N.offsetHeight/2,xe=N.offsetTop+ge,Ue=ve+W+xe,q=z-Ue;if(Ue<=Ve){const yt=re.length>0&&N===re[re.length-1].ref.current;c.style.bottom="0px";const Pt=m.clientHeight-w.offsetTop-w.offsetHeight,Vt=Math.max(de,ge+(yt?Ae:0)+Pt+he),Ln=Ue+Vt;c.style.height=Ln+"px"}else{const yt=re.length>0&&N===re[0].ref.current;c.style.top="0px";const Vt=Math.max(Ve,ve+w.offsetTop+(yt?ee:0)+ge)+q;c.style.height=Vt+"px",w.scrollTop=Ue-Ve+w.offsetTop}c.style.margin=`${Ns}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=H+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[v,o.trigger,o.valueNode,c,m,w,N,E,o.dir,s]);jn(()=>P(),[P]);const[k,T]=h.useState();jn(()=>{m&&T(window.getComputedStyle(m).zIndex)},[m]);const R=h.useCallback(A=>{A&&S.current===!0&&(P(),C?.(),S.current=!1)},[P,C]);return r.jsx(cB,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:r.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:r.jsx(St.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});A_.displayName=oB;var lB="SelectPopperPosition",wx=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Ns,...o}=e,u=Zm(n);return r.jsx(KN,{...u,...o,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wx.displayName=lB;var[cB,Jv]=Ml(go,{}),bx="SelectViewport",R_=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,o=Da(bx,n),u=Jv(bx,n),c=Tt(t,o.onViewportChange),f=h.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Qm.Slot,{scope:n,children:r.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,m=>{const p=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:v}=u;if(v?.current&&x){const b=Math.abs(f.current-p.scrollTop);if(b>0){const S=window.innerHeight-Ns*2,w=parseFloat(x.style.minHeight),N=parseFloat(x.style.height),E=Math.max(w,N);if(E<S){const C=E+b,P=Math.min(S,C),k=C-P;x.style.height=P+"px",x.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,x.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});R_.displayName=bx;var O_="SelectGroup",[uB,dB]=Ml(O_),fB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=ba();return r.jsx(uB,{scope:n,id:i,children:r.jsx(St.div,{role:"group","aria-labelledby":i,...s,ref:t})})});fB.displayName=O_;var I_="SelectLabel",M_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=dB(I_,n);return r.jsx(St.div,{id:i.id,...s,ref:t})});M_.displayName=I_;var tm="SelectItem",[mB,D_]=Ml(tm),$_=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...u}=e,c=Ma(tm,n),f=Da(tm,n),m=c.value===s,[p,x]=h.useState(o??""),[v,b]=h.useState(!1),S=Tt(t,C=>f.itemRefCallback?.(C,s,i)),w=ba(),N=h.useRef("touch"),E=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(mB,{scope:n,value:s,disabled:i,textId:w,isSelected:m,onItemTextChange:h.useCallback(C=>{x(P=>P||(C?.textContent??"").trim())},[]),children:r.jsx(Qm.ItemSlot,{scope:n,value:s,disabled:i,textValue:p,children:r.jsx(St.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:S,onFocus:st(u.onFocus,()=>b(!0)),onBlur:st(u.onBlur,()=>b(!1)),onClick:st(u.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:st(u.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:st(u.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:st(u.onPointerMove,C=>{N.current=C.pointerType,i?f.onItemLeave?.():N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:st(u.onKeyDown,C=>{f.searchRef?.current!==""&&C.key===" "||(J9.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});$_.displayName=tm;var Tc="SelectItemText",L_=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...o}=e,u=Ma(Tc,n),c=Da(Tc,n),f=D_(Tc,n),m=nB(Tc,n),[p,x]=h.useState(null),v=Tt(t,E=>x(E),f.onItemTextChange,E=>c.itemTextRefCallback?.(E,f.value,f.disabled)),b=p?.textContent,S=h.useMemo(()=>r.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:N}=m;return jn(()=>(w(S),()=>N(S)),[w,N,S]),r.jsxs(r.Fragment,{children:[r.jsx(St.span,{id:f.textId,...o,ref:v}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?pi.createPortal(o.children,u.valueNode):null]})});L_.displayName=Tc;var F_="SelectItemIndicator",z_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return D_(F_,n).isSelected?r.jsx(St.span,{"aria-hidden":!0,...s,ref:t}):null});z_.displayName=F_;var jx="SelectScrollUpButton",V_=h.forwardRef((e,t)=>{const n=Da(jx,e.__scopeSelect),s=Jv(jx,e.__scopeSelect),[i,o]=h.useState(!1),u=Tt(t,s.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const m=f.scrollTop>0;o(m)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(B_,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});V_.displayName=jx;var Nx="SelectScrollDownButton",U_=h.forwardRef((e,t)=>{const n=Da(Nx,e.__scopeSelect),s=Jv(Nx,e.__scopeSelect),[i,o]=h.useState(!1),u=Tt(t,s.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const m=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<m;o(p)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?r.jsx(B_,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});U_.displayName=Nx;var B_=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,o=Da("SelectScrollButton",n),u=h.useRef(null),c=Gm(n),f=h.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),jn(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),r.jsx(St.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:st(i.onPointerMove,()=>{o.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:st(i.onPointerLeave,()=>{f()})})}),hB="SelectSeparator",q_=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(St.div,{"aria-hidden":!0,...s,ref:t})});q_.displayName=hB;var Sx="SelectArrow",pB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Zm(n),o=Ma(Sx,n),u=Da(Sx,n);return o.open&&u.position==="popper"?r.jsx(QN,{...i,...s,ref:t}):null});pB.displayName=Sx;function H_(e){return e===""||e===void 0}var W_=h.forwardRef((e,t)=>{const{value:n,...s}=e,i=h.useRef(null),o=Tt(t,i),u=Xv(n);return h.useEffect(()=>{const c=i.current,f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==n&&p){const x=new Event("change",{bubbles:!0});p.call(c,n),c.dispatchEvent(x)}},[u,n]),r.jsx(mu,{asChild:!0,children:r.jsx("select",{...s,ref:o,defaultValue:n})})});W_.displayName="BubbleSelect";function K_(e){const t=Jt(e),n=h.useRef(""),s=h.useRef(0),i=h.useCallback(u=>{const c=n.current+u;t(c),(function f(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>f(""),1e3))})(c)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function Q_(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let u=gB(e,Math.max(o,0));i.length===1&&(u=u.filter(m=>m!==n));const f=u.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function gB(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var xB=b_,G_=N_,vB=C_,yB=E_,wB=__,Z_=P_,bB=R_,X_=M_,J_=$_,jB=L_,NB=z_,Y_=V_,eP=U_,tP=q_;const vn=xB,yn=vB,hn=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(G_,{ref:s,className:Be("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(yB,{asChild:!0,children:r.jsx(Kx,{className:"h-4 w-4 opacity-50"})})]}));hn.displayName=G_.displayName;const nP=h.forwardRef(({className:e,...t},n)=>r.jsx(Y_,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(mR,{className:"h-4 w-4"})}));nP.displayName=Y_.displayName;const rP=h.forwardRef(({className:e,...t},n)=>r.jsx(eP,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Kx,{className:"h-4 w-4"})}));rP.displayName=eP.displayName;const pn=h.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(wB,{children:r.jsxs(Z_,{ref:i,className:Be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(nP,{}),r.jsx(bB,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(rP,{})]})}));pn.displayName=Z_.displayName;const SB=h.forwardRef(({className:e,...t},n)=>r.jsx(X_,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SB.displayName=X_.displayName;const pt=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(J_,{ref:s,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(NB,{children:r.jsx(xm,{className:"h-4 w-4"})})}),r.jsx(jB,{children:t})]}));pt.displayName=J_.displayName;const CB=h.forwardRef(({className:e,...t},n)=>r.jsx(tP,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));CB.displayName=tP.displayName;const Gj=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Ie(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},sP=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?Gj(s.ref,n,e):s.refs&&s.refs.forEach(i=>Gj(i,n,e))}},EB=(e,t)=>{t.shouldUseNativeValidation&&sP(e,t);const n={};for(const s in e){const i=Ie(t.fields,s),o=Object.assign(e[s]||{},{ref:i&&i.ref});if(_B(t.names||Object.keys(e),s)){const u=Object.assign({},Ie(n,s));Ut(u,"root",o),Ut(n,s,u)}else Ut(n,s,o)}return n},_B=(e,t)=>e.some(n=>n.startsWith(t+"."));var PB=function(e,t){for(var n={};e.length;){var s=e[0],i=s.code,o=s.message,u=s.path.join(".");if(!n[u])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];n[u]={message:c.message,type:c.code}}else n[u]={message:o,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(p){return p.errors.forEach(function(x){return e.push(x)})}),t){var f=n[u].types,m=f&&f[s.code];n[u]=u_(u,t,n,i,m?[].concat(m,s.message):s.message)}e.shift()}return n},Pu=function(e,t,n){return n===void 0&&(n={}),function(s,i,o){try{return Promise.resolve((function(u,c){try{var f=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(m){return o.shouldUseNativeValidation&&sP({},o),{errors:{},values:n.raw?s:m}})}catch(m){return c(m)}return f&&f.then?f.then(void 0,c):f})(0,function(u){if((function(c){return Array.isArray(c?.errors)})(u))return{values:{},errors:EB(PB(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const kB=G.object({name:G.string().min(1,"El nombre es requerido"),email:G.string().email("Email invalido"),subject:G.string().min(1,"Selecciona un asunto"),content:G.string().min(10,"El mensaje debe tener al menos 10 caracteres")});function TB(){const{toast:e}=rt(),t=Cu({resolver:Pu(kB),defaultValues:{name:"",email:"",subject:"",content:""}}),n=De({mutationFn:async i=>{const o=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw new Error("Error al enviar mensaje");return o.json()},onSuccess:()=>{e({title:"Mensaje enviado",description:"Nos pondremos en contacto contigo pronto."}),t.reset()},onError:()=>{e({title:"Error",description:"No se pudo enviar el mensaje. Intenta de nuevo.",variant:"destructive"})}});function s(i){n.mutate(i)}return r.jsx(Ot,{children:r.jsx("section",{className:"py-16",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:"Contacto"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4","data-testid":"text-contact-title",children:"Conecta con Nosotros"}),r.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Queremos escucharte. Ya sea que desees unirte al ministerio, solicitar oracion o invitarnos a tu ciudad."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{className:"p-5",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Oi,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Sede Principal"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Austin, Texas, USA"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Iglesia Casa del Alfarero"})]})]})}),r.jsx(ce,{className:"p-5",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Uc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Presencia Internacional"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Venezuela - Peru - USA"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Expansion continua"})]})]})}),r.jsx(ce,{className:"p-5",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(li,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Cobertura Espiritual"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pastores Carlo y Trinibeth Chevez"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Mision Peru"})]})]})})]}),r.jsxs(ce,{className:"lg:col-span-2 p-6",children:[r.jsx("h2",{className:"font-bold text-lg mb-4",children:"Envianos un Mensaje"}),r.jsx(Eu,{...t,children:r.jsxs("form",{onSubmit:t.handleSubmit(s),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(mn,{control:t.control,name:"name",render:({field:i})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Nombre"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Tu nombre",...i,"data-testid":"input-name"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:t.control,name:"email",render:({field:i})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Email"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"tu@email.com",...i,"data-testid":"input-email"})}),r.jsx(rn,{})]})})]}),r.jsx(mn,{control:t.control,name:"subject",render:({field:i})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Asunto"}),r.jsxs(vn,{onValueChange:i.onChange,defaultValue:i.value,children:[r.jsx(nn,{children:r.jsx(hn,{"data-testid":"select-subject",children:r.jsx(yn,{placeholder:"Selecciona un asunto"})})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"unirse",children:"Quiero unirme al ministerio"}),r.jsx(pt,{value:"oracion",children:"Solicitud de oracion"}),r.jsx(pt,{value:"invitar",children:"Invitar a mi ciudad/iglesia"}),r.jsx(pt,{value:"otro",children:"Otro"})]})]}),r.jsx(rn,{})]})}),r.jsx(mn,{control:t.control,name:"content",render:({field:i})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Mensaje"}),r.jsx(nn,{children:r.jsx(bn,{placeholder:"Escribe tu mensaje aqui...",className:"resize-none min-h-[120px]",...i,"data-testid":"textarea-message"})}),r.jsx(rn,{})]})}),r.jsxs(D,{type:"submit",className:"w-full",disabled:n.isPending,"data-testid":"button-send-message",children:[n.isPending?r.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Enviar Mensaje"]})]})})]})]})]})})})}function AB(e){return new Date(e).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function Zj(e){return new Date(e).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}function RB(e){return new Date(e)>=new Date}function OB(e){return new Date(e)<new Date}function Xj(e){if(!e)return"";const t=new Date(e),n=t.getTimezoneOffset();return new Date(t.getTime()-n*6e4).toISOString().slice(0,16)}const rf={title:"",description:"",eventDate:"",eventEndDate:"",location:""};function IB(){const{data:e,isLoading:t}=zE(),{user:n}=an(),s=VE(),i=UE(),o=BE(),[u,c]=h.useState(!1),[f,m]=h.useState(!1),[p,x]=h.useState(null),[v,b]=h.useState(rf),S=e?.filter(A=>RB(A.eventDate))||[],w=e?.filter(A=>OB(A.eventDate))||[],N=n?.role==="admin";function E(A){return n?N||A.createdBy===n.id:!1}function C(){b(rf),c(!0)}function P(A){b({title:A.title,description:A.description,eventDate:Xj(A.eventDate),eventEndDate:Xj(A.eventEndDate),location:A.location}),x(A),m(!0)}function k(){!v.title||!v.description||!v.eventDate||!v.location||s.mutate({title:v.title,description:v.description,eventDate:v.eventDate,eventEndDate:v.eventEndDate||null,location:v.location,isPublished:!0},{onSuccess:()=>{c(!1),b(rf)}})}function T(){!p||!v.title||!v.description||!v.eventDate||!v.location||i.mutate({id:p.id,updates:{title:v.title,description:v.description,eventDate:v.eventDate,eventEndDate:v.eventEndDate||null,location:v.location}},{onSuccess:()=>{m(!1),x(null),b(rf)}})}function R(A){confirm("Esta seguro que desea eliminar este evento?")&&o.mutate(A.id)}return r.jsxs(Ot,{children:[r.jsxs("section",{className:"relative overflow-hidden py-16 md:py-24",children:[r.jsx("div",{className:"absolute inset-0 fire-gradient opacity-10 dark:opacity-20"}),r.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 text-center",children:[r.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:"Calendario del Ministerio"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4","data-testid":"text-eventos-title",children:"Eventos"}),r.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Encuentros, retiros, vigilias y actividades del ministerio. Ven y se parte de lo que Dios esta haciendo."}),n&&r.jsxs(D,{className:"mt-6",onClick:C,"data-testid":"button-create-event",children:[r.jsx($n,{className:"h-4 w-4 mr-2"}),"Crear Evento"]})]})]}),r.jsx("section",{className:"max-w-4xl mx-auto px-4 pb-16",children:t?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):e?.length?r.jsxs(r.Fragment,{children:[S.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2","data-testid":"text-upcoming-title",children:[r.jsx(fr,{className:"h-5 w-5 text-primary"}),"Proximos Eventos"]}),r.jsx("div",{className:"space-y-4",children:S.map(A=>r.jsx(Yj,{event:A,variant:"upcoming",canManage:E(A),onEdit:()=>P(A),onDelete:()=>R(A)},A.id))})]}),w.length>0&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2","data-testid":"text-past-title",children:[r.jsx(ml,{className:"h-5 w-5 text-muted-foreground"}),"Eventos Pasados"]}),r.jsx("div",{className:"space-y-4",children:w.map(A=>r.jsx(Yj,{event:A,variant:"past",canManage:E(A),onEdit:()=>P(A),onDelete:()=>R(A)},A.id))})]})]}):r.jsx(ce,{children:r.jsxs(pe,{className:"py-16 text-center",children:[r.jsx(fr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay eventos programados"}),r.jsx("p",{className:"text-muted-foreground",children:"Pronto anunciaremos nuevos eventos. Mantente atento a nuestras redes sociales."})]})})}),r.jsx(Jj,{open:u,onOpenChange:c,title:"Crear Evento",form:v,setForm:b,onSubmit:k,isPending:s.isPending,submitLabel:"Crear"}),r.jsx(Jj,{open:f,onOpenChange:A=>{m(A),A||x(null)},title:"Editar Evento",form:v,setForm:b,onSubmit:T,isPending:i.isPending,submitLabel:"Guardar"})]})}function Jj({open:e,onOpenChange:t,title:n,form:s,setForm:i,onSubmit:o,isPending:u,submitLabel:c}){return r.jsx(ur,{open:e,onOpenChange:t,children:r.jsxs(er,{"data-testid":"dialog-event-form",children:[r.jsx(tr,{children:r.jsx(nr,{children:n})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"event-title",children:"Titulo"}),r.jsx(Le,{id:"event-title",value:s.title,onChange:f=>i({...s,title:f.target.value}),placeholder:"Nombre del evento","data-testid":"input-event-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"event-description",children:"Descripcion"}),r.jsx(bn,{id:"event-description",value:s.description,onChange:f=>i({...s,description:f.target.value}),placeholder:"Descripcion del evento","data-testid":"input-event-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"event-date",children:"Fecha y Hora"}),r.jsx(Le,{id:"event-date",type:"datetime-local",value:s.eventDate,onChange:f=>i({...s,eventDate:f.target.value}),"data-testid":"input-event-date"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"event-end-date",children:"Fecha y Hora de Fin (opcional)"}),r.jsx(Le,{id:"event-end-date",type:"datetime-local",value:s.eventEndDate,onChange:f=>i({...s,eventEndDate:f.target.value}),"data-testid":"input-event-end-date"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"event-location",children:"Ubicacion"}),r.jsx(Le,{id:"event-location",value:s.location,onChange:f=>i({...s,location:f.target.value}),placeholder:"Lugar del evento","data-testid":"input-event-location"})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:o,disabled:u||!s.title||!s.description||!s.eventDate||!s.location,"data-testid":"button-submit-event",children:[u&&r.jsx(ze,{className:"h-4 w-4 mr-2 animate-spin"}),c]})})]})})}function Yj({event:e,variant:t,canManage:n,onEdit:s,onDelete:i}){const o=t==="past";return r.jsx(ce,{className:o?"opacity-70":"","data-testid":`card-event-${e.id}`,children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-shrink-0 text-center md:text-left md:min-w-[100px]",children:[r.jsx("div",{className:`text-3xl font-bold ${o?"text-muted-foreground":"fire-text"}`,children:new Date(e.eventDate).getDate()}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:new Date(e.eventDate).toLocaleDateString("es-ES",{month:"short",year:"numeric"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[r.jsx("h3",{className:"text-lg font-bold","data-testid":`text-event-title-${e.id}`,children:e.title}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[!o&&r.jsx(ye,{variant:"default",children:"Proximo"}),n&&r.jsxs(r.Fragment,{children:[r.jsx(D,{size:"icon",variant:"ghost",onClick:s,"data-testid":`button-edit-event-${e.id}`,children:r.jsx(Js,{className:"h-4 w-4"})}),r.jsx(D,{size:"icon",variant:"ghost",onClick:i,"data-testid":`button-delete-event-${e.id}`,children:r.jsx(An,{className:"h-4 w-4"})})]})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2 whitespace-pre-wrap",children:e.description}),r.jsxs("div",{className:"flex flex-wrap gap-4 mt-3",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(fr,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:AB(e.eventDate)})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(ml,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:Zj(e.eventDate)}),e.eventEndDate&&r.jsxs("span",{children:[" - ",Zj(e.eventEndDate)]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(Oi,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:e.location})]})]})]})]})})})}const MB=G.object({username:G.string().min(1,"El usuario es requerido"),password:G.string().min(1,"La contrasena es requerida")});function DB(){const{login:e,isLoggingIn:t,user:n}=an(),[,s]=zi();if(n)return s("/"),null;const i=Cu({resolver:Pu(MB),defaultValues:{username:"",password:""}});function o(u){e(u)}return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:r.jsxs(ce,{className:"w-full max-w-md",children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx(sr,{className:"w-10 h-10 text-primary mx-auto mb-2"}),r.jsx(He,{className:"text-2xl font-bold","data-testid":"text-login-title",children:"Iniciar Sesion"}),r.jsx(wt,{children:"Ingresa tus credenciales para acceder"})]}),r.jsx(pe,{children:r.jsx(Eu,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[r.jsx(mn,{control:i.control,name:"username",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Usuario"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Tu usuario",...u,"data-testid":"input-username"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"password",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Contrasena"}),r.jsx(nn,{children:r.jsx(Le,{type:"password",placeholder:"Tu contrasena",...u,"data-testid":"input-password"})}),r.jsx(rn,{})]})}),r.jsxs(D,{type:"submit",className:"w-full",disabled:t,"data-testid":"button-login",children:[t?r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Ingresar"]})]})})}),r.jsxs($v,{className:"flex flex-col gap-2 text-center text-sm text-muted-foreground",children:[r.jsxs("div",{children:["No tienes cuenta?"," ",r.jsx(lt,{href:"/registro",className:"text-primary hover:underline font-medium","data-testid":"link-to-register",children:"Registrate"})]}),r.jsx(lt,{href:"/",className:"text-xs hover:text-foreground",children:"Volver al Inicio"})]})]})})}const $B=G.object({username:G.string().min(3,"Minimo 3 caracteres"),password:G.string().min(6,"Minimo 6 caracteres"),displayName:G.string().min(1,"Nombre requerido"),role:G.string().default("miembro"),country:G.string().optional(),phone:G.string().min(7,"Telefono requerido"),email:G.string().email("Correo electronico invalido")}),LB={miembro:{icon:li,desc:"Miembro del ministerio con acceso completo"},usuario:{icon:rr,desc:"Acceso a recursos sin ser miembro oficial"},obrero:{icon:Nn,desc:"Maestro o lider con experiencia ministerial"}};function FB(){const{register:e,isRegistering:t,user:n}=an(),[,s]=zi();if(n)return s("/"),null;const i=Cu({resolver:Pu($B),defaultValues:{username:"",password:"",displayName:"",role:"miembro",country:"",phone:"",email:""}});async function o(u){try{await e(u)}catch{}}return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:r.jsxs(ce,{className:"w-full max-w-md",children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx(sr,{className:"w-10 h-10 text-primary mx-auto mb-2"}),r.jsx(He,{className:"text-2xl font-bold","data-testid":"text-register-title",children:"Unirse al Ministerio"}),r.jsx(wt,{children:"Crea tu cuenta para ser parte de Avivando el Fuego"})]}),r.jsx(pe,{children:r.jsx(Eu,{...i,children:r.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[r.jsx(mn,{control:i.control,name:"displayName",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Nombre Completo"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Tu nombre",...u,"data-testid":"input-display-name"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"username",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Usuario"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Elige un usuario",...u,"data-testid":"input-username"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"password",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Contrasena"}),r.jsx(nn,{children:r.jsx(Le,{type:"password",placeholder:"Minimo 6 caracteres",...u,"data-testid":"input-password"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"role",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Tipo de Registro"}),r.jsxs(vn,{onValueChange:u.onChange,defaultValue:u.value,children:[r.jsx(nn,{children:r.jsx(hn,{"data-testid":"select-role",children:r.jsx(yn,{placeholder:"Selecciona tu rol"})})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"miembro","data-testid":"option-miembro",children:Es.miembro}),r.jsx(pt,{value:"usuario","data-testid":"option-usuario",children:Es.usuario}),r.jsx(pt,{value:"obrero","data-testid":"option-obrero",children:Es.obrero})]})]}),r.jsx($c,{children:LB[u.value]?.desc||"Selecciona como deseas participar"}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"email",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Correo Electronico"}),r.jsx(nn,{children:r.jsx(Le,{type:"email",placeholder:"tu@correo.com",...u,"data-testid":"input-email"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"phone",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Telefono"}),r.jsx(nn,{children:r.jsx(Le,{type:"tel",placeholder:"+1 234 567 8900",...u,"data-testid":"input-phone"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:i.control,name:"country",render:({field:u})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Pais"}),r.jsxs(vn,{onValueChange:u.onChange,defaultValue:u.value,children:[r.jsx(nn,{children:r.jsx(hn,{"data-testid":"select-country",children:r.jsx(yn,{placeholder:"Selecciona tu pais"})})}),r.jsx(pn,{children:uv.map(c=>r.jsx(pt,{value:c,"data-testid":`option-country-${c}`,children:c},c))})]}),r.jsx(rn,{})]})}),r.jsxs(D,{type:"submit",className:"w-full",disabled:t,"data-testid":"button-register",children:[t?r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Crear Cuenta"]})]})})}),r.jsxs($v,{className:"flex flex-col gap-2 text-center text-sm text-muted-foreground",children:[r.jsxs("div",{children:["Ya tienes cuenta?"," ",r.jsx(lt,{href:"/login",className:"text-primary hover:underline font-medium","data-testid":"link-to-login",children:"Inicia sesion"})]}),r.jsx(lt,{href:"/",className:"text-xs hover:text-foreground",children:"Volver al Inicio"})]})]})})}function zB(){const{user:e,isLoading:t}=an(),[,n]=zi(),s=u7(),i=h.useRef(!1),o=h.useRef(null),[u,c]=h.useState(!1),{toast:f}=rt(),m=ot(),p=Cu({resolver:Pu(A5),defaultValues:{displayName:"",bio:"",country:"",phone:"",email:""}});if(h.useEffect(()=>{e&&!i.current?(i.current=!0,p.reset({displayName:e.displayName||"",bio:e.bio||"",country:e.country||"",phone:e.phone||"",email:e.email||""})):!t&&!e&&n("/login")},[e,t,n]),t||!e)return r.jsx(Ot,{children:r.jsx("div",{className:"flex-1 flex items-center justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});function x(b){e&&s.mutate({id:e.id,updates:b})}async function v(b){const S=b.target.files?.[0];if(S){if(!S.type.startsWith("image/")){f({title:"Error",description:"Solo se permiten imagenes.",variant:"destructive"});return}if(S.size>5*1024*1024){f({title:"Error",description:"La imagen no debe superar 5MB.",variant:"destructive"});return}c(!0);try{const w=new FormData;if(w.append("avatar",S),!(await fetch("/api/upload/avatar",{method:"POST",body:w})).ok)throw new Error("Error al subir imagen");m.invalidateQueries({queryKey:["/api/user"]}),f({title:"Foto actualizada",description:"Tu foto de perfil ha sido actualizada."})}catch{f({title:"Error",description:"No se pudo subir la imagen.",variant:"destructive"})}finally{c(!1),o.current&&(o.current.value="")}}}return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8","data-testid":"text-profile-title",children:"Mi Perfil"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(ce,{className:"h-fit",children:r.jsxs(Qe,{className:"text-center",children:[r.jsxs("div",{className:"mx-auto mb-4 relative group",children:[r.jsxs(mr,{className:"h-24 w-24",children:[e.avatarUrl&&r.jsx(ds,{src:e.avatarUrl,alt:e.displayName||e.username}),r.jsx(hr,{className:"text-2xl bg-primary/10 text-primary",children:(e.displayName||e.username).slice(0,2).toUpperCase()})]}),r.jsx("button",{type:"button",className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>o.current?.click(),disabled:u,"data-testid":"button-change-avatar",children:u?r.jsx(ze,{className:"w-6 h-6 text-white animate-spin"}):r.jsx(uR,{className:"w-6 h-6 text-white"})}),r.jsx("input",{ref:o,type:"file",accept:"image/*",className:"hidden",onChange:v,"data-testid":"input-avatar-file"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Haz clic en la foto para cambiarla"}),r.jsx(He,{"data-testid":"text-profile-name",children:e.displayName||e.username}),r.jsxs(wt,{children:["@",e.username]}),e.country&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-profile-country",children:e.country}),r.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:[r.jsx(ye,{variant:e.role==="admin"?"default":"secondary",children:Es[e.role]||e.role}),r.jsx(ye,{variant:e.isActive?"outline":"destructive",children:e.isActive?"Aprobado":"Pre-aprobado"})]}),(e.email||e.phone)&&r.jsxs("div",{className:"mt-3 text-xs text-muted-foreground space-y-1",children:[e.email&&r.jsx("p",{"data-testid":"text-profile-email",children:e.email}),e.phone&&r.jsx("p",{"data-testid":"text-profile-phone",children:e.phone})]})]})}),r.jsxs(ce,{className:"md:col-span-2",children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Informacion Personal"}),r.jsx(wt,{children:"Actualiza los datos de tu perfil."})]}),r.jsx(pe,{children:r.jsx(Eu,{...p,children:r.jsxs("form",{onSubmit:p.handleSubmit(x),className:"space-y-6",children:[r.jsx(mn,{control:p.control,name:"displayName",render:({field:b})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Nombre para Mostrar"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Tu nombre completo",...b,value:b.value||"","data-testid":"input-display-name"})}),r.jsx($c,{children:"Este nombre se mostrara en tu perfil."}),r.jsx(rn,{})]})}),r.jsx(mn,{control:p.control,name:"bio",render:({field:b})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Biografia"}),r.jsx(nn,{children:r.jsx(bn,{placeholder:"Cuentanos sobre ti y tu llamado...",className:"resize-none min-h-[120px]",...b,value:b.value||"","data-testid":"textarea-bio"})}),r.jsx($c,{children:"Breve descripcion para tu perfil."}),r.jsx(rn,{})]})}),r.jsx(mn,{control:p.control,name:"country",render:({field:b})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Pais"}),r.jsxs(vn,{onValueChange:b.onChange,value:b.value||"",children:[r.jsx(nn,{children:r.jsx(hn,{"data-testid":"select-profile-country",children:r.jsx(yn,{placeholder:"Selecciona tu pais"})})}),r.jsx(pn,{children:uv.map(S=>r.jsx(pt,{value:S,children:S},S))})]}),r.jsx($c,{children:"Tu pais se mostrara en tu perfil."}),r.jsx(rn,{})]})}),r.jsx(mn,{control:p.control,name:"email",render:({field:b})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Correo Electronico"}),r.jsx(nn,{children:r.jsx(Le,{type:"email",placeholder:"tu@correo.com",...b,value:b.value||"","data-testid":"input-profile-email"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:p.control,name:"phone",render:({field:b})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Telefono"}),r.jsx(nn,{children:r.jsx(Le,{type:"tel",placeholder:"+1 234 567 8900",...b,value:b.value||"","data-testid":"input-profile-phone"})}),r.jsx(rn,{})]})}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(D,{type:"submit",disabled:s.isPending,"data-testid":"button-save-profile",children:s.isPending?r.jsxs(r.Fragment,{children:[r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wa,{className:"mr-2 h-4 w-4"}),"Guardar Cambios"]})})})]})})})]})]})]})})}const Cx=h.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Be("w-full caption-bottom text-sm",e),...t})}));Cx.displayName="Table";const Ex=h.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Be("[&_tr]:border-b",e),...t}));Ex.displayName="TableHeader";const _x=h.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Be("[&_tr:last-child]:border-0",e),...t}));_x.displayName="TableBody";const VB=h.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));VB.displayName="TableFooter";const tl=h.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tl.displayName="TableRow";const Xs=h.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xs.displayName="TableHead";const js=h.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));js.displayName="TableCell";const UB=h.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Be("mt-4 text-sm text-muted-foreground",e),...t}));UB.displayName="TableCaption";var Cg="rovingFocusGroup.onEntryFocus",BB={bubbles:!1,cancelable:!0},Xm="RovingFocusGroup",[Px,iP,qB]=Ux(Xm),[HB,aP]=fs(Xm,[qB]),[WB,KB]=HB(Xm),oP=h.forwardRef((e,t)=>r.jsx(Px.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Px.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(QB,{...e,ref:t})})}));oP.displayName=Xm;var QB=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...x}=e,v=h.useRef(null),b=Tt(t,v),S=Km(o),[w=null,N]=fl({prop:u,defaultProp:c,onChange:f}),[E,C]=h.useState(!1),P=Jt(m),k=iP(n),T=h.useRef(!1),[R,A]=h.useState(0);return h.useEffect(()=>{const B=v.current;if(B)return B.addEventListener(Cg,P),()=>B.removeEventListener(Cg,P)},[P]),r.jsx(WB,{scope:n,orientation:s,dir:S,loop:i,currentTabStopId:w,onItemFocus:h.useCallback(B=>N(B),[N]),onItemShiftTab:h.useCallback(()=>C(!0),[]),onFocusableItemAdd:h.useCallback(()=>A(B=>B+1),[]),onFocusableItemRemove:h.useCallback(()=>A(B=>B-1),[]),children:r.jsx(St.div,{tabIndex:E||R===0?-1:0,"data-orientation":s,...x,ref:b,style:{outline:"none",...e.style},onMouseDown:st(e.onMouseDown,()=>{T.current=!0}),onFocus:st(e.onFocus,B=>{const Z=!T.current;if(B.target===B.currentTarget&&Z&&!E){const $=new CustomEvent(Cg,BB);if(B.currentTarget.dispatchEvent($),!$.defaultPrevented){const re=k().filter(W=>W.focusable),H=re.find(W=>W.active),ie=re.find(W=>W.id===w),ve=[H,ie,...re].filter(Boolean).map(W=>W.ref.current);uP(ve,p)}}T.current=!1}),onBlur:st(e.onBlur,()=>C(!1))})})}),lP="RovingFocusGroupItem",cP=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,...u}=e,c=ba(),f=o||c,m=KB(lP,n),p=m.currentTabStopId===f,x=iP(n),{onFocusableItemAdd:v,onFocusableItemRemove:b}=m;return h.useEffect(()=>{if(s)return v(),()=>b()},[s,v,b]),r.jsx(Px.ItemSlot,{scope:n,id:f,focusable:s,active:i,children:r.jsx(St.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:st(e.onMouseDown,S=>{s?m.onItemFocus(f):S.preventDefault()}),onFocus:st(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:st(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=XB(S,m.orientation,m.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=x().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const C=E.indexOf(S.currentTarget);E=m.loop?JB(E,C+1):E.slice(C+1)}setTimeout(()=>uP(E))}})})})});cP.displayName=lP;var GB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XB(e,t,n){const s=ZB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return GB[s]}function uP(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function JB(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var YB=oP,eq=cP,Yv="Tabs",[tq]=fs(Yv,[aP]),dP=aP(),[nq,ey]=tq(Yv),fP=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:u="horizontal",dir:c,activationMode:f="automatic",...m}=e,p=Km(c),[x,v]=fl({prop:s,onChange:i,defaultProp:o});return r.jsx(nq,{scope:n,baseId:ba(),value:x,onValueChange:v,orientation:u,dir:p,activationMode:f,children:r.jsx(St.div,{dir:p,"data-orientation":u,...m,ref:t})})});fP.displayName=Yv;var mP="TabsList",hP=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,o=ey(mP,n),u=dP(n);return r.jsx(YB,{asChild:!0,...u,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(St.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});hP.displayName=mP;var pP="TabsTrigger",gP=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=e,u=ey(pP,n),c=dP(n),f=yP(u.baseId,s),m=wP(u.baseId,s),p=s===u.value;return r.jsx(eq,{asChild:!0,...c,focusable:!i,active:p,children:r.jsx(St.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...o,ref:t,onMouseDown:st(e.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?u.onValueChange(s):x.preventDefault()}),onKeyDown:st(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(s)}),onFocus:st(e.onFocus,()=>{const x=u.activationMode!=="manual";!p&&!i&&x&&u.onValueChange(s)})})})});gP.displayName=pP;var xP="TabsContent",vP=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...u}=e,c=ey(xP,n),f=yP(c.baseId,s),m=wP(c.baseId,s),p=s===c.value,x=h.useRef(p);return h.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(Vi,{present:i||p,children:({present:v})=>r.jsx(St.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:v&&o})})});vP.displayName=xP;function yP(e,t){return`${e}-trigger-${t}`}function wP(e,t){return`${e}-content-${t}`}var rq=fP,bP=hP,jP=gP,NP=vP;const Dl=rq,So=h.forwardRef(({className:e,...t},n)=>r.jsx(bP,{ref:n,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));So.displayName=bP.displayName;const Ht=h.forwardRef(({className:e,...t},n)=>r.jsx(jP,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ht.displayName=jP.displayName;const Wt=h.forwardRef(({className:e,...t},n)=>r.jsx(NP,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wt.displayName=NP.displayName;function sq(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var iq=Oa[" useInsertionEffect ".trim().toString()]||jn;function aq({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,u]=oq({defaultProp:t,onChange:n}),c=e!==void 0,f=c?e:i;{const p=h.useRef(e!==void 0);h.useEffect(()=>{const x=p.current;x!==c&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const m=h.useCallback(p=>{if(c){const x=lq(p)?p(e):p;x!==e&&u.current?.(x)}else o(p)},[c,e,o,u]);return[f,m]}function oq({defaultProp:e,onChange:t}){const[n,s]=h.useState(e),i=h.useRef(n),o=h.useRef(t);return iq(()=>{o.current=t},[t]),h.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,s,o]}function lq(e){return typeof e=="function"}function cq(e){const t=uq(e),n=h.forwardRef((s,i)=>{const{children:o,...u}=s,c=h.Children.toArray(o),f=c.find(fq);if(f){const m=f.props.children,p=c.map(x=>x===f?h.Children.count(m)>1?h.Children.only(null):h.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...u,ref:i,children:h.isValidElement(m)?h.cloneElement(m,void 0,p):null})}return r.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function uq(e){const t=h.forwardRef((n,s)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=hq(i),c=mq(o,i.props);return i.type!==h.Fragment&&(c.ref=s?fu(s,u):u),h.cloneElement(i,c)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dq=Symbol("radix.slottable");function fq(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dq}function mq(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function hq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SP=pq.reduce((e,t)=>{const n=cq(`Primitive.${t}`),s=h.forwardRef((i,o)=>{const{asChild:u,...c}=i,f=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...c,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Jm="Switch",[gq]=fs(Jm),[xq,vq]=gq(Jm),CP=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:o,required:u,disabled:c,value:f="on",onCheckedChange:m,form:p,...x}=e,[v,b]=h.useState(null),S=Tt(t,P=>b(P)),w=h.useRef(!1),N=v?p||!!v.closest("form"):!0,[E,C]=aq({prop:i,defaultProp:o??!1,onChange:m,caller:Jm});return r.jsxs(xq,{scope:n,checked:E,disabled:c,children:[r.jsx(SP.button,{type:"button",role:"switch","aria-checked":E,"aria-required":u,"data-state":kP(E),"data-disabled":c?"":void 0,disabled:c,value:f,...x,ref:S,onClick:sq(e.onClick,P=>{C(k=>!k),N&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),N&&r.jsx(PP,{control:v,bubbles:!w.current,name:s,value:f,checked:E,required:u,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});CP.displayName=Jm;var EP="SwitchThumb",_P=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=vq(EP,n);return r.jsx(SP.span,{"data-state":kP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});_P.displayName=EP;var yq="SwitchBubbleInput",PP=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...i},o)=>{const u=h.useRef(null),c=Tt(u,o),f=Xv(n),m=sv(t);return h.useEffect(()=>{const p=u.current;if(!p)return;const x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==n&&b){const S=new Event("click",{bubbles:s});b.call(p,n),p.dispatchEvent(S)}},[f,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PP.displayName=yq;function kP(e){return e?"checked":"unchecked"}var TP=CP,wq=_P;const Sl=h.forwardRef(({className:e,...t},n)=>r.jsx(TP,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(wq,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sl.displayName=TP.displayName;const bq=[{key:"home_hero",label:"Inicio - Hero Principal",description:"Texto principal y versiculo de la pagina de inicio"},{key:"home_cta",label:"Inicio - Llamado a la Accion",description:"Seccion final de la pagina de inicio"},{key:"historia_intro",label:"Historia - Introduccion",description:"Texto introductorio de la pagina de historia"},{key:"en_vivo_info",label:"En Vivo - Informacion",description:"Informacion sobre transmisiones en vivo"},{key:"footer_info",label:"Pie de Pagina",description:"Informacion del pie de pagina"},{key:"anuncio_general",label:"Anuncio General",description:"Anuncio visible en la pagina de inicio"}];function jq(){const{data:e,isLoading:t}=JE(),n=o9(),[s,i]=h.useState("radio"),[o,u]=h.useState(""),[c,f]=h.useState(""),[m,p]=h.useState(""),[x,v]=h.useState(!1);h.useEffect(()=>{e&&(i(e.sourceType||"radio"),u(e.sourceUrl||""),f(e.radioUrl||""),p(e.title||""),v(e.isLive||!1))},[e]);const b=()=>{n.mutate({sourceType:s,sourceUrl:o,radioUrl:c,title:m,isLive:x})},S=N=>{N==="radio"?n.mutate({sourceType:"radio",sourceUrl:"",radioUrl:c,title:"",isLive:!1}):(i(N),v(!0))},w=()=>{o.trim()&&n.mutate({sourceType:s,sourceUrl:o,radioUrl:c,title:m,isLive:!0})};return t?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r.jsx("div",{className:"space-y-4",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-5 w-5"})," Control de Transmision En Vivo"]}),r.jsx(wt,{children:"Administra la senal de radio y las transmisiones en vivo. Cambia entre radio y plataformas de streaming."})]}),r.jsxs(pe,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-semibold mb-2 block",children:"Cambio Rapido de Fuente"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(D,{variant:s==="radio"&&!x?"default":"outline",size:"sm",onClick:()=>S("radio"),"data-testid":"button-quick-radio",children:[r.jsx(si,{className:"w-4 h-4 mr-1"})," Volver a Radio"]}),r.jsx(D,{variant:s==="youtube"&&x?"default":"outline",size:"sm",onClick:()=>S("youtube"),"data-testid":"button-quick-youtube",children:"YouTube Live"}),r.jsx(D,{variant:s==="facebook"&&x?"default":"outline",size:"sm",onClick:()=>S("facebook"),"data-testid":"button-quick-facebook",children:"Facebook Live"}),r.jsx(D,{variant:s==="tiktok"&&x?"default":"outline",size:"sm",onClick:()=>S("tiktok"),"data-testid":"button-quick-tiktok",children:"TikTok Live"}),r.jsx(D,{variant:s==="custom"&&x?"default":"outline",size:"sm",onClick:()=>S("custom"),"data-testid":"button-quick-custom",children:"Otra Plataforma"})]})]}),r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"URL de la Radio (senal de relleno 24/7)"}),r.jsx(Le,{value:c,onChange:N=>f(N.target.value),placeholder:"https://stream.example.com/radio.mp3","data-testid":"input-radio-url"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"URL del stream de audio (MP3/AAC). Se reproduce cuando no hay transmision en vivo."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sl,{checked:x,onCheckedChange:v,"data-testid":"switch-is-live"}),r.jsx(Ke,{children:"Activar transmision en vivo (desactiva la radio temporal)"})]}),x&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Tipo de Fuente"}),r.jsxs(vn,{value:s,onValueChange:i,children:[r.jsx(hn,{"data-testid":"select-source-type",children:r.jsx(yn,{})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"youtube",children:"YouTube Live"}),r.jsx(pt,{value:"facebook",children:"Facebook Live"}),r.jsx(pt,{value:"tiktok",children:"TikTok Live"}),r.jsx(pt,{value:"custom",children:"Otra Plataforma (iframe)"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"URL de la Transmision"}),r.jsx(Le,{value:o,onChange:N=>u(N.target.value),placeholder:s==="youtube"?"https://youtube.com/watch?v=XXXXX o https://youtube.com/live/XXXXX":s==="facebook"?"https://www.facebook.com/user/videos/XXXXX":s==="tiktok"?"https://www.tiktok.com/@user/live":"https://...","data-testid":"input-source-url"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo de la Transmision (opcional)"}),r.jsx(Le,{value:m,onChange:N=>p(N.target.value),placeholder:"Ej: Culto Dominical, Noche de Avivamiento...","data-testid":"input-stream-title"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 border-t pt-4 flex-wrap",children:[r.jsxs(D,{onClick:b,disabled:n.isPending,"data-testid":"button-save-live",children:[n.isPending?r.jsx(ze,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(wa,{className:"h-4 w-4 mr-1"}),"Guardar Configuracion"]}),x&&o.trim()&&r.jsxs(D,{onClick:w,disabled:n.isPending,variant:"destructive","data-testid":"button-go-live",children:[r.jsx(si,{className:"h-4 w-4 mr-1"})," Transmitir Ahora"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-red-500":"bg-green-500"}`}),x?`En vivo por ${s==="youtube"?"YouTube":s==="facebook"?"Facebook":s==="tiktok"?"TikTok":"Otra plataforma"}`:"Radio activa"]})]})]})]})})}function Nq({courseId:e,updateEnrollment:t}){const{data:n,isLoading:s}=WE(e);return s?r.jsx("div",{className:"py-4 flex justify-center",children:r.jsx(ze,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):n?.length?r.jsxs("div",{className:"mt-4 pt-3 border-t space-y-2",children:[r.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Inscripciones del Curso"}),n.map(i=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 rounded-md bg-muted/50","data-testid":`admin-enrollment-${i.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:i.user.displayName||i.user.username}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",i.user.username," - ",Es[i.user.role]]}),i.grade&&r.jsxs("p",{className:"text-xs mt-1",children:["Calificacion: ",r.jsx("span",{className:"font-semibold",children:i.grade})]}),i.observations&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.observations})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(ye,{variant:i.status==="aprobado"?"default":i.status==="completado"?"secondary":i.status==="rechazado"?"destructive":"outline",children:wo[i.status]}),i.status==="solicitado"&&r.jsxs(r.Fragment,{children:[r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>t.mutate({id:i.id,courseId:e,updates:{status:"aprobado"}}),"data-testid":`button-admin-approve-enrollment-${i.id}`,children:[r.jsx(Cs,{className:"w-4 h-4 mr-1"})," Aprobar"]}),r.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>t.mutate({id:i.id,courseId:e,updates:{status:"rechazado"}}),"data-testid":`button-admin-reject-enrollment-${i.id}`,children:[r.jsx(ri,{className:"w-4 h-4 mr-1"})," Rechazar"]})]}),i.status==="aprobado"&&r.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>t.mutate({id:i.id,courseId:e,updates:{status:"completado"}}),"data-testid":`button-admin-complete-enrollment-${i.id}`,children:[r.jsx(Cs,{className:"w-4 h-4"})," Completar"]})]})]},i.id))]}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center mt-3 border-t",children:"No hay inscripciones en este curso."})}function Sq(){const{user:e,isLoading:t}=an(),[,n]=zi(),{data:s,isLoading:i}=d7(),o=f7(),u=h7(),c=m7(),{data:f,isLoading:m}=p7(),p=g7(),x=x7(),{data:v,isLoading:b}=LE(),S=FE(),{data:w,isLoading:N}=zE(),E=VE(),C=UE(),P=BE(),{data:k}=y7(),T=w7(),{data:R,isLoading:A}=Uv(),B=qE(),Z=HE(),$=b7(),re=QE(),{data:H}=P7(),ie=A7(),Y=R7(),ve=t9(),{data:W}=XE(),he=n9(),[L,z]=h.useState(""),[J,I]=h.useState(null),[ee,Ae]=h.useState({cargo:"",country:""}),[Ve,de]=h.useState(null),{data:ge,isLoading:xe}=l9(Ve),[Ue,q]=h.useState(!1),[Ne,yt]=h.useState(""),[Pt,Vt]=h.useState(null),[Ln,Hn]=h.useState(!1),[Wn,yr]=h.useState(null),[$t,Kn]=h.useState({title:"",description:"",location:"",eventDate:"",eventEndDate:"",imageUrl:"",isPublished:!0}),[Xr,wr]=h.useState(null),[F,te]=h.useState({title:"",content:""}),[fe,Re]=h.useState(!1),[Te,Se]=h.useState(null),[Ce,mt]=h.useState({title:"",description:"",category:"general",imageUrl:"",maxStudents:"",teacherId:"",isActive:!0});if(h.useEffect(()=>{!t&&(!e||e.role!=="admin")&&n("/")},[e,t,n]),t||e?.role!=="admin")return r.jsx(Ot,{children:r.jsx("div",{className:"flex-1 flex items-center justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});const It=s?.filter(O=>!O.isActive)||[],Kt=s?.filter(O=>O.isActive)||[],yi=f?.filter(O=>!O.isRead)||[],Fs=s?.filter(O=>O.role==="obrero"&&O.isActive)||[],hs=s?.filter(O=>O.username.toLowerCase().includes(L.toLowerCase())||O.displayName&&O.displayName.toLowerCase().includes(L.toLowerCase()));function $a(){yr(null),Kn({title:"",description:"",location:"",eventDate:"",eventEndDate:"",imageUrl:"",isPublished:!0}),Hn(!0)}function zs(O){yr(O),Kn({title:O.title,description:O.description,location:O.location,eventDate:O.eventDate?new Date(O.eventDate).toISOString().slice(0,16):"",eventEndDate:O.eventEndDate?new Date(O.eventEndDate).toISOString().slice(0,16):"",imageUrl:O.imageUrl||"",isPublished:O.isPublished}),Hn(!0)}async function Vs(){const O={title:$t.title,description:$t.description,location:$t.location,eventDate:$t.eventDate,eventEndDate:$t.eventEndDate||null,imageUrl:$t.imageUrl||null,isPublished:$t.isPublished};Wn?await C.mutateAsync({id:Wn.id,updates:O}):await E.mutateAsync(O),Hn(!1)}function Us(O){const jt=k?.find(Fn=>Fn.sectionKey===O);wr(O),te({title:jt?.title||"",content:jt?.content||""})}async function La(){Xr&&(await T.mutateAsync({key:Xr,data:{title:F.title||null,content:F.content||null}}),wr(null))}function Fa(){Se(null),mt({title:"",description:"",category:"general",imageUrl:"",maxStudents:"",teacherId:"",isActive:!0}),Re(!0)}function Bs(O){Se(O),mt({title:O.title,description:O.description,category:O.category,imageUrl:O.imageUrl||"",maxStudents:O.maxStudents?String(O.maxStudents):"",teacherId:O.teacherId?String(O.teacherId):"",isActive:O.isActive}),Re(!0)}async function qs(){const O={title:Ce.title,description:Ce.description,category:Ce.category,imageUrl:Ce.imageUrl||null,maxStudents:Ce.maxStudents?parseInt(Ce.maxStudents):null,teacherId:Ce.teacherId&&Ce.teacherId!=="none"?parseInt(Ce.teacherId):null,isActive:Ce.isActive};Te?await Z.mutateAsync({id:Te.id,updates:O}):await B.mutateAsync(O),Re(!1)}return r.jsxs(Ot,{children:[r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-admin-title",children:"Panel de Administracion"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona miembros, cursos, eventos, contenido y mensajes del ministerio."})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx(rr,{className:"h-4 w-4"})," Usuarios"]})}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:s?.length||0})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx(Cs,{className:"h-4 w-4"})," Activos"]})}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-users",children:Kt.length})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx(cs,{className:"h-4 w-4"})," Cursos"]})}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-courses",children:R?.length||0})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4"})," Eventos"]})}),r.jsx(pe,{children:r.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-events",children:w?.length||0})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx(gb,{className:"h-4 w-4"})," Mensajes"]})}),r.jsx(pe,{children:r.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-unread-messages",children:[yi.length," ",r.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"sin leer"})]})})]})]}),r.jsxs(Dl,{defaultValue:It.length>0?"pending":"courses",children:[r.jsxs(So,{className:"mb-4 flex-wrap",children:[r.jsxs(Ht,{value:"pending",className:"gap-2","data-testid":"tab-pending",children:[r.jsx(DR,{className:"h-4 w-4"})," Solicitudes",It.length>0&&r.jsx(ye,{variant:"destructive",className:"ml-1",children:It.length})]}),r.jsxs(Ht,{value:"courses",className:"gap-2","data-testid":"tab-courses",children:[r.jsx(cs,{className:"h-4 w-4"})," Cursos"]}),r.jsxs(Ht,{value:"teacher-requests",className:"gap-2","data-testid":"tab-teacher-requests",children:[r.jsx(Nn,{className:"h-4 w-4"})," Maestros",H?.filter(O=>O.status==="solicitado").length>0&&r.jsx(ye,{variant:"destructive",className:"ml-1",children:H.filter(O=>O.status==="solicitado").length})]}),r.jsxs(Ht,{value:"events",className:"gap-2","data-testid":"tab-events",children:[r.jsx(fr,{className:"h-4 w-4"})," Eventos"]}),r.jsxs(Ht,{value:"content",className:"gap-2","data-testid":"tab-content",children:[r.jsx(ls,{className:"h-4 w-4"})," Contenido"]}),r.jsxs(Ht,{value:"users",className:"gap-2","data-testid":"tab-users",children:[r.jsx(rr,{className:"h-4 w-4"})," Miembros"]}),r.jsxs(Ht,{value:"messages",className:"gap-2","data-testid":"tab-messages",children:[r.jsx(gb,{className:"h-4 w-4"})," Contacto",yi.length>0&&r.jsx(ye,{variant:"destructive",className:"ml-1",children:yi.length})]}),r.jsxs(Ht,{value:"posts",className:"gap-2","data-testid":"tab-posts",children:[r.jsx(pl,{className:"h-4 w-4"})," Publicaciones"]}),r.jsxs(Ht,{value:"live",className:"gap-2","data-testid":"tab-live",children:[r.jsx(si,{className:"h-4 w-4"})," En Vivo"]})]}),r.jsx(Wt,{value:"pending",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Solicitudes Pendientes"}),r.jsx(wt,{children:"Usuarios que solicitan unirse al ministerio."})]}),r.jsx(pe,{className:"p-0",children:i?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):It.length===0?r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No hay solicitudes pendientes."}):r.jsxs(Cx,{children:[r.jsx(Ex,{children:r.jsxs(tl,{children:[r.jsx(Xs,{children:"Usuario"}),r.jsx(Xs,{children:"Rol Solicitado"}),r.jsx(Xs,{children:"Fecha"}),r.jsx(Xs,{className:"text-right",children:"Acciones"})]})}),r.jsx(_x,{children:It.map(O=>r.jsxs(tl,{"data-testid":`row-pending-${O.id}`,children:[r.jsx(js,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mr,{className:"h-9 w-9",children:r.jsx(hr,{className:"bg-primary/5 text-primary text-xs",children:O.username.slice(0,2).toUpperCase()})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold",children:O.displayName||O.username}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",O.username]})]})]})}),r.jsx(js,{children:r.jsx(ye,{variant:"outline",children:Es[O.role]||O.role})}),r.jsx(js,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:O.createdAt?new Date(O.createdAt).toLocaleDateString("es-ES"):"-"})}),r.jsx(js,{className:"text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsxs(D,{size:"sm",onClick:()=>o.mutate(O.id),disabled:o.isPending,"data-testid":`button-approve-${O.id}`,children:[r.jsx(Cs,{className:"h-4 w-4 mr-1"})," Aprobar"]}),r.jsxs(D,{size:"sm",variant:"destructive",onClick:()=>u.mutate(O.id),disabled:u.isPending,"data-testid":`button-reject-${O.id}`,children:[r.jsx(ri,{className:"h-4 w-4 mr-1"})," Rechazar"]})]})})]},O.id))})]})})]})}),r.jsx(Wt,{value:"courses",children:r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{children:"Gestion de Cursos"}),r.jsx(wt,{children:"Crea cursos y asigna maestros."})]}),r.jsxs(D,{onClick:Fa,"data-testid":"button-new-course",children:[r.jsx($n,{className:"h-4 w-4 mr-1"})," Nuevo Curso"]})]})}),r.jsx(pe,{children:A?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):R?.length?r.jsx("div",{className:"space-y-3",children:R.map(O=>{const jt=s?.find(Jr=>Jr.id===O.teacherId),Fn=Pt===O.id;return r.jsx(ce,{"data-testid":`admin-course-${O.id}`,children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("span",{className:"font-semibold",children:O.title}),r.jsx(ye,{variant:"secondary",children:fi[O.category]||O.category}),!O.isActive&&r.jsx(ye,{variant:"outline",children:"Inactivo"})]}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:O.description}),r.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground mt-1",children:[jt&&r.jsxs("span",{children:["Maestro: ",jt.displayName||jt.username]}),!jt&&r.jsx("span",{className:"text-primary",children:"Sin maestro asignado"}),r.jsxs("span",{children:["Inscritos: ",O.enrolledCount||0,O.maxStudents?`/${O.maxStudents}`:""]}),O.pendingCount>0&&r.jsxs(ye,{variant:"outline",className:"text-xs",children:[O.pendingCount," solicitud(es)"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>Vt(Fn?null:O.id),"data-testid":`button-expand-enrollments-${O.id}`,children:[Fn?r.jsx(Kx,{className:"h-4 w-4 mr-1"}):r.jsx(xo,{className:"h-4 w-4 mr-1"}),"Inscripciones"]}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>Bs(O),"data-testid":`button-edit-course-${O.id}`,children:r.jsx(Js,{className:"h-4 w-4"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>$.mutate(O.id),disabled:$.isPending,"data-testid":`button-delete-course-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})]}),Fn&&r.jsx(Nq,{courseId:O.id,updateEnrollment:re})]})},O.id)})}):r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:'No hay cursos creados. Haz clic en "Nuevo Curso" para crear uno.'})})]})}),r.jsx(Wt,{value:"teacher-requests",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Solicitudes de Maestros"}),r.jsx(wt,{children:"Obreros que solicitan ensenar un curso. Al aprobar, el obrero se asigna automaticamente como maestro del curso."})]}),r.jsx(pe,{children:H?.length?r.jsx("div",{className:"space-y-3",children:H.map(O=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-4 rounded-md bg-muted/50","data-testid":`teacher-request-${O.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium",children:O.user.displayName||O.user.username}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",O.user.username," - ",Es[O.user.role]]}),r.jsxs("p",{className:"text-sm mt-1",children:["Curso: ",r.jsx("span",{className:"font-semibold",children:O.course.title})]}),O.message&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 italic",children:['"',O.message,'"']}),r.jsx("span",{className:"text-xs text-muted-foreground",children:O.createdAt?new Date(O.createdAt).toLocaleString("es-ES"):""})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(ye,{variant:O.status==="aprobado"?"default":O.status==="rechazado"?"destructive":"outline",children:_S[O.status]}),O.status==="solicitado"&&r.jsxs(r.Fragment,{children:[r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>ie.mutate({id:O.id,updates:{status:"aprobado"}}),"data-testid":`button-approve-teacher-${O.id}`,children:[r.jsx(Cs,{className:"w-4 h-4 mr-1"})," Aprobar"]}),r.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>ie.mutate({id:O.id,updates:{status:"rechazado"}}),"data-testid":`button-reject-teacher-${O.id}`,children:[r.jsx(ri,{className:"w-4 h-4 mr-1"})," Rechazar"]})]}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>Y.mutate(O.id),"data-testid":`button-delete-teacher-request-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})]},O.id))}):r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No hay solicitudes de maestros."})})]})}),r.jsx(Wt,{value:"events",children:r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{children:"Gestion de Eventos"}),r.jsx(wt,{children:"Crea, edita y gestiona los eventos del ministerio."})]}),r.jsxs(D,{onClick:$a,"data-testid":"button-new-event",children:[r.jsx($n,{className:"h-4 w-4 mr-1"})," Nuevo Evento"]})]})}),r.jsx(pe,{children:N?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):w?.length?r.jsx("div",{className:"space-y-3",children:w.map(O=>{const jt=new Date(O.eventDate)<new Date;return r.jsx(ce,{className:jt?"opacity-60":"","data-testid":`admin-event-${O.id}`,children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("span",{className:"font-semibold",children:O.title}),!O.isPublished&&r.jsx(ye,{variant:"secondary",children:"Borrador"}),jt&&r.jsx(ye,{variant:"outline",children:"Pasado"})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(fr,{className:"h-3.5 w-3.5"}),new Date(O.eventDate).toLocaleDateString("es-ES")]}),r.jsx("span",{children:O.location})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>zs(O),"data-testid":`button-edit-event-${O.id}`,children:r.jsx(Js,{className:"h-4 w-4"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>P.mutate(O.id),disabled:P.isPending,"data-testid":`button-delete-event-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})]})})},O.id)})}):r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No hay eventos creados."})})]})}),r.jsx(Wt,{value:"content",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Gestion de Contenido"}),r.jsx(wt,{children:"Modifica el contenido de las secciones del sitio web."})]}),r.jsx(pe,{children:r.jsx("div",{className:"space-y-3",children:bq.map(O=>{const jt=k?.find(Jr=>Jr.sectionKey===O.key),Fn=Xr===O.key;return r.jsx(ce,{"data-testid":`content-section-${O.key}`,children:r.jsx(pe,{className:"pt-4",children:Fn?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("h4",{className:"font-semibold",children:O.label}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(D,{size:"sm",onClick:La,disabled:T.isPending,"data-testid":`button-save-content-${O.key}`,children:[r.jsx(wa,{className:"h-4 w-4 mr-1"})," Guardar"]}),r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>wr(null),children:r.jsx(ro,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo"}),r.jsx(Le,{value:F.title,onChange:Jr=>te({...F,title:Jr.target.value}),"data-testid":`input-content-title-${O.key}`})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Contenido"}),r.jsx(bn,{value:F.content,onChange:Jr=>te({...F,content:Jr.target.value}),className:"resize-none",rows:4,"data-testid":`textarea-content-${O.key}`})]})]})]}):r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:O.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:O.description}),jt?.title&&r.jsxs("p",{className:"text-sm mt-1",children:[r.jsx("span",{className:"text-muted-foreground",children:"Titulo:"})," ",jt.title]}),jt?.content&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:jt.content}),!jt?.title&&!jt?.content&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:"Sin contenido personalizado"})]}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>Us(O.key),"data-testid":`button-edit-content-${O.key}`,children:r.jsx(Js,{className:"h-4 w-4"})})]})})},O.key)})})})]})}),r.jsxs(Wt,{value:"users",children:[r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{children:"Miembros del Ministerio"}),r.jsx(wt,{children:"Gestiona miembros, cambia roles, estados, cargos y paises."})]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Le,{placeholder:"Buscar...",className:"pl-9",value:L,onChange:O=>z(O.target.value),"data-testid":"input-search-users"})]})]})}),r.jsx(pe,{className:"p-0",children:i?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r.jsxs(Cx,{children:[r.jsx(Ex,{children:r.jsxs(tl,{children:[r.jsx(Xs,{children:"Usuario"}),r.jsx(Xs,{children:"Rol"}),r.jsx(Xs,{children:"Cargo / Pais"}),r.jsx(Xs,{children:"Estado"}),r.jsx(Xs,{className:"text-right",children:"Acciones"})]})}),r.jsxs(_x,{children:[hs?.map(O=>r.jsxs(tl,{"data-testid":`row-user-${O.id}`,children:[r.jsx(js,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mr,{className:"h-9 w-9",children:r.jsx(hr,{className:"bg-primary/5 text-primary text-xs",children:O.username.slice(0,2).toUpperCase()})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold",children:O.displayName||O.username}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",O.username]})]})]})}),r.jsx(js,{children:O.id===e?.id?r.jsx(ye,{variant:"default",children:Es[O.role]}):r.jsxs(vn,{value:O.role,onValueChange:jt=>c.mutate({id:O.id,role:jt}),children:[r.jsx(hn,{className:"w-[140px]","data-testid":`select-role-${O.id}`,children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(Es).map(([jt,Fn])=>r.jsx(pt,{value:jt,children:Fn},jt))})]})}),r.jsx(js,{children:J===O.id?r.jsxs("div",{className:"space-y-1",children:[r.jsxs(vn,{value:ee.cargo||"none",onValueChange:jt=>Ae(Fn=>({...Fn,cargo:jt==="none"?"":jt})),children:[r.jsx(hn,{className:"w-[160px]","data-testid":`select-cargo-${O.id}`,children:r.jsx(yn,{placeholder:"Cargo..."})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"none",children:"Sin cargo"}),E5.map(jt=>r.jsx(pt,{value:jt,children:jt},jt))]})]}),r.jsxs(vn,{value:ee.country||"none",onValueChange:jt=>Ae(Fn=>({...Fn,country:jt==="none"?"":jt})),children:[r.jsx(hn,{className:"w-[160px]","data-testid":`select-country-${O.id}`,children:r.jsx(yn,{placeholder:"Pais..."})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"none",children:"Sin pais"}),uv.map(jt=>r.jsx(pt,{value:jt,children:jt},jt))]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{ve.mutate({id:O.id,cargo:ee.cargo||null,country:ee.country||null}),I(null)},"data-testid":`button-save-info-${O.id}`,children:[r.jsx(wa,{className:"w-3 h-3 mr-1"})," Guardar"]}),r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>I(null),children:r.jsx(ro,{className:"w-3 h-3"})})]})]}):r.jsxs("div",{className:"flex flex-col gap-1",children:[O.cargo&&r.jsx(ye,{variant:"secondary",className:"text-xs",children:O.cargo}),O.country&&r.jsx("span",{className:"text-xs text-muted-foreground",children:O.country}),!O.cargo&&!O.country&&r.jsx("span",{className:"text-xs text-muted-foreground",children:"-"}),r.jsxs(D,{size:"sm",variant:"ghost",className:"w-fit p-0 h-auto text-xs text-muted-foreground",onClick:()=>{I(O.id),Ae({cargo:O.cargo||"",country:O.country||""})},"data-testid":`button-edit-info-${O.id}`,children:[r.jsx(Js,{className:"w-3 h-3 mr-1"})," Editar"]})]})}),r.jsx(js,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[O.isActive?r.jsx(Cs,{className:"h-4 w-4 text-green-500"}):r.jsx(ml,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:`text-sm ${O.isActive?"text-green-700 dark:text-green-400":"text-primary"}`,children:O.isActive?"Activo":"Pendiente"})]})}),r.jsx(js,{className:"text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:[r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>de(O.id),"data-testid":`button-view-detail-${O.id}`,children:r.jsx(Wg,{className:"h-4 w-4"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>o.mutate(O.id),disabled:O.id===e?.id||o.isPending,"data-testid":`button-toggle-${O.id}`,children:O.isActive?r.jsx(ri,{className:"h-4 w-4"}):r.jsx(Cs,{className:"h-4 w-4"})}),O.id!==e?.id&&r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>u.mutate(O.id),disabled:u.isPending,"data-testid":`button-delete-user-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})})]},O.id)),hs?.length===0&&r.jsx(tl,{children:r.jsx(js,{colSpan:5,className:"h-24 text-center",children:"No se encontraron usuarios."})})]})]})})]}),r.jsxs(ce,{className:"mt-4",children:[r.jsxs(Qe,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xx,{className:"h-5 w-5 text-green-500"}),r.jsx(He,{children:"Enlace de Grupo WhatsApp"})]}),r.jsx(wt,{children:"Configura el enlace del grupo de WhatsApp del Club de Lectura. Los miembros podran verlo y unirse desde la seccion de Biblioteca."})]}),r.jsx(pe,{children:Ue?r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx(Le,{placeholder:"https://chat.whatsapp.com/...",value:Ne,onChange:O=>yt(O.target.value),className:"flex-1","data-testid":"input-whatsapp-link"}),r.jsxs(D,{size:"sm",onClick:()=>{he.mutate(Ne),q(!1)},disabled:he.isPending,"data-testid":"button-save-whatsapp",children:[r.jsx(wa,{className:"w-4 h-4 mr-1"})," Guardar"]}),r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>q(!1),children:r.jsx(ro,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[W?.link?r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 truncate",children:W.link})}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay enlace configurado."}),r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>{yt(W?.link||""),q(!0)},"data-testid":"button-edit-whatsapp",children:[r.jsx(Js,{className:"w-4 h-4 mr-1"})," ",W?.link?"Editar":"Agregar"]})]})})]}),r.jsx(ur,{open:!!Ve,onOpenChange:O=>{O||de(null)},children:r.jsx(er,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:xe?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):ge?r.jsxs(r.Fragment,{children:[r.jsxs(tr,{children:[r.jsxs(nr,{className:"flex items-center gap-3","data-testid":"text-user-detail-name",children:[r.jsxs(mr,{className:"h-10 w-10",children:[ge.user.avatarUrl&&r.jsx(ds,{src:ge.user.avatarUrl,alt:ge.user.displayName||ge.user.username}),r.jsx(hr,{className:"bg-primary/10 text-primary text-sm",children:(ge.user.displayName||ge.user.username).slice(0,2).toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("span",{children:ge.user.displayName||ge.user.username}),r.jsxs("p",{className:"text-sm text-muted-foreground font-normal",children:["@",ge.user.username]})]})]}),r.jsx(io,{children:"Informacion completa del usuario en el sistema"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm flex items-center gap-2",children:[r.jsx(rr,{className:"h-4 w-4"})," Datos del Perfil"]})}),r.jsx(pe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Rol:"}),r.jsx(ye,{variant:"secondary",className:"ml-2","data-testid":"badge-user-role",children:Es[ge.user.role]||ge.user.role})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),r.jsx(ye,{variant:ge.user.isActive?"outline":"destructive",className:"ml-2","data-testid":"badge-user-status",children:ge.user.isActive?"Activo":"Pendiente"})]}),r.jsxs("div",{"data-testid":"text-user-country",children:[r.jsx("span",{className:"text-muted-foreground",children:"Pais:"})," ",r.jsx("span",{children:ge.user.country||"No especificado"})]}),r.jsxs("div",{"data-testid":"text-user-cargo",children:[r.jsx("span",{className:"text-muted-foreground",children:"Cargo:"})," ",r.jsx("span",{children:ge.user.cargo||"Sin cargo"})]}),r.jsxs("div",{className:"col-span-2","data-testid":"text-user-bio",children:[r.jsx("span",{className:"text-muted-foreground",children:"Biografia:"})," ",r.jsx("span",{children:ge.user.bio||"Sin biografia"})]}),r.jsxs("div",{"data-testid":"text-user-registered",children:[r.jsx("span",{className:"text-muted-foreground",children:"Registrado:"})," ",r.jsx("span",{children:ge.user.createdAt?new Date(ge.user.createdAt).toLocaleDateString("es"):"N/A"})]})]})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm flex items-center gap-2",children:[r.jsx(cs,{className:"h-4 w-4"})," Inscripciones en Cursos (",ge.enrollments?.length||0,")"]})}),r.jsx(pe,{children:ge.enrollments?.length>0?r.jsx("div",{className:"space-y-2",children:ge.enrollments.map(O=>r.jsxs("div",{className:"flex items-center justify-between text-sm border-b pb-2 last:border-0","data-testid":`enrollment-${O.id}`,children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:O.courseName}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Inscrito: ",O.enrolledAt?new Date(O.enrolledAt).toLocaleDateString("es"):"N/A"]})]}),r.jsx(ye,{variant:O.status==="aprobado"?"default":O.status==="completado"?"outline":"secondary",children:wo[O.status]||O.status})]},O.id))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No tiene inscripciones."})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm flex items-center gap-2",children:[r.jsx(pl,{className:"h-4 w-4"})," Publicaciones en Comunidad (",ge.posts?.length||0,")"]})}),r.jsx(pe,{children:ge.posts?.length>0?r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[ge.posts.slice(0,10).map(O=>r.jsxs("div",{className:"text-sm border-b pb-2 last:border-0","data-testid":`post-${O.id}`,children:[r.jsx("p",{className:"line-clamp-2",children:O.content}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O.createdAt?new Date(O.createdAt).toLocaleDateString("es"):""})]},O.id)),ge.posts.length>10&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["...y ",ge.posts.length-10," publicaciones mas."]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No tiene publicaciones."})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsxs(He,{className:"text-sm flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4"})," Asistencia (",ge.attendance?.length||0," registros)"]})}),r.jsx(pe,{children:ge.attendance?.length>0?r.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ge.attendance.slice(0,10).map(O=>r.jsxs("div",{className:"flex items-center justify-between text-sm","data-testid":`attendance-${O.id}`,children:[r.jsx("span",{className:"text-muted-foreground",children:O.createdAt?new Date(O.createdAt).toLocaleDateString("es"):""}),r.jsx(ye,{variant:O.status==="presente"?"outline":O.status==="ausente"?"destructive":"secondary",children:O.status})]},O.id))}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No tiene registros de asistencia."})})]})]}),r.jsx(dr,{children:r.jsx(D,{variant:"outline",onClick:()=>de(null),"data-testid":"button-close-detail",children:"Cerrar"})})]}):null})})]}),r.jsx(Wt,{value:"messages",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Mensajes de Contacto"}),r.jsx(wt,{children:"Mensajes recibidos a traves del formulario de contacto."})]}),r.jsx(pe,{children:m?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f?.length?r.jsx("div",{className:"space-y-4",children:f.map(O=>r.jsx(ce,{className:O.isRead?"opacity-60":"","data-testid":`card-message-${O.id}`,children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("span",{className:"font-semibold",children:O.name}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.email,")"]}),!O.isRead&&r.jsx(ye,{variant:"default",children:"Nuevo"})]}),r.jsx("div",{className:"text-sm font-medium text-primary mb-1",children:O.subject}),r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:O.content}),r.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:O.createdAt?new Date(O.createdAt).toLocaleString("es-ES"):""})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>p.mutate(O.id),"data-testid":`button-toggle-read-${O.id}`,children:O.isRead?r.jsx(vR,{className:"h-4 w-4"}):r.jsx(Wg,{className:"h-4 w-4"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>x.mutate(O.id),"data-testid":`button-delete-message-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})]})})},O.id))}):r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No hay mensajes de contacto."})})]})}),r.jsx(Wt,{value:"posts",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:"Publicaciones de Miembros"}),r.jsx(wt,{children:"Mensajes publicados por los miembros en la comunidad."})]}),r.jsx(pe,{children:b?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v?.length?r.jsx("div",{className:"space-y-4",children:v.map(O=>r.jsx(ce,{"data-testid":`card-post-${O.id}`,children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(mr,{className:"h-7 w-7",children:r.jsx(hr,{className:"bg-primary/5 text-primary text-xs",children:(O.user?.username||"??").slice(0,2).toUpperCase()})}),r.jsx("span",{className:"font-semibold text-sm",children:O.user?.displayName||O.user?.username||"Usuario"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:O.createdAt?new Date(O.createdAt).toLocaleString("es-ES"):""})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:O.content})]}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>S.mutate(O.id),"data-testid":`button-delete-post-${O.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})})},O.id))}):r.jsx("div",{className:"p-12 text-center text-muted-foreground",children:"No hay publicaciones aun."})})]})}),r.jsx(Wt,{value:"live",children:r.jsx(jq,{})})]})]}),r.jsx(ur,{open:Ln,onOpenChange:Hn,children:r.jsxs(er,{className:"max-w-lg",children:[r.jsxs(tr,{children:[r.jsx(nr,{children:Wn?"Editar Evento":"Nuevo Evento"}),r.jsx(io,{children:Wn?"Modifica los detalles del evento.":"Completa los datos para crear un nuevo evento."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo *"}),r.jsx(Le,{value:$t.title,onChange:O=>Kn({...$t,title:O.target.value}),"data-testid":"input-event-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion *"}),r.jsx(bn,{value:$t.description,onChange:O=>Kn({...$t,description:O.target.value}),className:"resize-none",rows:3,"data-testid":"input-event-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Ubicacion *"}),r.jsx(Le,{value:$t.location,onChange:O=>Kn({...$t,location:O.target.value}),"data-testid":"input-event-location"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Fecha y Hora Inicio *"}),r.jsx(Le,{type:"datetime-local",value:$t.eventDate,onChange:O=>Kn({...$t,eventDate:O.target.value}),"data-testid":"input-event-date"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Fecha y Hora Fin"}),r.jsx(Le,{type:"datetime-local",value:$t.eventEndDate,onChange:O=>Kn({...$t,eventEndDate:O.target.value}),"data-testid":"input-event-end-date"})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"URL de Imagen (opcional)"}),r.jsx(Le,{value:$t.imageUrl,onChange:O=>Kn({...$t,imageUrl:O.target.value}),"data-testid":"input-event-image"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sl,{checked:$t.isPublished,onCheckedChange:O=>Kn({...$t,isPublished:O}),"data-testid":"switch-event-published"}),r.jsx(Ke,{children:"Publicar evento"})]})]}),r.jsxs(dr,{children:[r.jsx(D,{variant:"ghost",onClick:()=>Hn(!1),children:"Cancelar"}),r.jsxs(D,{onClick:Vs,disabled:!$t.title||!$t.description||!$t.location||!$t.eventDate||E.isPending||C.isPending,"data-testid":"button-submit-event",children:[E.isPending||C.isPending?r.jsx(ze,{className:"h-4 w-4 animate-spin mr-1"}):null,Wn?"Guardar Cambios":"Crear Evento"]})]})]})}),r.jsx(ur,{open:fe,onOpenChange:Re,children:r.jsxs(er,{className:"max-w-lg",children:[r.jsxs(tr,{children:[r.jsx(nr,{children:Te?"Editar Curso":"Nuevo Curso"}),r.jsx(io,{children:Te?"Modifica los detalles del curso.":"Completa los datos para crear un nuevo curso de capacitacion."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo *"}),r.jsx(Le,{value:Ce.title,onChange:O=>mt({...Ce,title:O.target.value}),"data-testid":"input-course-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion *"}),r.jsx(bn,{value:Ce.description,onChange:O=>mt({...Ce,description:O.target.value}),className:"resize-none",rows:3,"data-testid":"input-course-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Categoria"}),r.jsxs(vn,{value:Ce.category,onValueChange:O=>mt({...Ce,category:O}),children:[r.jsx(hn,{"data-testid":"select-course-category",children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(fi).map(([O,jt])=>r.jsx(pt,{value:O,children:jt},O))})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Maestro Asignado"}),r.jsxs(vn,{value:Ce.teacherId,onValueChange:O=>mt({...Ce,teacherId:O}),children:[r.jsx(hn,{"data-testid":"select-course-teacher",children:r.jsx(yn,{placeholder:"Sin asignar"})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"none",children:"Sin asignar"}),Fs.map(O=>r.jsx(pt,{value:String(O.id),children:O.displayName||O.username},O.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Max Estudiantes"}),r.jsx(Le,{type:"number",value:Ce.maxStudents,onChange:O=>mt({...Ce,maxStudents:O.target.value}),placeholder:"Ilimitado","data-testid":"input-course-max-students"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"URL de Imagen"}),r.jsx(Le,{value:Ce.imageUrl,onChange:O=>mt({...Ce,imageUrl:O.target.value}),placeholder:"https://...","data-testid":"input-course-image"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sl,{checked:Ce.isActive,onCheckedChange:O=>mt({...Ce,isActive:O}),"data-testid":"switch-course-active"}),r.jsx(Ke,{children:"Curso activo (visible para estudiantes)"})]})]}),r.jsxs(dr,{children:[r.jsx(D,{variant:"ghost",onClick:()=>Re(!1),children:"Cancelar"}),r.jsxs(D,{onClick:qs,disabled:!Ce.title||!Ce.description||B.isPending||Z.isPending,"data-testid":"button-submit-course",children:[B.isPending||Z.isPending?r.jsx(ze,{className:"h-4 w-4 animate-spin mr-1"}):null,Te?"Guardar Cambios":"Crear Curso"]})]})]})})]})}function Cq(){const{user:e,isLoading:t}=an(),[,n]=zi(),{data:s,isLoading:i}=LE(),o=v7(),u=FE(),[c,f]=h.useState("");if(h.useEffect(()=>{!t&&!e&&n("/login")},[e,t,n]),t||!e)return r.jsx(Ot,{children:r.jsx("div",{className:"flex-1 flex items-center justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});function m(p){p.preventDefault(),c.trim()&&o.mutate(c.trim(),{onSuccess:()=>f("")})}return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-testid":"text-community-title",children:[r.jsx(pl,{className:"h-8 w-8 text-primary"}),"Comunidad"]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Comparte mensajes, testimonios y palabras de aliento con los demas miembros del ministerio."})]}),r.jsx(ce,{className:"mb-8",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs(mr,{className:"h-10 w-10 mt-1",children:[e.avatarUrl&&r.jsx(ds,{src:e.avatarUrl,alt:e.displayName||e.username}),r.jsx(hr,{className:"bg-primary/10 text-primary",children:(e.displayName||e.username).slice(0,2).toUpperCase()})]}),r.jsx("div",{className:"flex-1",children:r.jsx(bn,{placeholder:"Comparte un mensaje, testimonio o palabra de aliento...",className:"resize-none min-h-[100px]",value:c,onChange:p=>f(p.target.value),"data-testid":"textarea-new-post"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(D,{type:"submit",disabled:o.isPending||!c.trim(),"data-testid":"button-publish-post",children:[o.isPending?r.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ym,{className:"mr-2 h-4 w-4"}),"Publicar"]})})]})})}),i?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?.length?r.jsx("div",{className:"space-y-4",children:s.map(p=>r.jsx(ce,{"data-testid":`card-community-post-${p.id}`,children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs(mr,{className:"h-10 w-10",children:[p.user?.avatarUrl&&r.jsx(ds,{src:p.user.avatarUrl,alt:p.user.displayName||p.user.username}),r.jsx(hr,{className:"bg-primary/5 text-primary text-sm",children:(p.user?.displayName||p.user?.username||"??").slice(0,2).toUpperCase()})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("span",{className:"font-semibold",children:p.user?.displayName||p.user?.username||"Usuario"}),p.user?.cargo&&r.jsx(ye,{variant:"outline",className:"text-[10px] py-0",children:p.user.cargo}),p.user?.country&&r.jsx("span",{className:"text-[10px] text-muted-foreground",children:p.user.country}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",p.user?.username]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:p.createdAt?new Date(p.createdAt).toLocaleString("es-ES"):""})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap","data-testid":`text-post-content-${p.id}`,children:p.content})]}),e.role==="admin"&&r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>u.mutate(p.id),"data-testid":`button-delete-community-post-${p.id}`,children:r.jsx(An,{className:"h-4 w-4 text-destructive"})})]})})},p.id))}):r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(pl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Sin publicaciones aun"}),r.jsx("p",{className:"text-muted-foreground",children:"Se el primero en compartir un mensaje con la comunidad."})]})})]})})}function Eq(){const{user:e}=an(),[t,n]=h.useState(""),[s,i]=h.useState("all"),{data:o,isLoading:u}=Uv({search:t,category:s!=="all"?s:void 0}),{data:c}=Um(),f=KE(),m=new Map;return c&&c.forEach(p=>{m.set(p.courseId,p.status)}),r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(cs,{className:"w-12 h-12 text-primary mx-auto mb-3"}),r.jsx("h1",{className:"text-3xl font-bold mb-2","data-testid":"text-capacitaciones-title",children:"Capacitaciones"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explora nuestros cursos de formacion ministerial. Inscribete y crece en tu llamado."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Le,{placeholder:"Buscar cursos...",value:t,onChange:p=>n(p.target.value),className:"pl-9","data-testid":"input-search-courses"})]}),r.jsxs(vn,{value:s,onValueChange:i,children:[r.jsx(hn,{className:"w-full sm:w-[200px]","data-testid":"select-category-filter",children:r.jsx(yn,{placeholder:"Categoria"})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"all",children:"Todas las categorias"}),Object.entries(fi).map(([p,x])=>r.jsx(pt,{value:p,children:x},p))]})]})]}),u?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):o?.length?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(p=>{const x=m.get(p.id);return r.jsxs(ce,{className:"flex flex-col","data-testid":`card-course-${p.id}`,children:[p.imageUrl&&r.jsx("div",{className:"h-40 overflow-hidden rounded-t-md",children:r.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover"})}),r.jsxs(Qe,{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[r.jsx(ye,{variant:"secondary",className:"text-xs",children:fi[p.category]||p.category}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1","data-testid":`text-capacity-${p.id}`,children:[r.jsx(rr,{className:"w-3 h-3"})," ",p.enrolledCount||0,p.maxStudents?`/${p.maxStudents}`:""," inscritos"]})]}),r.jsx(He,{className:"text-lg mt-2","data-testid":`text-course-title-${p.id}`,children:p.title}),r.jsx(wt,{className:"line-clamp-3",children:p.description})]}),r.jsx(pe,{className:"pt-0",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x?r.jsx(ye,{variant:x==="aprobado"?"default":x==="completado"?"secondary":"outline","data-testid":`badge-enrollment-${p.id}`,children:wo[x]||x}):e?.isActive?r.jsxs(D,{size:"sm",onClick:()=>f.mutate(p.id),disabled:f.isPending,"data-testid":`button-enroll-${p.id}`,children:[f.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(cs,{className:"w-4 h-4 mr-1"}),"Inscribirse"]}):e?null:r.jsx(lt,{href:"/login",children:r.jsx(D,{size:"sm",variant:"outline",children:"Inicia sesion para inscribirte"})}),r.jsx(lt,{href:`/capacitaciones/${p.id}`,children:r.jsx(D,{size:"sm",variant:"ghost","data-testid":`button-view-course-${p.id}`,children:"Ver detalles"})})]})})]},p.id)})}):r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No se encontraron cursos disponibles."})]})})]})})}const _q={documento:ls,video:Ii,enlace:fN,audio:hu,presentacion:hN};function Pq({params:e}){const t=parseInt(e.id),{user:n}=an(),{data:s,isLoading:i}=Bv(t),{data:o}=qv(t),{data:u}=Hv(t),{data:c}=Um(),f=KE(),{data:m}=k7(),p=T7(),[x,v]=h.useState(!1),[b,S]=h.useState(""),w=c?.find(k=>k.courseId===t),N=m?.find(k=>k.courseId===t),E=n?.role==="obrero"||n?.role==="admin",C=s?.teacherId===n?.id,P=w&&(w.status==="aprobado"||w.status==="completado");return i?r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})}):s?r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsx(lt,{href:"/capacitaciones",children:r.jsxs(D,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-courses",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver a Capacitaciones"]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.imageUrl&&r.jsx("div",{className:"h-56 overflow-hidden rounded-md",children:r.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx(ye,{variant:"secondary",className:"mb-2",children:fi[s.category]||s.category}),r.jsx("h1",{className:"text-2xl font-bold mb-3","data-testid":"text-course-detail-title",children:s.title}),r.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:s.description})]}),u&&u.length>0&&r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(fr,{className:"w-5 h-5 text-primary"})," Horario de Clases"]})}),r.jsx(pe,{className:"space-y-3",children:u.map(k=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`session-${k.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:k.title}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(k.sessionDate).toLocaleDateString("es",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),k.duration?` - ${k.duration} min`:""]}),k.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k.description})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[k.isCompleted&&r.jsx(ye,{variant:"secondary",children:"Completada"}),k.meetingUrl&&P&&!k.isCompleted&&r.jsx("a",{href:k.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{size:"sm",variant:"outline","data-testid":`button-join-session-${k.id}`,children:[r.jsx(Ii,{className:"w-4 h-4 mr-1"})," Unirse"]})})]})]},k.id))})]}),o&&o.length>0&&P&&r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(ls,{className:"w-5 h-5 text-primary"})," Materiales y Recursos"]})}),r.jsx(pe,{className:"space-y-2",children:o.map(k=>{const T=_q[k.materialType]||ls;return r.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`material-${k.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(T,{className:"w-5 h-5 text-primary shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:k.title}),k.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:k.description}),r.jsx(ye,{variant:"outline",className:"text-xs mt-1",children:Lf[k.materialType]||k.materialType})]})]}),k.fileUrl&&r.jsx("a",{href:k.fileUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsx(D,{size:"icon",variant:"ghost",children:r.jsx(vm,{className:"w-4 h-4"})})})]},k.id)})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsx(He,{className:"text-lg",children:"Inscripcion"})}),r.jsx(pe,{className:"space-y-3",children:w?r.jsxs("div",{className:"space-y-3",children:[r.jsx(ye,{variant:w.status==="aprobado"?"default":w.status==="completado"?"secondary":"outline","data-testid":"badge-my-enrollment-status",children:wo[w.status]}),(w.status==="aprobado"||w.status==="completado")&&r.jsx(lt,{href:`/aula/${s.id}`,children:r.jsxs(D,{className:"w-full","data-testid":"button-enter-aula-detail",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"})," Entrar al Aula Virtual"]})}),w.grade&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Calificacion: "}),r.jsx("span",{className:"font-semibold",children:w.grade})]}),w.observations&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Observaciones: "}),r.jsx("p",{className:"text-sm mt-1",children:w.observations})]})]}):n?.isActive?r.jsxs(D,{className:"w-full",onClick:()=>f.mutate(s.id),disabled:f.isPending,"data-testid":"button-enroll-detail",children:[f.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(cs,{className:"w-4 h-4 mr-1"}),"Solicitar Inscripcion"]}):n?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu cuenta debe estar activa para inscribirte."}):r.jsx(lt,{href:"/login",children:r.jsx(D,{className:"w-full",variant:"outline",children:"Inicia sesion"})})})]}),r.jsx(ce,{children:r.jsxs(pe,{className:"pt-6 space-y-2",children:[r.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2","data-testid":"text-enrolled-count",children:[r.jsx(rr,{className:"w-4 h-4"})," Inscritos: ",s.enrolledCount||0,s.maxStudents?` / ${s.maxStudents}`:""]}),s.pendingCount>0&&r.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2","data-testid":"text-pending-count",children:[r.jsx(ml,{className:"w-4 h-4"})," Solicitudes pendientes: ",s.pendingCount]})]})}),E&&!C&&n?.isActive&&r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(Bc,{className:"w-5 h-5 text-primary"})," Ensenar este Curso"]}),r.jsx(wt,{children:"Como obrero, puedes solicitar ser maestro de este curso."})]}),r.jsx(pe,{className:"space-y-3",children:N?r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{variant:N.status==="aprobado"?"default":N.status==="rechazado"?"destructive":"outline","data-testid":"badge-teach-request-status",children:_S[N.status]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.status==="solicitado"&&"Tu solicitud esta siendo revisada por el administrador.",N.status==="aprobado"&&"Has sido aprobado como maestro de este curso.",N.status==="rechazado"&&"Tu solicitud fue rechazada."]})]}):x?r.jsxs("div",{className:"space-y-3",children:[r.jsx(bn,{placeholder:"Mensaje opcional: explica tu experiencia o motivacion para ensenar este curso...",value:b,onChange:k=>S(k.target.value),className:"resize-none",rows:3,"data-testid":"textarea-teach-message"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(D,{className:"flex-1",onClick:()=>{p.mutate({courseId:s.id,message:b||void 0}),v(!1),S("")},disabled:p.isPending,"data-testid":"button-submit-teach-request",children:[p.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):null,"Enviar Solicitud"]}),r.jsx(D,{variant:"ghost",onClick:()=>{v(!1),S("")},children:"Cancelar"})]})]}):r.jsxs(D,{className:"w-full",variant:"outline",onClick:()=>v(!0),"data-testid":"button-request-teach",children:[r.jsx(Bc,{className:"w-4 h-4 mr-1"})," Solicitar Ensenar"]})})]})]})]})]})}):r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[r.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Curso no encontrado"}),r.jsx(lt,{href:"/capacitaciones",children:r.jsxs(D,{variant:"outline",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver a Capacitaciones"]})})]})})}function kq(){const{user:e,isLoading:t}=an(),[,n]=zi(),{data:s,isLoading:i}=Um(),o=_7();if(t)return r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});if(!e)return n("/login"),null;const u=s?.filter(p=>p.status==="solicitado")||[],c=s?.filter(p=>p.status==="aprobado")||[],f=s?.filter(p=>p.status==="completado")||[],m=s?.filter(p=>p.status==="rechazado")||[];return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-mis-capacitaciones-title",children:"Mis Capacitaciones"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"Gestiona tus inscripciones y revisa tu progreso"})]}),r.jsx(lt,{href:"/capacitaciones",children:r.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-explore-courses",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"})," Explorar Cursos"]})})]}),i?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):s?.length?r.jsxs("div",{className:"space-y-6",children:[c.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Nn,{className:"w-5 h-5 text-primary"})," Cursos Activos (",c.length,")"]}),r.jsx("div",{className:"grid gap-3",children:c.map(p=>r.jsx(sf,{enrollment:p},p.id))})]}),u.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3",children:["Pendientes de Aprobacion (",u.length,")"]}),r.jsx("div",{className:"grid gap-3",children:u.map(p=>r.jsx(sf,{enrollment:p,onCancel:()=>o.mutate({id:p.id,courseId:p.courseId})},p.id))})]}),f.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3",children:["Completados (",f.length,")"]}),r.jsx("div",{className:"grid gap-3",children:f.map(p=>r.jsx(sf,{enrollment:p},p.id))})]}),m.length>0&&r.jsxs("section",{children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3 text-muted-foreground",children:["Rechazados (",m.length,")"]}),r.jsx("div",{className:"grid gap-3",children:m.map(p=>r.jsx(sf,{enrollment:p},p.id))})]})]}):r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(cs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Aun no te has inscrito en ningun curso."}),r.jsx(lt,{href:"/capacitaciones",children:r.jsx(D,{"data-testid":"button-explore-capacitaciones",children:"Explorar Capacitaciones"})})]})})]})})}function sf({enrollment:e,onCancel:t}){const n=e.status==="aprobado"?"default":e.status==="completado"?"secondary":e.status==="rechazado"?"destructive":"outline";return r.jsx(ce,{"data-testid":`card-enrollment-${e.id}`,children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold",children:e.course.title}),r.jsx(ye,{variant:n,children:wo[e.status]})]}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:e.course.description}),r.jsx(ye,{variant:"outline",className:"text-xs",children:fi[e.course.category]||e.course.category}),e.grade&&r.jsxs("p",{className:"text-sm mt-2",children:[r.jsx("span",{className:"text-muted-foreground",children:"Calificacion:"})," ",r.jsx("span",{className:"font-semibold",children:e.grade})]}),e.observations&&r.jsxs("p",{className:"text-sm mt-1",children:[r.jsx("span",{className:"text-muted-foreground",children:"Observaciones:"})," ",e.observations]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[(e.status==="aprobado"||e.status==="completado")&&r.jsx(lt,{href:`/aula/${e.courseId}`,children:r.jsxs(D,{size:"sm","data-testid":`button-enter-aula-${e.id}`,children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"})," Aula Virtual"]})}),t&&r.jsxs(D,{size:"sm",variant:"ghost",onClick:t,"data-testid":`button-cancel-enrollment-${e.id}`,children:[r.jsx(ri,{className:"w-4 h-4 mr-1"})," Cancelar"]}),r.jsx(lt,{href:`/capacitaciones/${e.courseId}`,children:r.jsx(D,{size:"sm",variant:"outline","data-testid":`button-goto-course-${e.id}`,children:r.jsx(aN,{className:"w-4 h-4"})})})]})]})})})}function Tq(){const{user:e,isLoading:t}=an(),[,n]=zi(),[s,i]=h.useState(null);return t?r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})}):!e||e.role!=="obrero"&&e.role!=="admin"?(n("/"),null):r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-maestro-title",children:[r.jsx(cs,{className:"w-7 h-7 text-primary"})," Panel del Maestro"]}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"Gestiona tus clases, materiales y estudiantes"})]}),s?r.jsx(Rq,{courseId:s,onBack:()=>i(null)}):r.jsx(Aq,{userId:e.id,onSelect:i})]})})}function Aq({userId:e,onSelect:t}){const{data:n,isLoading:s}=Uv({teacher:e}),i=qE(),[o,u]=h.useState(!1),[c,f]=h.useState({title:"",description:"",category:"general",maxStudents:""});function m(){!c.title.trim()||!c.description.trim()||i.mutate({title:c.title.trim(),description:c.description.trim(),category:c.category,teacherId:e,maxStudents:c.maxStudents?parseInt(c.maxStudents):void 0},{onSuccess:()=>{u(!1),f({title:"",description:"",category:"general",maxStudents:""})}})}return s?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold","data-testid":"text-my-courses-heading",children:"Mis Cursos"}),r.jsxs(D,{size:"sm",onClick:()=>u(!0),"data-testid":"button-create-course",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Crear Curso"]})]}),n?.length?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(p=>r.jsx(ce,{className:"cursor-pointer hover-elevate",onClick:()=>t(p.id),"data-testid":`card-teacher-course-${p.id}`,children:r.jsxs(Qe,{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsx(ye,{variant:"secondary",children:fi[p.category]||p.category}),r.jsx(ye,{variant:p.isActive?"default":"outline",children:p.isActive?"Activo":"Inactivo"})]}),r.jsx(He,{className:"text-lg mt-2",children:p.title}),r.jsx(wt,{className:"line-clamp-2",children:p.description})]})},p.id))}):r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No tienes cursos aun. Crea tu primer curso para comenzar."})]})}),r.jsx(ur,{open:o,onOpenChange:u,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Crear Nuevo Curso"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo *"}),r.jsx(Le,{value:c.title,onChange:p=>f(x=>({...x,title:p.target.value})),placeholder:"Nombre del curso","data-testid":"input-create-course-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion *"}),r.jsx(bn,{value:c.description,onChange:p=>f(x=>({...x,description:p.target.value})),placeholder:"Describe el contenido y objetivos del curso","data-testid":"input-create-course-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Categoria"}),r.jsxs(vn,{value:c.category,onValueChange:p=>f(x=>({...x,category:p})),children:[r.jsx(hn,{"data-testid":"select-create-course-category",children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(fi).map(([p,x])=>r.jsx(pt,{value:p,"data-testid":`select-category-${p}`,children:x},p))})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Maximo de Estudiantes (opcional)"}),r.jsx(Le,{type:"number",min:"1",value:c.maxStudents,onChange:p=>f(x=>({...x,maxStudents:p.target.value})),placeholder:"Sin limite","data-testid":"input-create-course-max-students"})]})]}),r.jsxs(dr,{children:[r.jsx(D,{variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-create-course",children:"Cancelar"}),r.jsxs(D,{onClick:m,disabled:!c.title.trim()||!c.description.trim()||i.isPending,"data-testid":"button-submit-create-course",children:[i.isPending?r.jsx(ze,{className:"w-4 h-4 mr-1 animate-spin"}):r.jsx($n,{className:"w-4 h-4 mr-1"}),"Crear Curso"]})]})]})})]})}function Rq({courseId:e,onBack:t}){const{data:n}=Bv(e),{data:s}=qv(e),{data:i}=Hv(e),{data:o}=WE(e),u=j7(),c=N7(),f=S7(),m=C7(),p=E7(),x=QE(),v=HE(),{data:b}=GE(e),S=O7(),w=I7(),{data:N}=ZE(e),E=M7(),C=D7(),[P,k]=h.useState(!1),[T,R]=h.useState(!1),[A,B]=h.useState(null),[Z,$]=h.useState({title:"",description:"",fileUrl:"",materialType:"documento"}),[re,H]=h.useState({title:"",description:"",sessionDate:"",duration:"",meetingUrl:"",meetingPlatform:"zoom"}),[ie,Y]=h.useState({grade:"",observations:""}),[ve,W]=h.useState(!1),[he,L]=h.useState({title:"",content:"",isPinned:!1}),[z,J]=h.useState(!1),[I,ee]=h.useState({dayOfWeek:"1",startTime:"09:00",endTime:"10:00",meetingUrl:"",meetingPlatform:"zoom",description:""});if(!n)return r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})});function Ae(){u.mutate({courseId:e,title:Z.title,description:Z.description||void 0,fileUrl:Z.fileUrl||void 0,materialType:Z.materialType,sortOrder:s?.length||0},{onSuccess:()=>{k(!1),$({title:"",description:"",fileUrl:"",materialType:"documento"})}})}function Ve(){f.mutate({courseId:e,title:re.title,description:re.description||void 0,sessionDate:re.sessionDate,duration:re.duration?parseInt(re.duration):void 0,meetingUrl:re.meetingUrl||void 0,meetingPlatform:re.meetingPlatform},{onSuccess:()=>{R(!1),H({title:"",description:"",sessionDate:"",duration:"",meetingUrl:"",meetingPlatform:"zoom"})}})}function de(){S.mutate({courseId:e,title:he.title,content:he.content,isPinned:he.isPinned},{onSuccess:()=>{W(!1),L({title:"",content:"",isPinned:!1})}})}function ge(){E.mutate({courseId:e,dayOfWeek:parseInt(I.dayOfWeek),startTime:I.startTime,endTime:I.endTime,meetingUrl:I.meetingUrl||void 0,meetingPlatform:I.meetingPlatform,description:I.description||void 0},{onSuccess:()=>{J(!1),ee({dayOfWeek:"1",startTime:"09:00",endTime:"10:00",meetingUrl:"",meetingPlatform:"zoom",description:""})}})}function xe(q){B(q),Y({grade:q.grade||"",observations:q.observations||""})}function Ue(){A&&x.mutate({id:A.id,courseId:e,updates:{grade:ie.grade||null,observations:ie.observations||null}},{onSuccess:()=>B(null)})}return r.jsxs("div",{children:[r.jsxs(D,{variant:"ghost",size:"sm",className:"mb-4",onClick:t,"data-testid":"button-back-courses-list",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1"})," Volver a mis cursos"]}),r.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:n.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[r.jsx(ye,{variant:"secondary",children:fi[n.category]||n.category}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.enrolledCount||0,n.maxStudents?`/${n.maxStudents}`:""," inscritos"]}),n.pendingCount>0&&r.jsxs(ye,{variant:"outline",className:"text-xs",children:[n.pendingCount," pendiente(s)"]})]})]})}),r.jsxs(Dl,{defaultValue:"students",className:"space-y-4",children:[r.jsxs(So,{className:"flex flex-wrap",children:[r.jsxs(Ht,{value:"students","data-testid":"tab-students",children:[r.jsx(rr,{className:"w-4 h-4 mr-1"})," Estudiantes"]}),r.jsxs(Ht,{value:"materials","data-testid":"tab-materials",children:[r.jsx(ls,{className:"w-4 h-4 mr-1"})," Materiales"]}),r.jsxs(Ht,{value:"sessions","data-testid":"tab-sessions",children:[r.jsx(fr,{className:"w-4 h-4 mr-1"})," Sesiones"]}),r.jsxs(Ht,{value:"config","data-testid":"tab-config",children:[r.jsx(Js,{className:"w-4 h-4 mr-1"})," Configuracion"]}),r.jsxs(Ht,{value:"schedule","data-testid":"tab-schedule",children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Horario"]}),r.jsxs(Ht,{value:"announcements","data-testid":"tab-announcements",children:[r.jsx(Ic,{className:"w-4 h-4 mr-1"})," Anuncios"]})]}),r.jsx(Wt,{value:"students",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{className:"text-lg",children:"Estudiantes Inscritos"}),r.jsx(wt,{children:"Gestiona inscripciones, califica y agrega observaciones"})]}),r.jsx(pe,{children:o?.length?r.jsx("div",{className:"space-y-3",children:o.map(q=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 rounded-md bg-muted/50","data-testid":`student-enrollment-${q.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:q.user.displayName||q.user.username}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",q.user.username]}),q.grade&&r.jsxs("p",{className:"text-xs mt-1",children:["Calificacion: ",r.jsx("span",{className:"font-semibold",children:q.grade})]}),q.observations&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q.observations})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(ye,{variant:q.status==="aprobado"?"default":q.status==="completado"?"secondary":q.status==="rechazado"?"destructive":"outline",children:wo[q.status]}),q.status==="solicitado"&&r.jsxs(r.Fragment,{children:[r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>x.mutate({id:q.id,courseId:e,updates:{status:"aprobado"}}),"data-testid":`button-approve-${q.id}`,children:[r.jsx(Cs,{className:"w-4 h-4 mr-1"})," Aprobar"]}),r.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>x.mutate({id:q.id,courseId:e,updates:{status:"rechazado"}}),"data-testid":`button-reject-${q.id}`,children:[r.jsx(ri,{className:"w-4 h-4 mr-1"})," Rechazar"]})]}),(q.status==="aprobado"||q.status==="completado")&&r.jsxs(D,{size:"sm",variant:"ghost",onClick:()=>xe(q),"data-testid":`button-grade-${q.id}`,children:[r.jsx(Js,{className:"w-4 h-4 mr-1"})," Calificar"]}),q.status==="aprobado"&&r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>x.mutate({id:q.id,courseId:e,updates:{status:"completado"}}),"data-testid":`button-complete-${q.id}`,children:r.jsx(Cs,{className:"w-4 h-4"})})]})]},q.id))}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay estudiantes inscritos."})})]})}),r.jsx(Wt,{value:"materials",children:r.jsxs(ce,{children:[r.jsxs(Qe,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-lg",children:"Materiales del Curso"}),r.jsx(wt,{children:"Agrega documentos, videos y recursos"})]}),r.jsxs(D,{size:"sm",onClick:()=>k(!0),"data-testid":"button-add-material",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar Material"]})]}),r.jsx(pe,{children:s?.length?r.jsx("div",{className:"space-y-2",children:s.map(q=>r.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`material-row-${q.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:q.title}),q.description&&r.jsx("p",{className:"text-xs text-muted-foreground",children:q.description}),r.jsx(ye,{variant:"outline",className:"text-xs mt-1",children:Lf[q.materialType]})]}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>c.mutate({id:q.id,courseId:e}),"data-testid":`button-delete-material-${q.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]},q.id))}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay materiales agregados."})})]})}),r.jsx(Wt,{value:"sessions",children:r.jsxs(ce,{children:[r.jsxs(Qe,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-lg",children:"Sesiones de Clase"}),r.jsx(wt,{children:"Programa clases y agrega enlaces de reunion"})]}),r.jsxs(D,{size:"sm",onClick:()=>R(!0),"data-testid":"button-add-session",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Nueva Sesion"]})]}),r.jsx(pe,{children:i?.length?r.jsx("div",{className:"space-y-2",children:i.map(q=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`session-row-${q.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:q.title}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(q.sessionDate).toLocaleDateString("es",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),q.duration?` - ${q.duration}min`:""]}),q.meetingUrl&&r.jsx("p",{className:"text-xs text-primary truncate",children:q.meetingUrl})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[q.isCompleted?r.jsx(ye,{variant:"secondary",children:"Completada"}):r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>m.mutate({id:q.id,courseId:e,updates:{isCompleted:!0}}),"data-testid":`button-complete-session-${q.id}`,children:r.jsx(Cs,{className:"w-4 h-4"})}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>p.mutate({id:q.id,courseId:e}),"data-testid":`button-delete-session-${q.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]})]},q.id))}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay sesiones programadas."})})]})}),r.jsx(Wt,{value:"config",children:r.jsx(Oq,{course:n,onUpdate:q=>v.mutate({id:e,updates:q})})}),r.jsx(Wt,{value:"schedule",children:r.jsxs(ce,{children:[r.jsxs(Qe,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-lg",children:"Horario Semanal"}),r.jsx(wt,{children:"Configura los dias y horas regulares de clase"})]}),r.jsxs(D,{size:"sm",onClick:()=>J(!0),"data-testid":"button-add-schedule",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar Horario"]})]}),r.jsx(pe,{children:N?.length?r.jsx("div",{className:"space-y-2",children:N.sort((q,Ne)=>q.dayOfWeek-Ne.dayOfWeek).map(q=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`schedule-entry-row-${q.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:ax[q.dayOfWeek]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[q.startTime," - ",q.endTime]}),q.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q.description}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[q.meetingPlatform&&r.jsx(ye,{variant:"outline",className:"text-xs",children:dv[q.meetingPlatform]||q.meetingPlatform}),q.meetingUrl&&r.jsx("p",{className:"text-xs text-primary truncate",children:q.meetingUrl})]})]}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>C.mutate({id:q.id,courseId:e}),"data-testid":`button-delete-schedule-${q.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]},q.id))}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay horario configurado."})})]})}),r.jsx(Wt,{value:"announcements",children:r.jsxs(ce,{children:[r.jsxs(Qe,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-lg",children:"Anuncios del Curso"}),r.jsx(wt,{children:"Publica comunicaciones para tus estudiantes"})]}),r.jsxs(D,{size:"sm",onClick:()=>W(!0),"data-testid":"button-add-announcement",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Nuevo Anuncio"]})]}),r.jsx(pe,{children:b?.length?r.jsx("div",{className:"space-y-2",children:b.map(q=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 rounded-md bg-muted/50","data-testid":`announcement-row-${q.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("p",{className:"font-medium text-sm",children:q.title}),q.isPinned&&r.jsx(Oi,{className:"w-3 h-3 text-primary"})]}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:q.content}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:q.createdAt?new Date(q.createdAt).toLocaleDateString("es",{day:"numeric",month:"short",year:"numeric"}):""})]}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>w.mutate({id:q.id,courseId:e}),"data-testid":`button-delete-announcement-${q.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]},q.id))}):r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay anuncios publicados."})})]})})]}),r.jsx(ur,{open:P,onOpenChange:k,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Agregar Material"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo"}),r.jsx(Le,{value:Z.title,onChange:q=>$(Ne=>({...Ne,title:q.target.value})),"data-testid":"input-material-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion"}),r.jsx(bn,{value:Z.description,onChange:q=>$(Ne=>({...Ne,description:q.target.value})),"data-testid":"input-material-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"URL del Recurso"}),r.jsx(Le,{value:Z.fileUrl,onChange:q=>$(Ne=>({...Ne,fileUrl:q.target.value})),placeholder:"https://...","data-testid":"input-material-url"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Tipo"}),r.jsxs(vn,{value:Z.materialType,onValueChange:q=>$(Ne=>({...Ne,materialType:q})),children:[r.jsx(hn,{"data-testid":"select-material-type",children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(Lf).map(([q,Ne])=>r.jsx(pt,{value:q,children:Ne},q))})]})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:Ae,disabled:!Z.title||u.isPending,"data-testid":"button-submit-material",children:[u.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar"]})})]})}),r.jsx(ur,{open:T,onOpenChange:R,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Nueva Sesion de Clase"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo"}),r.jsx(Le,{value:re.title,onChange:q=>H(Ne=>({...Ne,title:q.target.value})),"data-testid":"input-session-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion"}),r.jsx(bn,{value:re.description,onChange:q=>H(Ne=>({...Ne,description:q.target.value})),"data-testid":"input-session-description"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Fecha y Hora"}),r.jsx(Le,{type:"datetime-local",value:re.sessionDate,onChange:q=>H(Ne=>({...Ne,sessionDate:q.target.value})),"data-testid":"input-session-date"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Duracion (minutos)"}),r.jsx(Le,{type:"number",value:re.duration,onChange:q=>H(Ne=>({...Ne,duration:q.target.value})),"data-testid":"input-session-duration"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Enlace de Reunion"}),r.jsx(Le,{value:re.meetingUrl,onChange:q=>H(Ne=>({...Ne,meetingUrl:q.target.value})),placeholder:"https://zoom.us/j/...","data-testid":"input-session-url"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Plataforma"}),r.jsxs(vn,{value:re.meetingPlatform,onValueChange:q=>H(Ne=>({...Ne,meetingPlatform:q})),children:[r.jsx(hn,{"data-testid":"select-session-platform",children:r.jsx(yn,{})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"zoom",children:"Zoom"}),r.jsx(pt,{value:"google_meet",children:"Google Meet"}),r.jsx(pt,{value:"teams",children:"Microsoft Teams"}),r.jsx(pt,{value:"otro",children:"Otro"})]})]})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:Ve,disabled:!re.title||!re.sessionDate||f.isPending,"data-testid":"button-submit-session",children:[f.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(fr,{className:"w-4 h-4 mr-1"})," Programar"]})})]})}),r.jsx(ur,{open:!!A,onOpenChange:q=>!q&&B(null),children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Calificar Estudiante"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estudiante: ",r.jsx("span",{className:"font-medium text-foreground",children:A?.user?.displayName||A?.user?.username})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Calificacion"}),r.jsx(Le,{value:ie.grade,onChange:q=>Y(Ne=>({...Ne,grade:q.target.value})),placeholder:"Ej: Aprobado, 9/10, Excelente","data-testid":"input-grade"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Observaciones"}),r.jsx(bn,{value:ie.observations,onChange:q=>Y(Ne=>({...Ne,observations:q.target.value})),placeholder:"Notas sobre el desempeno del estudiante...","data-testid":"input-observations"})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:Ue,disabled:x.isPending,"data-testid":"button-submit-grade",children:[x.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(wa,{className:"w-4 h-4 mr-1"})," Guardar"]})})]})}),r.jsx(ur,{open:z,onOpenChange:J,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Agregar Horario de Clase"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Dia de la Semana"}),r.jsxs(vn,{value:I.dayOfWeek,onValueChange:q=>ee(Ne=>({...Ne,dayOfWeek:q})),children:[r.jsx(hn,{"data-testid":"select-schedule-day",children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(ax).map(([q,Ne])=>r.jsx(pt,{value:q,children:Ne},q))})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Hora de Inicio"}),r.jsx(Le,{type:"time",value:I.startTime,onChange:q=>ee(Ne=>({...Ne,startTime:q.target.value})),"data-testid":"input-schedule-start"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Hora de Fin"}),r.jsx(Le,{type:"time",value:I.endTime,onChange:q=>ee(Ne=>({...Ne,endTime:q.target.value})),"data-testid":"input-schedule-end"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Enlace de Reunion"}),r.jsx(Le,{value:I.meetingUrl,onChange:q=>ee(Ne=>({...Ne,meetingUrl:q.target.value})),placeholder:"https://zoom.us/j/...","data-testid":"input-schedule-url"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Plataforma"}),r.jsxs(vn,{value:I.meetingPlatform,onValueChange:q=>ee(Ne=>({...Ne,meetingPlatform:q})),children:[r.jsx(hn,{"data-testid":"select-schedule-platform",children:r.jsx(yn,{})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"zoom",children:"Zoom"}),r.jsx(pt,{value:"google_meet",children:"Google Meet"}),r.jsx(pt,{value:"teams",children:"Microsoft Teams"}),r.jsx(pt,{value:"otro",children:"Otro"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion"}),r.jsx(Le,{value:I.description,onChange:q=>ee(Ne=>({...Ne,description:q.target.value})),"data-testid":"input-schedule-description"})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:ge,disabled:!I.startTime||!I.endTime||E.isPending,"data-testid":"button-submit-schedule",children:[E.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar"]})})]})}),r.jsx(ur,{open:ve,onOpenChange:W,children:r.jsxs(er,{children:[r.jsx(tr,{children:r.jsx(nr,{children:"Nuevo Anuncio"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo"}),r.jsx(Le,{value:he.title,onChange:q=>L(Ne=>({...Ne,title:q.target.value})),"data-testid":"input-announcement-title"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Contenido"}),r.jsx(bn,{value:he.content,onChange:q=>L(Ne=>({...Ne,content:q.target.value})),"data-testid":"input-announcement-content"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ke,{children:"Fijar anuncio"}),r.jsxs(D,{type:"button",size:"sm",variant:he.isPinned?"default":"outline",className:"toggle-elevate",onClick:()=>L(q=>({...q,isPinned:!q.isPinned})),"data-testid":"button-toggle-pin",children:[r.jsx(Oi,{className:"w-4 h-4 mr-1"})," ",he.isPinned?"Fijado":"No fijado"]})]})]}),r.jsx(dr,{children:r.jsxs(D,{onClick:de,disabled:!he.title||!he.content||S.isPending,"data-testid":"button-submit-announcement",children:[S.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx(Ic,{className:"w-4 h-4 mr-1"})," Publicar"]})})]})})]})}function Oq({course:e,onUpdate:t}){const[n,s]=h.useState(e.title),[i,o]=h.useState(e.description);return r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsx(He,{className:"text-lg",children:"Configuracion del Curso"})}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Titulo"}),r.jsx(Le,{value:n,onChange:u=>s(u.target.value),"data-testid":"input-course-title-config"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Descripcion"}),r.jsx(bn,{value:i,onChange:u=>o(u.target.value),className:"min-h-[100px]","data-testid":"input-course-description-config"})]}),r.jsxs(D,{onClick:()=>t({title:n,description:i}),"data-testid":"button-save-course-config",children:[r.jsx(wa,{className:"w-4 h-4 mr-1"})," Guardar Cambios"]})]})]})}const Iq={documento:ls,video:Ii,enlace:fN,audio:hu,presentacion:hN};function Mq({params:e}){const t=parseInt(e.id),{user:n,isLoading:s}=an(),[,i]=zi(),{data:o,isLoading:u}=Bv(t),{data:c}=qv(t),{data:f}=Hv(t),{data:m}=Um(),{data:p}=GE(t),{data:x}=ZE(t);if(s)return r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});if(!n)return i("/login"),null;const v=m?.find($=>$.courseId===t),b=v&&(v.status==="aprobado"||v.status==="completado"),S=o?.teacherId===n?.id,w=n?.role==="admin",N=b||S||w;if(u)return r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});if(!o)return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[r.jsx(Nn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Curso no encontrado"}),r.jsx(lt,{href:"/mis-capacitaciones",children:r.jsxs(D,{variant:"outline",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]})})]})});if(!N)return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[r.jsx(cs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Acceso Restringido"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Debes estar inscrito y aprobado en este curso para acceder al aula virtual."}),r.jsx(lt,{href:`/capacitaciones/${t}`,children:r.jsxs(D,{variant:"outline",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Ver Detalles del Curso"]})})]})});const E=new Date,C=f?.filter($=>!$.isCompleted&&new Date($.sessionDate)>=E).sort(($,re)=>new Date($.sessionDate).getTime()-new Date(re.sessionDate).getTime())||[],P=f?.filter($=>$.isCompleted||new Date($.sessionDate)<E).sort(($,re)=>new Date(re.sessionDate).getTime()-new Date($.sessionDate).getTime())||[],k=f?.filter($=>$.isCompleted)?.length||0,T=f?.length||0,R=T>0?Math.round(k/T*100):0,A=C[0],B=E.getDay(),Z=x?.filter($=>$.dayOfWeek===B&&$.isActive)||[];return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lt,{href:"/mis-capacitaciones",children:r.jsx(D,{variant:"ghost",size:"icon","data-testid":"button-back-aula",children:r.jsx(pr,{className:"w-5 h-5"})})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("h1",{className:"text-xl font-bold","data-testid":"text-aula-title",children:o.title}),r.jsx(ye,{variant:"secondary",children:fi[o.category]||o.category})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Aula Virtual"})]})]}),S&&r.jsx(lt,{href:"/maestro",children:r.jsx(D,{variant:"outline",size:"sm","data-testid":"button-goto-teacher-panel",children:"Panel del Maestro"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx(ce,{"data-testid":"card-progress",children:r.jsxs(pe,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",children:r.jsx(cs,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold",children:[R,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Progreso del Curso"})]})]}),r.jsx("div",{className:"mt-3 w-full bg-muted rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${R}%`}})}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[k," de ",T," sesiones completadas"]})]})}),r.jsx(ce,{"data-testid":"card-next-session",children:r.jsxs(pe,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",children:r.jsx(fr,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-semibold truncate",children:A?A.title:"Sin sesiones"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:A?new Date(A.sessionDate).toLocaleDateString("es",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"No hay proximas clases"})]})]}),A?.meetingUrl&&r.jsx("a",{href:A.meetingUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-3 block",children:r.jsxs(D,{className:"w-full",size:"sm","data-testid":"button-join-next-session",children:[r.jsx(Ii,{className:"w-4 h-4 mr-1"})," Unirse a Clase"]})})]})}),r.jsx(ce,{"data-testid":"card-my-status",children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",children:r.jsx(rr,{className:"w-6 h-6 text-primary"})}),r.jsx("div",{children:S?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-semibold",children:"Maestro"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Eres el maestro de este curso"})]}):v?r.jsxs(r.Fragment,{children:[r.jsx(ye,{variant:v.status==="aprobado"?"default":"secondary",children:wo[v.status]}),v.grade&&r.jsxs("p",{className:"text-xs mt-1",children:["Calificacion: ",r.jsx("span",{className:"font-semibold",children:v.grade})]})]}):null})]})})})]}),Z.length>0&&r.jsx(ce,{className:"mb-6 border-primary/30","data-testid":"card-today-schedule",children:r.jsxs(pe,{className:"pt-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx(oN,{className:"w-5 h-5 text-primary"}),r.jsx("p",{className:"font-semibold text-sm",children:"Clases de Hoy"})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:Z.map($=>r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50","data-testid":`today-schedule-${$.id}`,children:[r.jsx(ml,{className:"w-4 h-4 text-primary shrink-0"}),r.jsxs("span",{className:"text-sm font-medium",children:[$.startTime," - ",$.endTime]}),$.description&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",$.description,")"]}),$.meetingUrl&&r.jsx("a",{href:$.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{size:"sm",variant:"outline","data-testid":`button-join-today-${$.id}`,children:[r.jsx(Ii,{className:"w-3 h-3 mr-1"})," Unirse"]})})]},$.id))})]})}),r.jsxs(Dl,{defaultValue:"sessions",className:"space-y-4",children:[r.jsxs(So,{className:"flex flex-wrap",children:[r.jsxs(Ht,{value:"sessions","data-testid":"tab-aula-sessions",children:[r.jsx(fr,{className:"w-4 h-4 mr-1"})," Sesiones"]}),r.jsxs(Ht,{value:"schedule","data-testid":"tab-aula-schedule",children:[r.jsx(df,{className:"w-4 h-4 mr-1"})," Horario"]}),r.jsxs(Ht,{value:"materials","data-testid":"tab-aula-materials",children:[r.jsx(ls,{className:"w-4 h-4 mr-1"})," Materiales"]}),r.jsxs(Ht,{value:"announcements","data-testid":"tab-aula-announcements",children:[r.jsx(Ic,{className:"w-4 h-4 mr-1"})," Anuncios"]})]}),r.jsx(Wt,{value:"sessions",children:r.jsxs("div",{className:"space-y-4",children:[C.length>0&&r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(fr,{className:"w-5 h-5 text-primary"})," Proximas Clases"]}),r.jsxs(wt,{children:[C.length," sesion(es) programada(s)"]})]}),r.jsx(pe,{className:"space-y-3",children:C.map($=>r.jsx(e1,{session:$,isUpcoming:!0},$.id))})]}),P.length>0&&r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5 text-muted-foreground"})," Clases Anteriores"]})}),r.jsx(pe,{className:"space-y-3",children:P.map($=>r.jsx(e1,{session:$,isUpcoming:!1},$.id))})]}),!f?.length&&r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(fr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay sesiones programadas aun."})]})})]})}),r.jsx(Wt,{value:"schedule",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(df,{className:"w-5 h-5 text-primary"})," Horario Semanal"]}),r.jsx(wt,{children:"Horario regular de clases para este curso"})]}),r.jsx(pe,{children:x&&x.length>0?r.jsx("div",{className:"space-y-2",children:[0,1,2,3,4,5,6].map($=>{const re=x.filter(H=>H.dayOfWeek===$&&H.isActive);return re.length===0?null:r.jsxs("div",{className:`flex flex-wrap items-center gap-3 p-3 rounded-md ${$===B?"bg-primary/10 border border-primary/20":"bg-muted/50"}`,"data-testid":`schedule-day-${$}`,children:[r.jsxs("div",{className:"w-24 shrink-0",children:[r.jsx("p",{className:`font-semibold text-sm ${$===B?"text-primary":""}`,children:ax[$]}),$===B&&r.jsx(ye,{variant:"default",className:"text-xs mt-1",children:"Hoy"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:re.map(H=>r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-background","data-testid":`schedule-entry-${H.id}`,children:[r.jsx(ml,{className:"w-4 h-4 text-primary shrink-0"}),r.jsxs("span",{className:"text-sm font-medium",children:[H.startTime," - ",H.endTime]}),H.description&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["- ",H.description]}),H.meetingUrl&&r.jsx("a",{href:H.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{size:"sm",variant:"outline",children:[r.jsx(Ii,{className:"w-3 h-3 mr-1"}),dv[H.meetingPlatform]||"Enlace"]})})]},H.id))})]},$)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(df,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay horario semanal configurado para este curso."}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"El maestro puede configurar el horario desde el Panel del Maestro."})]})})]})}),r.jsx(Wt,{value:"materials",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(ls,{className:"w-5 h-5 text-primary"})," Materiales y Recursos"]}),r.jsxs(wt,{children:[c?.length||0," recurso(s) disponible(s)"]})]}),r.jsx(pe,{children:c&&c.length>0?r.jsx("div",{className:"space-y-2",children:c.map($=>{const re=Iq[$.materialType]||ls;return r.jsxs("div",{className:"flex items-center justify-between gap-3 p-3 rounded-md bg-muted/50","data-testid":`aula-material-${$.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary/10 shrink-0",children:r.jsx(re,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:$.title}),$.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:$.description}),r.jsx(ye,{variant:"outline",className:"text-xs mt-1",children:Lf[$.materialType]||$.materialType})]})]}),$.fileUrl&&r.jsx("a",{href:$.fileUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{size:"sm",variant:"outline","data-testid":`button-open-material-${$.id}`,children:[r.jsx(vm,{className:"w-4 h-4 mr-1"})," Abrir"]})})]},$.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ls,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay materiales disponibles aun."})]})})]})}),r.jsx(Wt,{value:"announcements",children:r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsxs(He,{className:"text-lg flex items-center gap-2",children:[r.jsx(Ic,{className:"w-5 h-5 text-primary"})," Anuncios del Curso"]}),r.jsx(wt,{children:"Comunicaciones del maestro"})]}),r.jsx(pe,{children:p&&p.length>0?r.jsx("div",{className:"space-y-4",children:p.map($=>r.jsxs("div",{className:`p-4 rounded-md ${$.isPinned?"bg-primary/5 border border-primary/20":"bg-muted/50"}`,"data-testid":`announcement-${$.id}`,children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[$.isPinned&&r.jsx(Oi,{className:"w-4 h-4 text-primary"}),r.jsx("h3",{className:"font-semibold text-sm",children:$.title})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3",children:$.content}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[r.jsx("span",{children:$.author.displayName||$.author.username}),r.jsx("span",{children:"-"}),r.jsx("span",{children:new Date($.createdAt).toLocaleDateString("es",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},$.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ic,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay anuncios publicados."})]})})]})})]})]})})}function e1({session:e,isUpcoming:t}){const n=new Date(e.sessionDate),s=new Date,i=t&&n<=s&&e.duration?s<=new Date(n.getTime()+e.duration*6e4):!1,o=t?Dq(n):null;return r.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-3 p-4 rounded-md ${i?"bg-primary/10 border border-primary/30":e.isCompleted?"bg-muted/30":"bg-muted/50"}`,"data-testid":`aula-session-${e.id}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-semibold text-sm",children:e.title}),i&&r.jsx(ye,{variant:"default",children:"En Vivo"}),e.isCompleted&&r.jsx(ye,{variant:"secondary",children:"Completada"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.toLocaleDateString("es",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e.duration&&r.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[r.jsx(IR,{className:"w-3 h-3"})," Duracion: ",e.duration," min"]}),e.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),t&&o&&!i&&r.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:o}),e.meetingPlatform&&r.jsx("div",{className:"flex items-center gap-1 mt-1",children:r.jsx(ye,{variant:"outline",className:"text-xs",children:dv[e.meetingPlatform]||e.meetingPlatform})})]}),e.meetingUrl&&(t||i)&&r.jsx("a",{href:e.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{size:"sm",variant:i?"default":"outline","data-testid":`button-join-aula-session-${e.id}`,children:[r.jsx(Ii,{className:"w-4 h-4 mr-1"})," ",i?"Unirse Ahora":"Enlace de Reunion"]})})]})}function Dq(e){const t=new Date,n=e.getTime()-t.getTime();if(n<=0)return null;const s=Math.floor(n/(1e3*60*60*24)),i=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(n%(1e3*60*60)/(1e3*60));return s>0?`En ${s} dia(s) y ${i} hora(s)`:i>0?`En ${i} hora(s) y ${o} minuto(s)`:`En ${o} minuto(s)`}function ku({className:e,...t}){return r.jsx("div",{className:Be("animate-pulse rounded-md bg-muted",e),...t})}var ty="Progress",ny=100,[$q]=fs(ty),[Lq,Fq]=$q(ty),AP=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:o=zq,...u}=e;(i||i===0)&&!t1(i)&&console.error(Vq(`${i}`,"Progress"));const c=t1(i)?i:ny;s!==null&&!n1(s,c)&&console.error(Uq(`${s}`,"Progress"));const f=n1(s,c)?s:null,m=nm(f)?o(f,c):void 0;return r.jsx(Lq,{scope:n,value:f,max:c,children:r.jsx(St.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":nm(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":IP(f,c),"data-value":f??void 0,"data-max":c,...u,ref:t})})});AP.displayName=ty;var RP="ProgressIndicator",OP=h.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,i=Fq(RP,n);return r.jsx(St.div,{"data-state":IP(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:t})});OP.displayName=RP;function zq(e,t){return`${Math.round(e/t*100)}%`}function IP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nm(e){return typeof e=="number"}function t1(e){return nm(e)&&!isNaN(e)&&e>0}function n1(e,t){return nm(e)&&!isNaN(e)&&e<=t&&e>=0}function Vq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ny}\`.`}function Uq(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ny} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MP=AP,Bq=OP;const Cl=h.forwardRef(({className:e,value:t,...n},s)=>r.jsx(MP,{ref:s,className:Be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(Bq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cl.displayName=MP.displayName;var ry="Checkbox",[qq]=fs(ry),[Hq,Wq]=qq(ry),DP=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:o,required:u,disabled:c,value:f="on",onCheckedChange:m,form:p,...x}=e,[v,b]=h.useState(null),S=Tt(t,k=>b(k)),w=h.useRef(!1),N=v?p||!!v.closest("form"):!0,[E=!1,C]=fl({prop:i,defaultProp:o,onChange:m}),P=h.useRef(E);return h.useEffect(()=>{const k=v?.form;if(k){const T=()=>C(P.current);return k.addEventListener("reset",T),()=>k.removeEventListener("reset",T)}},[v,C]),r.jsxs(Hq,{scope:n,state:E,disabled:c,children:[r.jsx(St.button,{type:"button",role:"checkbox","aria-checked":Na(E)?"mixed":E,"aria-required":u,"data-state":FP(E),"data-disabled":c?"":void 0,disabled:c,value:f,...x,ref:S,onKeyDown:st(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:st(e.onClick,k=>{C(T=>Na(T)?!0:!T),N&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),N&&r.jsx(Kq,{control:v,bubbles:!w.current,name:s,value:f,checked:E,required:u,disabled:c,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Na(o)?!1:o})]})});DP.displayName=ry;var $P="CheckboxIndicator",LP=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,o=Wq($P,n);return r.jsx(Vi,{present:s||Na(o.state)||o.state===!0,children:r.jsx(St.span,{"data-state":FP(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});LP.displayName=$P;var Kq=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:i,...o}=e,u=h.useRef(null),c=Xv(n),f=sv(t);h.useEffect(()=>{const p=u.current,x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(c!==n&&b){const S=new Event("click",{bubbles:s});p.indeterminate=Na(n),b.call(p,Na(n)?!1:n),p.dispatchEvent(S)}},[c,n,s]);const m=h.useRef(Na(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,...o,tabIndex:-1,ref:u,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Na(e){return e==="indeterminate"}function FP(e){return Na(e)?"indeterminate":e?"checked":"unchecked"}var zP=DP,Qq=LP;const kx=h.forwardRef(({className:e,...t},n)=>r.jsx(zP,{ref:n,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(Qq,{className:Be("flex items-center justify-center text-current"),children:r.jsx(xm,{className:"h-4 w-4"})})}));kx.displayName=zP.displayName;const Gq={Genesis:"gn",Exodo:"ex",Levitico:"lv",Numeros:"nm",Deuteronomio:"dt",Josue:"js",Jueces:"jue",Rut:"rt","1 Samuel":"1s","2 Samuel":"2s","1 Reyes":"1r","2 Reyes":"2r","1 Cronicas":"1cr","2 Cronicas":"2cr",Esdras:"esd",Nehemias:"ne",Ester:"est",Job:"job",Salmos:"sal",Proverbios:"pr",Eclesiastes:"ec",Cantares:"cnt",Isaias:"is",Jeremias:"jr",Lamentaciones:"lm",Ezequiel:"ez",Daniel:"dn",Oseas:"os",Joel:"jl",Amos:"am",Abdias:"abd",Jonas:"jon",Miqueas:"mi",Nahum:"nah",Habacuc:"hab",Sofonias:"sof",Hageo:"hag",Zacarias:"zac",Malaquias:"mal",Mateo:"mt",Marcos:"mr",Lucas:"lc",Juan:"jn",Hechos:"hch",Romanos:"ro","1 Corintios":"1co","2 Corintios":"2co",Galatas:"ga",Efesios:"ef",Filipenses:"fil",Colosenses:"col","1 Tesalonicenses":"1ts","2 Tesalonicenses":"2ts","1 Timoteo":"1ti","2 Timoteo":"2ti",Tito:"tit",Filemon:"flm",Hebreos:"he",Santiago:"stg","1 Pedro":"1p","2 Pedro":"2p","1 Juan":"1jn","2 Juan":"2jn","3 Juan":"3jn",Judas:"jud",Apocalipsis:"ap"},Zq={Genesis:50,Exodo:40,Levitico:27,Numeros:36,Deuteronomio:34,Josue:24,Jueces:21,Rut:4,"1 Samuel":31,"2 Samuel":24,"1 Reyes":22,"2 Reyes":25,"1 Cronicas":29,"2 Cronicas":36,Esdras:10,Nehemias:13,Ester:10,Job:42,Salmos:150,Proverbios:31,Eclesiastes:12,Cantares:8,Isaias:66,Jeremias:52,Lamentaciones:5,Ezequiel:48,Daniel:12,Oseas:14,Joel:3,Amos:9,Abdias:1,Jonas:4,Miqueas:7,Nahum:3,Habacuc:3,Sofonias:3,Hageo:2,Zacarias:14,Malaquias:4,Mateo:28,Marcos:16,Lucas:24,Juan:21,Hechos:28,Romanos:16,"1 Corintios":16,"2 Corintios":13,Galatas:6,Efesios:6,Filipenses:4,Colosenses:4,"1 Tesalonicenses":5,"2 Tesalonicenses":3,"1 Timoteo":6,"2 Timoteo":4,Tito:3,Filemon:1,Hebreos:13,Santiago:5,"1 Pedro":5,"2 Pedro":3,"1 Juan":5,"2 Juan":1,"3 Juan":1,Judas:1,Apocalipsis:22},r1=[{ref:"Josue 1:9",text:"Mira que te mando que te esfuerces y seas valiente; no temas ni desmayes, porque Jehova tu Dios estara contigo en dondequiera que vayas."},{ref:"Salmos 23:1",text:"Jehova es mi pastor; nada me faltara."},{ref:"Proverbios 3:5-6",text:"Fiate de Jehova de todo tu corazon, y no te apoyes en tu propia prudencia. Reconocelo en todos tus caminos, y el enderezara tus veredas."},{ref:"Isaias 41:10",text:"No temas, porque yo estoy contigo; no desmayes, porque yo soy tu Dios que te esfuerzo; siempre te ayudare, siempre te sustentare con la diestra de mi justicia."},{ref:"Jeremias 29:11",text:"Porque yo se los pensamientos que tengo acerca de vosotros, dice Jehova, pensamientos de paz, y no de mal, para daros el fin que esperais."},{ref:"Filipenses 4:13",text:"Todo lo puedo en Cristo que me fortalece."},{ref:"Romanos 8:28",text:"Y sabemos que a los que aman a Dios, todas las cosas les ayudan a bien, esto es, a los que conforme a su proposito son llamados."},{ref:"Salmos 119:105",text:"Lampara es a mis pies tu palabra, y lumbrera a mi camino."},{ref:"Mateo 11:28",text:"Venid a mi todos los que estais trabajados y cargados, y yo os hare descansar."},{ref:"2 Timoteo 1:7",text:"Porque no nos ha dado Dios espiritu de cobarda, sino de poder, de amor y de dominio propio."},{ref:"Salmos 46:1",text:"Dios es nuestro amparo y fortaleza, nuestro pronto auxilio en las tribulaciones."},{ref:"Hebreos 11:1",text:"Es, pues, la fe la certeza de lo que se espera, la conviccion de lo que no se ve."},{ref:"Juan 3:16",text:"Porque de tal manera amo Dios al mundo, que ha dado a su Hijo unigenito, para que todo aquel que en el cree, no se pierda, mas tenga vida eterna."},{ref:"Salmos 37:4",text:"Delitate asimismo en Jehova, y el te concedera las peticiones de tu corazon."},{ref:"Isaias 40:31",text:"Pero los que esperan a Jehova tendran nuevas fuerzas; levantaran alas como las aguilas; correran, y no se cansaran; caminaran, y no se fatigaran."},{ref:"Romanos 12:2",text:"No os conformeis a este siglo, sino transformaos por medio de la renovacion de vuestro entendimiento."},{ref:"Salmos 91:1-2",text:"El que habita al abrigo del Altisimo morara bajo la sombra del Omnipotente. Dire yo a Jehova: Esperanza mia, y castillo mio; mi Dios, en quien confiare."},{ref:"Galatas 5:22-23",text:"Mas el fruto del Espiritu es amor, gozo, paz, paciencia, benignidad, bondad, fe, mansedumbre, templanza."},{ref:"1 Corintios 13:4-5",text:"El amor es sufrido, es benigno; el amor no tiene envidia, el amor no es jactancioso, no se envanece."},{ref:"Efesios 2:8-9",text:"Porque por gracia sois salvos por medio de la fe; y esto no de vosotros, pues es don de Dios; no por obras, para que nadie se glorie."},{ref:"Salmos 34:8",text:"Gustad, y ved que es bueno Jehova; dichoso el hombre que confia en el."},{ref:"Miqueas 6:8",text:"Oh hombre, el te ha declarado lo que es bueno, y que pide Jehova de ti: solamente hacer justicia, y amar misericordia, y humillarte ante tu Dios."},{ref:"Santiago 1:5",text:"Y si alguno de vosotros tiene falta de sabiduria, pidala a Dios, el cual da a todos abundantemente y sin reproche, y le sera dada."},{ref:"Deuteronomio 31:6",text:"Esforzaos y cobrad animo; no temais, ni tengais miedo de ellos, porque Jehova tu Dios es el que va contigo; no te dejara, ni te desamparara."},{ref:"Salmos 27:1",text:"Jehova es mi luz y mi salvacion; de quien temere? Jehova es la fortaleza de mi vida; de quien he de atemorizarme?"},{ref:"1 Pedro 5:7",text:"Echando toda vuestra ansiedad sobre el, porque el tiene cuidado de vosotros."},{ref:"Apocalipsis 21:4",text:"Enjugara Dios toda lagrima de los ojos de ellos; y ya no habra muerte, ni habra mas llanto, ni clamor, ni dolor."},{ref:"Salmos 139:14",text:"Te alabare; porque formidables, maravillosas son tus obras; estoy maravillado, y mi alma lo sabe muy bien."},{ref:"Proverbios 16:3",text:"Encomienda a Jehova tus obras, y tus pensamientos seran afirmados."},{ref:"Habacuc 3:19",text:"Jehova el Senor es mi fortaleza, el cual hace mis pies como de ciervas, y en mis alturas me hace andar."},{ref:"Salmos 121:1-2",text:"Alzare mis ojos a los montes; de donde vendra mi socorro? Mi socorro viene de Jehova, que hizo los cielos y la tierra."}];function Xq(){const e=new Date,t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),n=r1[t%r1.length];return r.jsx(ce,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:r.jsx(pe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nn,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-primary uppercase tracking-wide mb-1",children:"Versiculo del Dia"}),r.jsxs("p",{className:"text-sm italic leading-relaxed",children:["",n.text,""]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1 font-medium",children:n.ref})]})]})})})}function Jq(){const{user:e}=an();rt();const[t,n]=h.useState("Genesis"),[s,i]=h.useState(1),[o,u]=h.useState([]),[c,f]=h.useState(!1),[m,p]=h.useState(null),[x,v]=h.useState(null),[b,S]=h.useState("#FFA500"),[w,N]=h.useState(""),[E,C]=h.useState(!1),[P,k]=h.useState(!1),T=Zq[t]||1,{data:R=[]}=$7(t,s),{data:A=[]}=z7(t,s),B=L7(),Z=F7(),$=V7(),re=U7();h.useEffect(()=>{(async()=>{f(!0),p(null);try{const z=Gq[t]||t.toLowerCase(),J=await fetch(`https://bible-api.deno.dev/api/read/rv1960/${z}/${s}`);if(!J.ok)throw new Error("Error al cargar texto biblico");const I=await J.json();I.vers&&Array.isArray(I.vers)?u(I.vers.map(ee=>({verse:ee.number||ee.verse,text:ee.verse||ee.text||""}))):Array.isArray(I)?u(I.map(ee=>({verse:ee.number||ee.verse||0,text:ee.text||ee.verse||""}))):u([])}catch{p("No se pudo cargar el texto. Intente de nuevo."),u([])}finally{f(!1)}})()},[t,s]);const H=L=>R.find(z=>L>=z.verseStart&&L<=z.verseEnd),ie=L=>A.filter(z=>z.verse===L),Y=L=>{if(!e?.isActive)return;const z=H(L);z?Z.mutate(z.id):B.mutate({book:t,chapter:s,verseStart:L,verseEnd:L,color:b})},ve=()=>{!x||!w.trim()||!e?.isActive||($.mutate({book:t,chapter:s,verse:x,content:w.trim()}),N(""),C(!1),v(null))},W=()=>{s>1&&(i(s-1),v(null))},he=()=>{s<T&&(i(s+1),v(null))};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Xq,{}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(ur,{open:P,onOpenChange:k,children:[r.jsx(DE,{asChild:!0,children:r.jsxs(D,{variant:"outline","data-testid":"button-select-book",children:[r.jsx(Nn,{className:"w-4 h-4 mr-2"}),t]})}),r.jsxs(er,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[r.jsx(tr,{children:r.jsx(nr,{children:"Seleccionar Libro"})}),r.jsx("div",{className:"grid grid-cols-2 gap-1",children:fv.map(L=>r.jsx(D,{variant:t===L?"default":"ghost",size:"sm",className:"justify-start",onClick:()=>{n(L),i(1),k(!1),v(null)},"data-testid":`button-book-${L}`,children:L},L))})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(D,{variant:"ghost",size:"icon",onClick:W,disabled:s<=1,"data-testid":"button-prev-chapter",children:r.jsx(kl,{className:"w-4 h-4"})}),r.jsxs(vn,{value:String(s),onValueChange:L=>{i(parseInt(L)),v(null)},children:[r.jsx(hn,{className:"w-20","data-testid":"select-chapter",children:r.jsx(yn,{})}),r.jsx(pn,{className:"max-h-60",children:Array.from({length:T},(L,z)=>r.jsx(pt,{value:String(z+1),children:z+1},z+1))})]}),r.jsx(D,{variant:"ghost",size:"icon",onClick:he,disabled:s>=T,"data-testid":"button-next-chapter",children:r.jsx(xo,{className:"w-4 h-4"})})]}),e?.isActive&&r.jsx("div",{className:"flex items-center gap-1 ml-auto",children:Object.entries(t$).map(([L,z])=>r.jsx("button",{className:`w-6 h-6 rounded-full border-2 transition-transform ${b===L?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:L},onClick:()=>S(L),title:z,"data-testid":`button-color-${z.toLowerCase()}`},L))})]}),r.jsx(ce,{children:r.jsxs(pe,{className:"p-4 md:p-6",children:[r.jsxs("h2",{className:"text-xl font-bold mb-4","data-testid":"text-bible-heading",children:[t," ",s]}),c?r.jsx("div",{className:"space-y-2",children:Array.from({length:10},(L,z)=>r.jsx(ku,{className:"h-5 w-full"},z))}):m?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:m}):o.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No se encontro texto para este capitulo. Intente seleccionar otro libro o capitulo."}):r.jsx("div",{className:"space-y-1 leading-relaxed text-base",children:o.map(L=>{const z=H(L.verse),J=ie(L.verse),I=x===L.verse;return r.jsxs("span",{className:`inline cursor-pointer transition-colors rounded-sm px-0.5 ${I?"ring-2 ring-primary":""}`,style:z?{backgroundColor:z.color+"40"}:void 0,onClick:()=>{v(I?null:L.verse),C(!1)},"data-testid":`verse-${L.verse}`,children:[r.jsx("sup",{className:"text-xs font-bold text-muted-foreground mr-0.5",children:L.verse}),L.text," ",J.length>0&&r.jsx(xb,{className:"inline w-3 h-3 text-primary"})]},L.verse)})})]})}),x!==null&&e?.isActive&&r.jsx(ce,{children:r.jsxs(pe,{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[r.jsxs("p",{className:"font-medium text-sm",children:[t," ",s,":",x]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>Y(x),"data-testid":"button-toggle-highlight",children:[r.jsx(wR,{className:"w-4 h-4 mr-1"}),H(x)?"Quitar resaltado":"Resaltar"]}),r.jsxs(D,{size:"sm",variant:"outline",onClick:()=>C(!E),"data-testid":"button-add-note",children:[r.jsx(xb,{className:"w-4 h-4 mr-1"}),"Nota"]})]})]}),E&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(bn,{placeholder:"Escribe tu nota...",value:w,onChange:L=>N(L.target.value),"data-testid":"input-note-text"}),r.jsx(D,{size:"sm",onClick:ve,disabled:!w.trim(),"data-testid":"button-save-note",children:"Guardar Nota"})]}),ie(x).map(L=>r.jsxs("div",{className:"flex items-start justify-between gap-2 p-2 rounded-md bg-muted/50",children:[r.jsx("p",{className:"text-sm",children:L.content}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>re.mutate(L.id),"data-testid":`button-delete-note-${L.id}`,children:r.jsx(An,{className:"w-4 h-4 text-destructive"})})]},L.id))]})})]})}function Yq(){const{user:e}=an(),{toast:t}=rt(),[n,s]=h.useState(!1),[i,o]=h.useState(null),[u,c]=h.useState(!1),[f,m]=h.useState(""),[p,x]=h.useState(""),[v,b]=h.useState(!1),[S,w]=h.useState("Genesis"),[N,E]=h.useState("1"),[C,P]=h.useState("1"),{data:k=[],isLoading:T}=B7(n),{data:R}=q7(i||0),A=H7(),B=W7(),Z=K7(),$=Q7(),re=()=>{f.trim()&&A.mutate({title:f.trim(),description:p.trim()||null,isPublic:v},{onSuccess:W=>{m(""),x(""),b(!1),c(!1),o(W.id)}})},H=()=>{if(!i)return;const W=parseInt(N)||1,he=parseInt(C)||W;for(let L=W;L<=he;L++)Z.mutate({planId:i,data:{book:S,chapter:L,sortOrder:(R?.items?.length||0)+L-W}});t({title:"Lecturas agregadas"})},ie=R?.items?.filter(W=>W.isCompleted).length||0,Y=R?.items?.length||0,ve=Y>0?Math.round(ie/Y*100):0;return i&&R?r.jsxs("div",{className:"space-y-4",children:[r.jsxs(D,{variant:"ghost",onClick:()=>o(null),"data-testid":"button-back-plans",children:[r.jsx(kl,{className:"w-4 h-4 mr-1"})," Volver a Planes"]}),r.jsxs(ce,{children:[r.jsxs(Qe,{children:[r.jsx(He,{children:R.title}),R.description&&r.jsx(wt,{children:R.description})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Progreso: ",ie,"/",Y]}),r.jsxs("span",{className:"text-sm font-medium",children:[ve,"%"]})]}),r.jsx(Cl,{value:ve,"data-testid":"progress-reading-plan"})]}),R.userId===e?.id&&r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(vn,{value:S,onValueChange:w,children:[r.jsx(hn,{className:"w-40","data-testid":"select-plan-book",children:r.jsx(yn,{})}),r.jsx(pn,{className:"max-h-60",children:fv.map(W=>r.jsx(pt,{value:W,children:W},W))})]}),r.jsx(Le,{className:"w-20",placeholder:"Del",value:N,onChange:W=>E(W.target.value),"data-testid":"input-chapter-start"}),r.jsx(Le,{className:"w-20",placeholder:"Al",value:C,onChange:W=>P(W.target.value),"data-testid":"input-chapter-end"}),r.jsxs(D,{size:"sm",onClick:H,"data-testid":"button-add-reading",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar"]})]}),r.jsxs("div",{className:"space-y-1",children:[(R.items||[]).map(W=>r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md hover-elevate","data-testid":`reading-item-${W.id}`,children:[R.userId===e?.id&&r.jsx(kx,{checked:W.isCompleted,onCheckedChange:()=>$.mutate({id:W.id,planId:i}),"data-testid":`checkbox-item-${W.id}`}),r.jsxs("span",{className:`text-sm flex-1 ${W.isCompleted?"line-through text-muted-foreground":""}`,children:[W.book," ",W.chapter]}),W.isCompleted&&r.jsx(xm,{className:"w-4 h-4 text-green-500"})]},W.id)),Y===0&&r.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:"Agrega capitulos a tu plan de lectura usando el formulario de arriba."})]})]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(D,{variant:n?"outline":"default",size:"sm",onClick:()=>s(!1),"data-testid":"button-my-plans",children:"Mis Planes"}),r.jsx(D,{variant:n?"default":"outline",size:"sm",onClick:()=>s(!0),"data-testid":"button-public-plans",children:"Planes Compartidos"})]}),e?.isActive&&r.jsxs(D,{size:"sm",onClick:()=>c(!0),"data-testid":"button-create-plan",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Nuevo Plan"]})]}),u&&r.jsx(ce,{children:r.jsxs(pe,{className:"p-4 space-y-3",children:[r.jsx(Le,{placeholder:"Titulo del plan",value:f,onChange:W=>m(W.target.value),"data-testid":"input-plan-title"}),r.jsx(bn,{placeholder:"Descripcion (opcional)",value:p,onChange:W=>x(W.target.value),"data-testid":"input-plan-description"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kx,{checked:v,onCheckedChange:W=>b(!!W),"data-testid":"checkbox-plan-public"}),r.jsx(Ke,{className:"text-sm",children:"Compartir con la comunidad"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(D,{size:"sm",onClick:re,disabled:!f.trim(),"data-testid":"button-save-plan",children:"Crear Plan"}),r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>c(!1),"data-testid":"button-cancel-plan",children:"Cancelar"})]})]})}),T?r.jsx("div",{className:"space-y-2",children:Array.from({length:3},(W,he)=>r.jsx(ku,{className:"h-20 w-full"},he))}):k.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"p-8 text-center",children:[r.jsx(lN,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:n?"No hay planes compartidos aun.":"No tienes planes de lectura. Crea uno para comenzar."})]})}):r.jsx("div",{className:"grid gap-3",children:k.map(W=>r.jsx(ce,{className:"hover-elevate cursor-pointer",onClick:()=>o(W.id),"data-testid":`card-plan-${W.id}`,children:r.jsx(pe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:W.title}),W.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),W.user&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Por ",W.user.displayName||W.user.username]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[W.isPublic&&r.jsx(ye,{variant:"secondary",children:"Compartido"}),W.userId===e?.id&&r.jsx(D,{variant:"ghost",size:"icon",onClick:he=>{he.stopPropagation(),B.mutate(W.id)},"data-testid":`button-delete-plan-${W.id}`,children:r.jsx(An,{className:"w-4 h-4 text-destructive"})})]})]})})},W.id))})]})}function eH(){const{user:e}=an(),[t,n]=h.useState(""),[s,i]=h.useState(""),[o,u]=h.useState(""),[c,f]=h.useState(""),[m,p]=h.useState(null),{data:x=[],isLoading:v}=G7(),b=Z7(),{data:S=[]}=Y7(),w=e9(),{data:N}=XE(),E=()=>{t.trim()&&b.mutate({content:t.trim(),book:s&&s!=="none"?s:"",chapter:o?parseInt(o):0,verseStart:c?parseInt(c):null,verseEnd:null},{onSuccess:()=>{n(""),i(""),u(""),f("")}})};return r.jsxs("div",{className:"space-y-4",children:[N?.link&&r.jsx(ce,{className:"border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-950/20",children:r.jsx(pe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx(xx,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:"Grupo de WhatsApp del Club de Lectura"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Unete a nuestro grupo para compartir reflexiones y estar al dia con las lecturas."})]}),r.jsxs(D,{size:"sm",variant:"outline",className:"border-green-300 dark:border-green-700",onClick:()=>window.open(N.link,"_blank"),"data-testid":"button-join-whatsapp",children:[r.jsx(xx,{className:"w-4 h-4 mr-1 text-green-500"})," Unirse al Grupo"]})]})})}),e?.isActive&&r.jsx(ce,{children:r.jsxs(pe,{className:"p-4 space-y-3",children:[r.jsx(bn,{placeholder:"Comparte una reflexion biblica con la comunidad...",value:t,onChange:C=>n(C.target.value),"data-testid":"input-club-post"}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(vn,{value:s,onValueChange:i,children:[r.jsx(hn,{className:"w-40","data-testid":"select-ref-book",children:r.jsx(yn,{placeholder:"Libro (opc.)"})}),r.jsxs(pn,{className:"max-h-60",children:[r.jsx(pt,{value:"none",children:"Sin referencia"}),fv.map(C=>r.jsx(pt,{value:C,children:C},C))]})]}),s&&s!=="none"&&r.jsxs(r.Fragment,{children:[r.jsx(Le,{className:"w-20",placeholder:"Cap.",value:o,onChange:C=>u(C.target.value),"data-testid":"input-ref-chapter"}),r.jsx(Le,{className:"w-20",placeholder:"Vers.",value:c,onChange:C=>f(C.target.value),"data-testid":"input-ref-verse"})]}),r.jsxs(D,{size:"sm",className:"ml-auto",onClick:E,disabled:!t.trim()||b.isPending,"data-testid":"button-post-reflection",children:[r.jsx(ym,{className:"w-4 h-4 mr-1"})," Publicar"]})]})]})}),v?r.jsx("div",{className:"space-y-2",children:Array.from({length:3},(C,P)=>r.jsx(ku,{className:"h-24 w-full"},P))}):x.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"p-8 text-center",children:[r.jsx(rr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay reflexiones aun. Se el primero en compartir."})]})}):r.jsx("div",{className:"space-y-3",children:x.map(C=>r.jsx(ce,{"data-testid":`card-club-post-${C.id}`,children:r.jsxs(pe,{className:"p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs(mr,{className:"h-8 w-8",children:[C.user.avatarUrl&&r.jsx(ds,{src:C.user.avatarUrl}),r.jsx(hr,{className:"text-xs bg-primary/10 text-primary",children:(C.user.displayName||C.user.username).slice(0,2).toUpperCase()})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm",children:C.user.displayName||C.user.username}),C.user.cargo&&r.jsx(ye,{variant:"outline",className:"text-[10px] py-0",children:C.user.cargo}),C.user.country&&r.jsx("span",{className:"text-[10px] text-muted-foreground",children:C.user.country}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.createdAt).toLocaleDateString("es")})]}),C.book&&r.jsxs(ye,{variant:"secondary",className:"mt-1",children:[C.book," ",C.chapter?`${C.chapter}`:"",C.verseStart?`:${C.verseStart}`:""]}),r.jsx("p",{className:"mt-2 text-sm whitespace-pre-wrap",children:C.content})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>w.mutate(C.id),disabled:w.isPending,"data-testid":`button-like-${C.id}`,children:[r.jsx(li,{className:`w-4 h-4 mr-1 ${S.includes(C.id)?"fill-red-500 text-red-500":""}`}),C.likeCount||0]}),r.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>p(m===C.id?null:C.id),"data-testid":`button-comments-${C.id}`,children:[r.jsx(SR,{className:"w-4 h-4 mr-1"}),C.commentCount," comentario",C.commentCount!==1?"s":""]})]}),m===C.id&&r.jsx(tH,{postId:C.id})]})},C.id))})]})}function tH({postId:e}){const{user:t}=an(),[n,s]=h.useState(""),{data:i=[],isLoading:o}=X7(e),u=J7(),c=()=>{n.trim()&&u.mutate({postId:e,content:n.trim()},{onSuccess:()=>s("")})};return r.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-muted",children:[o?r.jsx(ku,{className:"h-12 w-full"}):i.map(f=>r.jsxs("div",{className:"flex items-start gap-2","data-testid":`comment-${f.id}`,children:[r.jsxs(mr,{className:"h-6 w-6",children:[f.user.avatarUrl&&r.jsx(ds,{src:f.user.avatarUrl}),r.jsx(hr,{className:"text-xs bg-primary/10 text-primary",children:(f.user.displayName||f.user.username).slice(0,2).toUpperCase()})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs font-medium",children:f.user.displayName||f.user.username}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString("es")})]}),r.jsx("p",{className:"text-sm",children:f.content})]})]},f.id)),t?.isActive&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Le,{placeholder:"Escribe un comentario...",value:n,onChange:f=>s(f.target.value),onKeyDown:f=>f.key==="Enter"&&c(),"data-testid":`input-comment-${e}`}),r.jsx(D,{size:"icon",onClick:c,disabled:!n.trim(),"data-testid":`button-send-comment-${e}`,children:r.jsx(ym,{className:"w-4 h-4"})})]})]})}function nH(){const{user:e}=an();rt();const[t,n]=h.useState("all"),[s,i]=h.useState(""),[o,u]=h.useState(!1),[c,f]=h.useState(""),[m,p]=h.useState(""),[x,v]=h.useState("general"),[b,S]=h.useState(""),{data:w=[],isLoading:N}=r9(t,s),E=s9(),C=i9(),P=a9(),k=()=>{!c.trim()||!b.trim()||E.mutate({title:c.trim(),description:m.trim()||null,resourceType:"enlace",fileUrl:b.trim(),fileName:null,fileSize:null,fileData:null,category:x},{onSuccess:()=>{f(""),p(""),S(""),v("general"),u(!1)}})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("div",{className:"relative flex-1 min-w-48",children:[r.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(Le,{className:"pl-9",placeholder:"Buscar recursos...",value:s,onChange:T=>i(T.target.value),"data-testid":"input-search-resources"})]}),r.jsxs(vn,{value:t,onValueChange:n,children:[r.jsx(hn,{className:"w-40","data-testid":"select-resource-category",children:r.jsx(yn,{})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"all",children:"Todas"}),Object.entries(ng).map(([T,R])=>r.jsx(pt,{value:T,children:R},T))]})]}),e?.isActive&&r.jsxs(D,{size:"sm",onClick:()=>u(!o),"data-testid":"button-share-resource",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Compartir Recurso"]})]}),o&&r.jsx(ce,{children:r.jsxs(pe,{className:"p-4 space-y-3",children:[r.jsx(Le,{placeholder:"Titulo del recurso",value:c,onChange:T=>f(T.target.value),"data-testid":"input-resource-title"}),r.jsx(bn,{placeholder:"Descripcion (opcional)",value:m,onChange:T=>p(T.target.value),"data-testid":"input-resource-description"}),r.jsx(Le,{placeholder:"URL del recurso (enlace a PDF, video, etc.)",value:b,onChange:T=>S(T.target.value),"data-testid":"input-resource-url"}),r.jsxs(vn,{value:x,onValueChange:v,children:[r.jsx(hn,{"data-testid":"select-new-resource-category",children:r.jsx(yn,{})}),r.jsx(pn,{children:Object.entries(ng).map(([T,R])=>r.jsx(pt,{value:T,children:R},T))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(D,{size:"sm",onClick:k,disabled:!c.trim()||!b.trim(),"data-testid":"button-submit-resource",children:"Compartir"}),r.jsx(D,{size:"sm",variant:"ghost",onClick:()=>u(!1),"data-testid":"button-cancel-resource",children:"Cancelar"})]})]})}),N?r.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Array.from({length:4},(T,R)=>r.jsx(ku,{className:"h-32"},R))}):w.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"p-8 text-center",children:[r.jsx(ls,{className:"w-12 h-12 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No se encontraron recursos. Se el primero en compartir material educativo."})]})}):r.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:w.map(T=>r.jsx(ce,{"data-testid":`card-resource-${T.id}`,children:r.jsxs(pe,{className:"p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-medium truncate",children:T.title}),T.description&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:T.description})]}),r.jsx(ye,{variant:"secondary",children:ng[T.category]||T.category})]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Por ",T.user.displayName||T.user.username," - ",new Date(T.createdAt).toLocaleDateString("es")]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>P.mutate(T.id),"data-testid":`button-like-${T.id}`,children:[r.jsx(li,{className:`w-4 h-4 mr-1 ${T.isLiked?"fill-red-500 text-red-500":""}`}),T.likeCount]}),T.fileUrl&&r.jsx(D,{variant:"ghost",size:"sm",asChild:!0,children:r.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noopener noreferrer","data-testid":`link-resource-${T.id}`,children:[r.jsx(xR,{className:"w-4 h-4 mr-1"})," Ver"]})}),(e?.role==="admin"||T.userId===e?.id)&&r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>C.mutate(T.id),"data-testid":`button-delete-resource-${T.id}`,children:r.jsx(An,{className:"w-4 h-4 text-destructive"})})]})]})]})},T.id))})]})}function rH(){const{user:e}=an(),[t,n]=h.useState("biblia");return e?e.isActive?r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3","data-testid":"text-biblioteca-title",children:[r.jsx(Oc,{className:"w-8 h-8 text-primary"}),"Biblioteca"]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Estudia la Biblia, crea planes de lectura, comparte reflexiones y recursos con la comunidad."})]}),r.jsxs(Dl,{value:t,onValueChange:n,children:[r.jsxs(So,{className:"grid w-full grid-cols-4",children:[r.jsxs(Ht,{value:"biblia","data-testid":"tab-biblia",children:[r.jsx(Nn,{className:"w-4 h-4 mr-1 hidden sm:inline"})," Biblia"]}),r.jsxs(Ht,{value:"planes","data-testid":"tab-planes",children:[r.jsx(lN,{className:"w-4 h-4 mr-1 hidden sm:inline"})," Planes"]}),r.jsxs(Ht,{value:"club","data-testid":"tab-club",children:[r.jsx(rr,{className:"w-4 h-4 mr-1 hidden sm:inline"})," Club"]}),r.jsxs(Ht,{value:"recursos","data-testid":"tab-recursos",children:[r.jsx(ls,{className:"w-4 h-4 mr-1 hidden sm:inline"})," Recursos"]})]}),r.jsx(Wt,{value:"biblia",className:"mt-4",children:r.jsx(Jq,{})}),r.jsx(Wt,{value:"planes",className:"mt-4",children:r.jsx(Yq,{})}),r.jsx(Wt,{value:"club",className:"mt-4",children:r.jsx(eH,{})}),r.jsx(Wt,{value:"recursos",className:"mt-4",children:r.jsx(nH,{})})]})]})}):r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:[r.jsx(Oc,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Biblioteca"}),r.jsx("p",{className:"text-muted-foreground",children:"Tu cuenta esta pendiente de aprobacion. Una vez aprobada, podras acceder a todos los recursos de la biblioteca."})]})}):r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 text-center",children:[r.jsx(Oc,{className:"w-16 h-16 mx-auto text-primary mb-4"}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Biblioteca"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Inicia sesion para acceder a la Biblia de estudio, planes de lectura, club de lectura y recursos compartidos."}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx(lt,{href:"/login",children:r.jsx(D,{variant:"outline","data-testid":"link-login-biblioteca",children:"Iniciar Sesion"})}),r.jsx(lt,{href:"/registro",children:r.jsx(D,{"data-testid":"link-register-biblioteca",children:"Unirse"})})]})]})})}const sH=G.object({title:G.string().min(3,"Minimo 3 caracteres"),description:G.string().optional(),meetingUrl:G.string().url("URL invalida").optional().or(G.literal("")),meetingPlatform:G.string().default("zoom"),scheduledDate:G.string().optional()});function iH(){const{user:e}=an(),{toast:t}=rt(),[n,s]=h.useState(!1),{data:i=[],isLoading:o}=vt({queryKey:["/api/prayer-activities"]}),u=Cu({resolver:Pu(sH),defaultValues:{title:"",description:"",meetingUrl:"",meetingPlatform:"zoom",scheduledDate:""}}),c=De({mutationFn:async p=>{const x={...p};return x.scheduledDate?x.scheduledDate=new Date(x.scheduledDate).toISOString():delete x.scheduledDate,x.meetingUrl||delete x.meetingUrl,x.description||delete x.description,(await sn("POST","/api/prayer-activities",x)).json()},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/prayer-activities"]}),t({title:"Actividad creada",description:"La actividad de oracion ha sido publicada."}),u.reset(),s(!1)},onError:()=>{t({title:"Error",description:"No se pudo crear la actividad.",variant:"destructive"})}}),f=De({mutationFn:async p=>{await sn("DELETE",`/api/prayer-activities/${p}`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/prayer-activities"]}),t({title:"Eliminada",description:"La actividad ha sido eliminada."})}});function m(p){switch(p){case"zoom":return"Zoom";case"google_meet":return"Google Meet";case"youtube":return"YouTube Live";case"facebook":return"Facebook Live";default:return"Enlace"}}return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-oracion-title",children:"Oracion"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Actividades de oracion, reuniones y enlaces en vivo"})]}),e&&r.jsxs(ur,{open:n,onOpenChange:s,children:[r.jsx(DE,{asChild:!0,children:r.jsxs(D,{"data-testid":"button-create-prayer",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Nueva Actividad"]})}),r.jsxs(er,{className:"max-w-md",children:[r.jsxs(tr,{children:[r.jsx(nr,{children:"Crear Actividad de Oracion"}),r.jsx(io,{children:"Comparte una actividad de oracion con la comunidad."})]}),r.jsx(Eu,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(p=>c.mutate(p)),className:"space-y-4",children:[r.jsx(mn,{control:u.control,name:"title",render:({field:p})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Titulo"}),r.jsx(nn,{children:r.jsx(Le,{placeholder:"Vigilia de oracion...",...p,"data-testid":"input-prayer-title"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:u.control,name:"description",render:({field:p})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Descripcion"}),r.jsx(nn,{children:r.jsx(bn,{placeholder:"Detalles de la actividad...",className:"resize-none",...p,"data-testid":"input-prayer-description"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:u.control,name:"meetingPlatform",render:({field:p})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Plataforma"}),r.jsxs(vn,{onValueChange:p.onChange,defaultValue:p.value,children:[r.jsx(nn,{children:r.jsx(hn,{"data-testid":"select-prayer-platform",children:r.jsx(yn,{})})}),r.jsxs(pn,{children:[r.jsx(pt,{value:"zoom",children:"Zoom"}),r.jsx(pt,{value:"google_meet",children:"Google Meet"}),r.jsx(pt,{value:"youtube",children:"YouTube Live"}),r.jsx(pt,{value:"facebook",children:"Facebook Live"}),r.jsx(pt,{value:"otro",children:"Otro"})]})]}),r.jsx(rn,{})]})}),r.jsx(mn,{control:u.control,name:"meetingUrl",render:({field:p})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Enlace de Reunion"}),r.jsx(nn,{children:r.jsx(Le,{type:"url",placeholder:"https://zoom.us/j/...",...p,"data-testid":"input-prayer-url"})}),r.jsx(rn,{})]})}),r.jsx(mn,{control:u.control,name:"scheduledDate",render:({field:p})=>r.jsxs(en,{children:[r.jsx(tn,{children:"Fecha y Hora"}),r.jsx(nn,{children:r.jsx(Le,{type:"datetime-local",...p,"data-testid":"input-prayer-date"})}),r.jsx(rn,{})]})}),r.jsxs(dr,{children:[r.jsx(o7,{asChild:!0,children:r.jsx(D,{variant:"outline",type:"button",children:"Cancelar"})}),r.jsxs(D,{type:"submit",disabled:c.isPending,"data-testid":"button-submit-prayer",children:[c.isPending&&r.jsx(ze,{className:"w-4 h-4 mr-1 animate-spin"}),"Publicar"]})]})]})})]})]})]}),o?r.jsx("div",{className:"flex justify-center py-16",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):i.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(rr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No hay actividades de oracion"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Se la primera persona en crear una actividad."})]})}):r.jsx("div",{className:"grid gap-4",children:i.map(p=>r.jsxs(ce,{"data-testid":`card-prayer-${p.id}`,children:[r.jsxs(Qe,{className:"flex flex-row items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx(He,{className:"text-lg",children:p.title}),p.isActive&&r.jsx(ye,{variant:"secondary",children:"Activa"})]}),r.jsxs(wt,{className:"flex flex-wrap items-center gap-2",children:[p.user&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsxs(mr,{className:"h-5 w-5",children:[p.user.avatarUrl&&r.jsx(ds,{src:p.user.avatarUrl}),r.jsx(hr,{className:"text-[10px]",children:(p.user.displayName||p.user.username).slice(0,2).toUpperCase()})]}),p.user.displayName||p.user.username]}),p.scheduledDate&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(fr,{className:"w-3 h-3"}),new Date(p.scheduledDate).toLocaleString("es")]})]})]}),e&&(e.role==="admin"||e.id===p.userId)&&r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>f.mutate(p.id),disabled:f.isPending,"data-testid":`button-delete-prayer-${p.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]}),(p.description||p.meetingUrl)&&r.jsxs(pe,{className:"space-y-3",children:[p.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:p.description}),p.meetingUrl&&r.jsx("a",{href:p.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(D,{variant:"outline",size:"sm","data-testid":`button-join-prayer-${p.id}`,children:[r.jsx(Ii,{className:"w-4 h-4 mr-1"}),"Unirse a ",m(p.meetingPlatform),r.jsx(vm,{className:"w-3 h-3 ml-1"})]})})]})]},p.id))})]})})}const aH={fuego:sr,oracion:li,amen:RR,corazon:li,alabanza:hu};function oH({postId:e,user:t}){const{data:n=[]}=vt({queryKey:["/api/region-posts",e,"reactions"],queryFn:async()=>{const i=await fetch(`/api/region-posts/${e}/reactions`,{credentials:"include"});return i.ok?i.json():[]}}),s=De({mutationFn:async i=>{await sn("POST",`/api/region-posts/${e}/reactions`,{reactionType:i})},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/region-posts",e,"reactions"]})}});return r.jsx("div",{className:"flex flex-wrap items-center gap-1 mt-2",children:Object.entries(q5).map(([i,o])=>{const u=aH[i],c=n.find(p=>p.reactionType===i),f=c?.count||0,m=t&&c?.users?.includes(t.username);return r.jsxs(D,{variant:"ghost",size:"sm",className:`gap-1 toggle-elevate ${m?"toggle-elevated":""}`,onClick:()=>t&&s.mutate(i),disabled:!t||s.isPending,"data-testid":`button-reaction-${i}-${e}`,title:o,children:[r.jsx(u,{className:`w-4 h-4 ${m?"text-primary":""}`}),f>0&&r.jsx("span",{className:"text-xs",children:f})]},i)})})}function lH({postId:e,user:t}){const{data:n}=vt({queryKey:["/api/region-posts",e,"poll"],queryFn:async()=>{const c=await fetch(`/api/region-posts/${e}/poll`,{credentials:"include"});return c.ok?c.json():{poll:null,options:[]}}}),{data:s}=vt({queryKey:["/api/region-posts",e,"my-vote"],queryFn:async()=>{const c=await fetch(`/api/region-posts/${e}/my-vote`,{credentials:"include"});return c.ok?c.json():{optionId:null}},enabled:!!t}),i=De({mutationFn:async c=>{await sn("POST",`/api/region-polls/${c}/vote`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/region-posts",e,"poll"]}),Bt.invalidateQueries({queryKey:["/api/region-posts",e,"my-vote"]})}});if(!n?.poll)return null;const o=n.options.reduce((c,f)=>c+(f.voteCount||0),0),u=s?.optionId!=null;return r.jsx(ce,{className:"mt-3",children:r.jsxs(pe,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(fR,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium",children:n.poll.question})]}),r.jsx("div",{className:"space-y-2",children:n.options.map(c=>{const f=o>0?Math.round(c.voteCount/o*100):0,m=s?.optionId===c.id;return r.jsxs("button",{className:`w-full text-left rounded-md border p-2 text-sm relative overflow-hidden transition-colors ${m?"border-primary":"border-border"} ${!u&&t?"hover-elevate cursor-pointer":"cursor-default"}`,onClick:()=>{!u&&t&&i.mutate(c.id)},disabled:u||!t||i.isPending,"data-testid":`button-poll-option-${c.id}`,children:[u&&r.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary/10 transition-all",style:{width:`${f}%`}}),r.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[r.jsx("span",{children:c.optionText}),u&&r.jsxs("span",{className:"text-xs text-muted-foreground font-medium shrink-0",children:[f,"% (",c.voteCount,")"]})]})]},c.id)})}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[o," ",o===1?"voto":"votos"]})]})})}function cH(){const{toast:e}=rt(),[t,n]=h.useState(!1),[s,i]=h.useState(null),[o,u]=h.useState(""),[c,f]=h.useState(""),{data:m=[]}=vt({queryKey:["/api/ministry-regions"]}),p=De({mutationFn:async b=>{await sn("POST","/api/ministry-regions",{name:b})},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/ministry-regions"]}),u(""),n(!1),e({title:"Region creada",description:"La region ha sido creada exitosamente."})},onError:()=>{e({title:"Error",description:"No se pudo crear la region.",variant:"destructive"})}}),x=De({mutationFn:async({id:b,data:S})=>{await sn("PATCH",`/api/ministry-regions/${b}`,S)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/ministry-regions"]}),i(null),e({title:"Region actualizada",description:"La region ha sido actualizada."})},onError:()=>{e({title:"Error",description:"No se pudo actualizar la region.",variant:"destructive"})}}),v=De({mutationFn:async b=>{await sn("DELETE",`/api/ministry-regions/${b}`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/ministry-regions"]}),e({title:"Region eliminada",description:"La region ha sido eliminada."})},onError:()=>{e({title:"Error",description:"No se pudo eliminar la region.",variant:"destructive"})}});return r.jsxs(r.Fragment,{children:[r.jsxs(ce,{className:"mb-6",children:[r.jsxs(Qe,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-base",children:"Gestionar Regiones"}),r.jsx(wt,{className:"text-sm",children:"Agregar, editar o desactivar regiones del ministerio"})]}),r.jsxs(D,{size:"sm",onClick:()=>n(!0),"data-testid":"button-add-region",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Nueva Region"]})]}),r.jsx(pe,{children:r.jsxs("div",{className:"space-y-2",children:[m.map(b=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 border rounded-md","data-testid":`region-item-${b.id}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oi,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium text-sm",children:b.name}),r.jsx(ye,{variant:b.isActive?"default":"secondary",className:"text-xs",children:b.isActive?"Activa":"Inactiva"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[r.jsx(Sl,{checked:b.isActive,onCheckedChange:S=>x.mutate({id:b.id,data:{isActive:S}}),disabled:x.isPending,"data-testid":`switch-region-active-${b.id}`}),r.jsx(Ke,{className:"text-xs text-muted-foreground",children:b.isActive?"Activa":"Inactiva"})]}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>{i(b),f(b.name)},"data-testid":`button-edit-region-${b.id}`,children:r.jsx(Js,{className:"w-4 h-4"})}),r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>v.mutate(b.id),disabled:v.isPending,"data-testid":`button-delete-region-${b.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]})]},b.id)),m.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay regiones configuradas."})]})})]}),r.jsx(ur,{open:t,onOpenChange:n,children:r.jsxs(er,{children:[r.jsxs(tr,{children:[r.jsx(nr,{children:"Nueva Region"}),r.jsx(io,{children:"Ingresa el nombre de la nueva region del ministerio."})]}),r.jsx(Le,{placeholder:"Nombre de la region",value:o,onChange:b=>u(b.target.value),"data-testid":"input-new-region-name"}),r.jsxs(dr,{children:[r.jsx(D,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-add-region",children:"Cancelar"}),r.jsxs(D,{onClick:()=>{o.trim()&&p.mutate(o.trim())},disabled:!o.trim()||p.isPending,"data-testid":"button-confirm-add-region",children:[p.isPending&&r.jsx(ze,{className:"w-4 h-4 mr-1 animate-spin"}),"Crear Region"]})]})]})}),r.jsx(ur,{open:!!s,onOpenChange:b=>{b||i(null)},children:r.jsxs(er,{children:[r.jsxs(tr,{children:[r.jsx(nr,{children:"Editar Region"}),r.jsx(io,{children:"Modifica el nombre de la region."})]}),r.jsx(Le,{placeholder:"Nombre de la region",value:c,onChange:b=>f(b.target.value),"data-testid":"input-edit-region-name"}),r.jsxs(dr,{children:[r.jsx(D,{variant:"outline",onClick:()=>i(null),"data-testid":"button-cancel-edit-region",children:"Cancelar"}),r.jsxs(D,{onClick:()=>{s&&c.trim()&&x.mutate({id:s.id,data:{name:c.trim()}})},disabled:!c.trim()||x.isPending,"data-testid":"button-confirm-edit-region",children:[x.isPending&&r.jsx(ze,{className:"w-4 h-4 mr-1 animate-spin"}),"Guardar"]})]})]})})]})}function uH(){const{user:e}=an(),{toast:t}=rt(),[n,s]=h.useState(""),[i,o]=h.useState(!1),[u,c]=h.useState(""),[f,m]=h.useState(null),[p,x]=h.useState(null),[v,b]=h.useState(!1),[S,w]=h.useState(""),[N,E]=h.useState(["",""]),C=h.useRef(null),{data:P=[],isLoading:k}=vt({queryKey:["/api/ministry-regions"]}),T=P.filter(z=>z.isActive);h.useEffect(()=>{T.length>0&&!n&&s(T[0].name),T.length>0&&n&&!T.find(z=>z.name===n)&&s(T[0].name)},[T,n]);const{data:R=[],isLoading:A}=vt({queryKey:["/api/region-posts"]}),B=R.filter(z=>z.region===n);function Z(z){const J=z.target.files?.[0];if(!J)return;m(J);const I=new FileReader;I.onload=()=>x(I.result),I.readAsDataURL(J)}function $(){m(null),x(null),C.current&&(C.current.value="")}function re(){c(""),$(),b(!1),w(""),E(["",""])}const H=De({mutationFn:async()=>{let z=null;if(f){const ee=new FormData;ee.append("image",f);const Ae=await fetch("/api/upload/region-image",{method:"POST",body:ee,credentials:"include"});if(!Ae.ok)throw new Error("Error al subir imagen");z=(await Ae.json()).imageUrl}const I=await(await sn("POST","/api/region-posts",{region:n,content:u.trim(),imageUrl:z})).json();if(v&&S.trim()){const ee=N.filter(Ae=>Ae.trim());ee.length>=2&&await sn("POST",`/api/region-posts/${I.id}/poll`,{question:S.trim(),options:ee})}return I},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/region-posts"]}),re(),t({title:"Publicado",description:"Tu mensaje ha sido publicado en la region."})},onError:()=>{t({title:"Error",description:"No se pudo publicar el mensaje.",variant:"destructive"})}}),ie=De({mutationFn:async z=>{await sn("DELETE",`/api/region-posts/${z}`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/region-posts"]}),t({title:"Eliminado",description:"El mensaje ha sido eliminado."})}});function Y(z){z.preventDefault(),u.trim()&&H.mutate()}function ve(){N.length<6&&E([...N,""])}function W(z){N.length>2&&E(N.filter((J,I)=>I!==z))}function he(z,J){const I=[...N];I[z]=J,E(I)}const L=T.length<=2?"grid-cols-2":T.length===3?"grid-cols-3":T.length===4?"grid-cols-4":"grid-cols-3";return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-regiones-title",children:[r.jsx(Uc,{className:"w-8 h-8 text-primary"})," Regiones"]}),e?.role==="admin"&&r.jsxs(D,{variant:"outline",size:"sm",className:`toggle-elevate ${i?"toggle-elevated":""}`,onClick:()=>o(!i),"data-testid":"button-toggle-manage-regions",children:[r.jsx(pN,{className:"w-4 h-4 mr-1"}),"Gestionar Regiones"]})]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Muro de actividades por region del ministerio"})]}),i&&e?.role==="admin"&&r.jsx(cH,{}),k?r.jsx("div",{className:"flex justify-center py-16",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):T.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(Oi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No hay regiones activas"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:e?.role==="admin"?"Agrega regiones usando el boton 'Gestionar Regiones'.":"No hay regiones disponibles en este momento."})]})}):r.jsxs(Dl,{value:n,onValueChange:s,children:[r.jsx(So,{className:`w-full grid ${L} mb-6`,"data-testid":"tabs-regions",children:T.map(z=>r.jsxs(Ht,{value:z.name,"data-testid":`tab-region-${z.name.toLowerCase().replace(/\s/g,"-")}`,children:[r.jsx(Oi,{className:"w-4 h-4 mr-1"}),z.name]},z.id))}),T.map(z=>r.jsx(Wt,{value:z.name,children:r.jsxs("div",{className:"space-y-4",children:[e&&r.jsx(ce,{children:r.jsx(pe,{className:"pt-4",children:r.jsxs("form",{onSubmit:Y,className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs(mr,{className:"h-8 w-8 shrink-0 mt-1",children:[e.avatarUrl&&r.jsx(ds,{src:e.avatarUrl}),r.jsx(hr,{className:"text-xs bg-primary/10 text-primary",children:(e.displayName||e.username).slice(0,2).toUpperCase()})]}),r.jsx(bn,{value:u,onChange:J=>c(J.target.value),placeholder:`Comparte algo con la region ${z.name}...`,className:"resize-none flex-1","data-testid":"input-region-post"})]}),p&&r.jsxs("div",{className:"relative inline-block ml-11",children:[r.jsx("img",{src:p,alt:"Vista previa",className:"rounded-md max-h-40 object-cover"}),r.jsx(D,{type:"button",variant:"secondary",size:"icon",className:"absolute top-1 right-1",onClick:$,"data-testid":"button-clear-image",children:r.jsx(ro,{className:"w-4 h-4"})})]}),v&&r.jsxs("div",{className:"ml-11 space-y-2 p-3 border rounded-md",children:[r.jsx(Le,{placeholder:"Pregunta de la encuesta...",value:S,onChange:J=>w(J.target.value),"data-testid":"input-poll-question"}),N.map((J,I)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Le,{placeholder:`Opcion ${I+1}`,value:J,onChange:ee=>he(I,ee.target.value),"data-testid":`input-poll-option-${I}`}),N.length>2&&r.jsx(D,{type:"button",variant:"ghost",size:"icon",onClick:()=>W(I),"data-testid":`button-remove-poll-option-${I}`,children:r.jsx(ER,{className:"w-4 h-4"})})]},I)),N.length<6&&r.jsxs(D,{type:"button",variant:"outline",size:"sm",onClick:ve,"data-testid":"button-add-poll-option",children:[r.jsx($n,{className:"w-4 h-4 mr-1"})," Agregar opcion"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 ml-11",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:Z,"data-testid":"input-region-image"}),r.jsxs(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>C.current?.click(),"data-testid":"button-attach-image",children:[r.jsx(bR,{className:"w-4 h-4 mr-1"})," Imagen"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sl,{checked:v,onCheckedChange:b,"data-testid":"switch-toggle-poll"}),r.jsx(Ke,{className:"text-sm cursor-pointer",children:"Encuesta"})]})]}),r.jsxs(D,{type:"submit",size:"sm",disabled:H.isPending||!u.trim(),"data-testid":"button-submit-region-post",children:[H.isPending?r.jsx(ze,{className:"w-4 h-4 mr-1 animate-spin"}):r.jsx(ym,{className:"w-4 h-4 mr-1"}),"Publicar"]})]})]})})}),A?r.jsx("div",{className:"flex justify-center py-16",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})}):B.length===0?r.jsx(ce,{children:r.jsxs(pe,{className:"py-12 text-center",children:[r.jsx(Oi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsxs("p",{className:"text-lg font-medium",children:["Sin publicaciones en ",z.name]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Se la primera persona en compartir algo."})]})}):r.jsx("div",{className:"space-y-3",children:B.map(J=>r.jsx(ce,{"data-testid":`card-region-post-${J.id}`,children:r.jsx(pe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs(mr,{className:"h-8 w-8 shrink-0",children:[J.user?.avatarUrl&&r.jsx(ds,{src:J.user.avatarUrl}),r.jsx(hr,{className:"text-xs bg-primary/10 text-primary",children:(J.user?.displayName||J.user?.username||"?").slice(0,2).toUpperCase()})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium text-sm","data-testid":`text-post-author-${J.id}`,children:J.user?.displayName||J.user?.username}),r.jsx("span",{className:"text-xs text-muted-foreground","data-testid":`text-post-date-${J.id}`,children:new Date(J.createdAt).toLocaleDateString("es",{day:"numeric",month:"short",year:"numeric"})})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap","data-testid":`text-post-content-${J.id}`,children:J.content}),J.imageUrl&&r.jsx("img",{src:J.imageUrl,alt:"",className:"mt-2 rounded-md max-h-64 object-cover","data-testid":`img-post-image-${J.id}`}),r.jsx(oH,{postId:J.id,user:e}),r.jsx(lH,{postId:J.id,user:e})]}),e&&(e.role==="admin"||e.id===J.userId)&&r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>ie.mutate(J.id),disabled:ie.isPending,"data-testid":`button-delete-region-post-${J.id}`,children:r.jsx(An,{className:"w-4 h-4"})})]})})},J.id))})]})},z.id))]})]})})}function dH(e,t){return h.useReducer((n,s)=>t[n][s]??n,e)}var sy="ScrollArea",[VP]=fs(sy),[fH,ms]=VP(sy),UP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:o=600,...u}=e,[c,f]=h.useState(null),[m,p]=h.useState(null),[x,v]=h.useState(null),[b,S]=h.useState(null),[w,N]=h.useState(null),[E,C]=h.useState(0),[P,k]=h.useState(0),[T,R]=h.useState(!1),[A,B]=h.useState(!1),Z=Tt(t,re=>f(re)),$=Km(i);return r.jsx(fH,{scope:n,type:s,dir:$,scrollHideDelay:o,scrollArea:c,viewport:m,onViewportChange:p,content:x,onContentChange:v,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:A,onScrollbarYEnabledChange:B,onCornerWidthChange:C,onCornerHeightChange:k,children:r.jsx(St.div,{dir:$,...u,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})})});UP.displayName=sy;var BP="ScrollAreaViewport",qP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:i,...o}=e,u=ms(BP,n),c=h.useRef(null),f=Tt(t,c,u.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(St.div,{"data-radix-scroll-area-viewport":"",...o,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});qP.displayName=BP;var vi="ScrollAreaScrollbar",iy=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=ms(vi,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:u}=i,c=e.orientation==="horizontal";return h.useEffect(()=>(c?o(!0):u(!0),()=>{c?o(!1):u(!1)}),[c,o,u]),i.type==="hover"?r.jsx(mH,{...s,ref:t,forceMount:n}):i.type==="scroll"?r.jsx(hH,{...s,ref:t,forceMount:n}):i.type==="auto"?r.jsx(HP,{...s,ref:t,forceMount:n}):i.type==="always"?r.jsx(ay,{...s,ref:t}):null});iy.displayName=vi;var mH=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=ms(vi,e.__scopeScrollArea),[o,u]=h.useState(!1);return h.useEffect(()=>{const c=i.scrollArea;let f=0;if(c){const m=()=>{window.clearTimeout(f),u(!0)},p=()=>{f=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),r.jsx(Vi,{present:n||o,children:r.jsx(HP,{"data-state":o?"visible":"hidden",...s,ref:t})})}),hH=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=ms(vi,e.__scopeScrollArea),o=e.orientation==="horizontal",u=eh(()=>f("SCROLL_END"),100),[c,f]=dH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>f("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,i.scrollHideDelay,f]),h.useEffect(()=>{const m=i.viewport,p=o?"scrollLeft":"scrollTop";if(m){let x=m[p];const v=()=>{const b=m[p];x!==b&&(f("SCROLL"),u()),x=b};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,o,f,u]),r.jsx(Vi,{present:n||c!=="hidden",children:r.jsx(ay,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:st(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:st(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),HP=h.forwardRef((e,t)=>{const n=ms(vi,e.__scopeScrollArea),{forceMount:s,...i}=e,[o,u]=h.useState(!1),c=e.orientation==="horizontal",f=eh(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;u(c?m:p)}},10);return El(n.viewport,f),El(n.content,f),r.jsx(Vi,{present:s||o,children:r.jsx(ay,{"data-state":o?"visible":"hidden",...i,ref:t})})}),ay=h.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,i=ms(vi,e.__scopeScrollArea),o=h.useRef(null),u=h.useRef(0),[c,f]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ZP(c.viewport,c.content),p={...s,sizes:c,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function x(v,b){return wH(v,u.current,c,b)}return n==="horizontal"?r.jsx(pH,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollLeft,b=s1(v,c,i.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=x(v,i.dir))}}):n==="vertical"?r.jsx(gH,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollTop,b=s1(v,c);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=x(v))}}):null}),pH=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=ms(vi,e.__scopeScrollArea),[u,c]=h.useState(),f=h.useRef(null),m=Tt(t,f,o.onScrollbarXChange);return h.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),r.jsx(KP,{"data-orientation":"horizontal",...i,ref:m,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ym(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,x)=>{if(o.viewport){const v=o.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),JP(v,x)&&p.preventDefault()}},onResize:()=>{f.current&&o.viewport&&u&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:sm(u.paddingLeft),paddingEnd:sm(u.paddingRight)}})}})}),gH=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...i}=e,o=ms(vi,e.__scopeScrollArea),[u,c]=h.useState(),f=h.useRef(null),m=Tt(t,f,o.onScrollbarYChange);return h.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),r.jsx(KP,{"data-orientation":"vertical",...i,ref:m,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ym(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,x)=>{if(o.viewport){const v=o.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),JP(v,x)&&p.preventDefault()}},onResize:()=>{f.current&&o.viewport&&u&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:sm(u.paddingTop),paddingEnd:sm(u.paddingBottom)}})}})}),[xH,WP]=VP(vi),KP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:o,onThumbPointerUp:u,onThumbPointerDown:c,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:p,onResize:x,...v}=e,b=ms(vi,n),[S,w]=h.useState(null),N=Tt(t,Z=>w(Z)),E=h.useRef(null),C=h.useRef(""),P=b.viewport,k=s.content-s.viewport,T=Jt(p),R=Jt(f),A=eh(x,10);function B(Z){if(E.current){const $=Z.clientX-E.current.left,re=Z.clientY-E.current.top;m({x:$,y:re})}}return h.useEffect(()=>{const Z=$=>{const re=$.target;S?.contains(re)&&T($,k)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[P,S,k,T]),h.useEffect(R,[s,R]),El(S,A),El(b.content,A),r.jsx(xH,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:Jt(o),onThumbPointerUp:Jt(u),onThumbPositionChange:R,onThumbPointerDown:Jt(c),children:r.jsx(St.div,{...v,ref:N,style:{position:"absolute",...v.style},onPointerDown:st(e.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),E.current=S.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),B(Z))}),onPointerMove:st(e.onPointerMove,B),onPointerUp:st(e.onPointerUp,Z=>{const $=Z.target;$.hasPointerCapture(Z.pointerId)&&$.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),rm="ScrollAreaThumb",QP=h.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=WP(rm,e.__scopeScrollArea);return r.jsx(Vi,{present:n||i.hasThumb,children:r.jsx(vH,{ref:t,...s})})}),vH=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...i}=e,o=ms(rm,n),u=WP(rm,n),{onThumbPositionChange:c}=u,f=Tt(t,x=>u.onThumbChange(x)),m=h.useRef(void 0),p=eh(()=>{m.current&&(m.current(),m.current=void 0)},100);return h.useEffect(()=>{const x=o.viewport;if(x){const v=()=>{if(p(),!m.current){const b=bH(x,c);m.current=b,c()}};return c(),x.addEventListener("scroll",v),()=>x.removeEventListener("scroll",v)}},[o.viewport,p,c]),r.jsx(St.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:st(e.onPointerDownCapture,x=>{const b=x.target.getBoundingClientRect(),S=x.clientX-b.left,w=x.clientY-b.top;u.onThumbPointerDown({x:S,y:w})}),onPointerUp:st(e.onPointerUp,u.onThumbPointerUp)})});QP.displayName=rm;var oy="ScrollAreaCorner",GP=h.forwardRef((e,t)=>{const n=ms(oy,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(yH,{...e,ref:t}):null});GP.displayName=oy;var yH=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,i=ms(oy,n),[o,u]=h.useState(0),[c,f]=h.useState(0),m=!!(o&&c);return El(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),f(p)}),El(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),u(p)}),m?r.jsx(St.div,{...s,ref:t,style:{width:o,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sm(e){return e?parseInt(e,10):0}function ZP(e,t){const n=e/t;return isNaN(n)?0:n}function Ym(e){const t=ZP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function wH(e,t,n,s="ltr"){const i=Ym(n),o=i/2,u=t||o,c=i-u,f=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-c,p=n.content-n.viewport,x=s==="ltr"?[0,p]:[p*-1,0];return XP([f,m],x)(e)}function s1(e,t,n="ltr"){const s=Ym(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,u=t.content-t.viewport,c=o-s,f=n==="ltr"?[0,u]:[u*-1,0],m=yx(e,f);return XP([0,u],[0,c])(m)}function XP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function JP(e,t){return e>0&&e<t}var bH=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},u=n.left!==o.left,c=n.top!==o.top;(u||c)&&t(),n=o,s=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(s)};function eh(e,t){const n=Jt(e),s=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),h.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function El(e,t){const n=Jt(t);jn(()=>{let s=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(s),i.unobserve(e)}}},[e,n])}var YP=UP,jH=qP,NH=GP;const ly=h.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(YP,{ref:s,className:Be("relative overflow-hidden",e),...n,children:[r.jsx(jH,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(ek,{}),r.jsx(NH,{})]}));ly.displayName=YP.displayName;const ek=h.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(iy,{ref:s,orientation:t,className:Be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(QP,{className:"relative flex-1 rounded-full bg-border"})}));ek.displayName=iy.displayName;function SH(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function CH(e,t,n,s,i){const o={move:e,variations:i};return t&&(o.suffix=t),n&&(o.nag=n),s!==null&&(o.comment=s),o}function EH(...e){const[t,...n]=e;let s=t;for(const i of n)i!==null&&(s.variations=[i,...i.variations],i.variations=[],s=i);return t}function _H(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const s=n.variations[0];if(!s){n.comment=t.marker.comment;break}n=s}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function PH(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function _l(e,t,n,s){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,_l.prototype),i.expected=t,i.found=n,i.location=s,i.name="SyntaxError",i}PH(_l,Error);function Eg(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}_l.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,s;for(s=0;s<e.length;s++)if(e[s].source===this.location.source){n=e[s].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,u=this.location.source+":"+o.line+":"+o.column;if(n){var c=this.location.end,f=Eg("",o.line.toString().length," "),m=n[i.line-1],p=i.line===c.line?c.column:m.length+1,x=p-i.column||1;t+=`
 --> `+u+`
`+f+` |
`+o.line+" | "+m+`
`+f+" | "+Eg("",i.column-1," ")+Eg("",x,"^")}else t+=`
 at `+u}return t};_l.buildMessage=function(e,t){var n={literal:function(m){return'"'+i(m.text)+'"'},class:function(m){var p=m.parts.map(function(x){return Array.isArray(x)?o(x[0])+"-"+o(x[1]):o(x)});return"["+(m.inverted?"^":"")+p.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function i(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+s(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+s(p)})}function o(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+s(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+s(p)})}function u(m){return n[m.type](m)}function c(m){var p=m.map(u),x,v;if(p.sort(),p.length>0){for(x=1,v=1;x<p.length;x++)p[x-1]!==p[x]&&(p[v]=p[x],v++);p.length=v}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function f(m){return m?'"'+i(m)+'"':"end of input"}return"Expected "+c(e)+" but "+f(t)+" found."};function kH(e,t){t=t!==void 0?t:{};var n={},s=t.grammarSource,i={pgn:Fl},o=Fl,u="[",c='"',f="]",m=".",p="O-O-O",x="O-O",v="0-0-0",b="0-0",S="$",w="{",N="}",E=";",C="(",P=")",k="1-0",T="0-1",R="1/2-1/2",A="*",B=/^[a-zA-Z]/,Z=/^[^"]/,$=/^[0-9]/,re=/^[.]/,H=/^[a-zA-Z1-8\-=]/,ie=/^[+#]/,Y=/^[!?]/,ve=/^[^}]/,W=/^[^\r\n]/,he=/^[ \t\r\n]/,L=Tr("tag pair"),z=on("[",!1),J=on('"',!1),I=on("]",!1),ee=Tr("tag name"),Ae=jr([["a","z"],["A","Z"]],!1,!1),Ve=Tr("tag value"),de=jr(['"'],!0,!1),ge=Tr("move number"),xe=jr([["0","9"]],!1,!1),Ue=on(".",!1),q=jr(["."],!1,!1),Ne=Tr("standard algebraic notation"),yt=on("O-O-O",!1),Pt=on("O-O",!1),Vt=on("0-0-0",!1),Ln=on("0-0",!1),Hn=jr([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Wn=jr(["+","#"],!1,!1),yr=Tr("suffix annotation"),$t=jr(["!","?"],!1,!1),Kn=Tr("NAG"),Xr=on("$",!1),wr=Tr("brace comment"),F=on("{",!1),te=jr(["}"],!0,!1),fe=on("}",!1),Re=Tr("rest of line comment"),Te=on(";",!1),Se=jr(["\r",`
`],!0,!1),Ce=Tr("variation"),mt=on("(",!1),It=on(")",!1),Kt=Tr("game termination marker"),yi=on("1-0",!1),Fs=on("0-1",!1),hs=on("1/2-1/2",!1),$a=on("*",!1),zs=Tr("whitespace"),Vs=jr([" ","	","\r",`
`],!1,!1),Us=function(K,oe){return _H(K,oe)},La=function(K){return Object.fromEntries(K)},Fa=function(K,oe){return[K,oe]},Bs=function(K,oe){return{root:K,marker:oe}},qs=function(K,oe){return EH(SH(K),...oe.flat())},O=function(K,oe,le,nt,et){return CH(K,oe,le,nt,et)},jt=function(K){return K},Fn=function(K){return K.replace(/[\r\n]+/g," ")},Jr=function(K){return K.trim()},Tu=function(K){return K},$l=function(K,oe){return{result:K,comment:oe}},ae=t.peg$currPos|0,Yr=[{line:1,column:1}],br=ae,Hs=t.peg$maxFailExpected||[],Oe=t.peg$silentFails|0,ps;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=i[t.startRule]}function on(K,oe){return{type:"literal",text:K,ignoreCase:oe}}function jr(K,oe,le){return{type:"class",parts:K,inverted:oe,ignoreCase:le}}function Ll(){return{type:"end"}}function Tr(K){return{type:"other",description:K}}function Au(K){var oe=Yr[K],le;if(oe)return oe;if(K>=Yr.length)le=Yr.length-1;else for(le=K;!Yr[--le];);for(oe=Yr[le],oe={line:oe.line,column:oe.column};le<K;)e.charCodeAt(le)===10?(oe.line++,oe.column=1):oe.column++,le++;return Yr[K]=oe,oe}function Ru(K,oe,le){var nt=Au(K),et=Au(oe),Mt={source:s,start:{offset:K,line:nt.line,column:nt.column},end:{offset:oe,line:et.line,column:et.column}};return Mt}function Ge(K){ae<br||(ae>br&&(br=ae,Hs=[]),Hs.push(K))}function Ou(K,oe,le){return new _l(_l.buildMessage(K,oe),K,oe,le)}function Fl(){var K,oe,le;return K=ae,oe=nh(),le=Du(),K=Us(oe,le),K}function nh(){var K,oe,le;for(K=ae,oe=[],le=zl();le!==n;)oe.push(le),le=zl();return le=Qn(),K=La(oe),K}function zl(){var K,oe,le,nt,et,Mt,Lr;return Oe++,K=ae,Qn(),e.charCodeAt(ae)===91?(oe=u,ae++):(oe=n,Oe===0&&Ge(z)),oe!==n?(Qn(),le=Iu(),le!==n?(Qn(),e.charCodeAt(ae)===34?(nt=c,ae++):(nt=n,Oe===0&&Ge(J)),nt!==n?(et=Mu(),e.charCodeAt(ae)===34?(Mt=c,ae++):(Mt=n,Oe===0&&Ge(J)),Mt!==n?(Qn(),e.charCodeAt(ae)===93?(Lr=f,ae++):(Lr=n,Oe===0&&Ge(I)),Lr!==n?K=Fa(le,et):(ae=K,K=n)):(ae=K,K=n)):(ae=K,K=n)):(ae=K,K=n)):(ae=K,K=n),Oe--,K===n&&Oe===0&&Ge(L),K}function Iu(){var K,oe,le;if(Oe++,K=ae,oe=[],le=e.charAt(ae),B.test(le)?ae++:(le=n,Oe===0&&Ge(Ae)),le!==n)for(;le!==n;)oe.push(le),le=e.charAt(ae),B.test(le)?ae++:(le=n,Oe===0&&Ge(Ae));else oe=n;return oe!==n?K=e.substring(K,ae):K=oe,Oe--,K===n&&(oe=n,Oe===0&&Ge(ee)),K}function Mu(){var K,oe,le;for(Oe++,K=ae,oe=[],le=e.charAt(ae),Z.test(le)?ae++:(le=n,Oe===0&&Ge(de));le!==n;)oe.push(le),le=e.charAt(ae),Z.test(le)?ae++:(le=n,Oe===0&&Ge(de));return K=e.substring(K,ae),Oe--,oe=n,Oe===0&&Ge(Ve),K}function Du(){var K,oe,le;return K=ae,oe=$u(),Qn(),le=es(),le===n&&(le=null),Qn(),K=Bs(oe,le),K}function $u(){var K,oe,le,nt;for(K=ae,oe=Bi(),oe===n&&(oe=null),le=[],nt=Lu();nt!==n;)le.push(nt),nt=Lu();return K=qs(oe,le),K}function Lu(){var K,oe,le,nt,et,Mt,Lr,wi;if(K=ae,Qn(),ln(),Qn(),oe=rh(),oe!==n){for(le=Vl(),le===n&&(le=null),nt=[],et=Ul();et!==n;)nt.push(et),et=Ul();for(et=Qn(),Mt=Bi(),Mt===n&&(Mt=null),Lr=[],wi=za();wi!==n;)Lr.push(wi),wi=za();K=O(oe,le,nt,Mt,Lr)}else ae=K,K=n;return K}function ln(){var K,oe,le,nt,et,Mt;for(Oe++,K=ae,oe=[],le=e.charAt(ae),$.test(le)?ae++:(le=n,Oe===0&&Ge(xe));le!==n;)oe.push(le),le=e.charAt(ae),$.test(le)?ae++:(le=n,Oe===0&&Ge(xe));if(e.charCodeAt(ae)===46?(le=m,ae++):(le=n,Oe===0&&Ge(Ue)),le!==n){for(nt=Qn(),et=[],Mt=e.charAt(ae),re.test(Mt)?ae++:(Mt=n,Oe===0&&Ge(q));Mt!==n;)et.push(Mt),Mt=e.charAt(ae),re.test(Mt)?ae++:(Mt=n,Oe===0&&Ge(q));oe=[oe,le,nt,et],K=oe}else ae=K,K=n;return Oe--,K===n&&(oe=n,Oe===0&&Ge(ge)),K}function rh(){var K,oe,le,nt,et,Mt;if(Oe++,K=ae,oe=ae,e.substr(ae,5)===p?(le=p,ae+=5):(le=n,Oe===0&&Ge(yt)),le===n&&(e.substr(ae,3)===x?(le=x,ae+=3):(le=n,Oe===0&&Ge(Pt)),le===n&&(e.substr(ae,5)===v?(le=v,ae+=5):(le=n,Oe===0&&Ge(Vt)),le===n&&(e.substr(ae,3)===b?(le=b,ae+=3):(le=n,Oe===0&&Ge(Ln)),le===n))))if(le=ae,nt=e.charAt(ae),B.test(nt)?ae++:(nt=n,Oe===0&&Ge(Ae)),nt!==n){if(et=[],Mt=e.charAt(ae),H.test(Mt)?ae++:(Mt=n,Oe===0&&Ge(Hn)),Mt!==n)for(;Mt!==n;)et.push(Mt),Mt=e.charAt(ae),H.test(Mt)?ae++:(Mt=n,Oe===0&&Ge(Hn));else et=n;et!==n?(nt=[nt,et],le=nt):(ae=le,le=n)}else ae=le,le=n;return le!==n?(nt=e.charAt(ae),ie.test(nt)?ae++:(nt=n,Oe===0&&Ge(Wn)),nt===n&&(nt=null),le=[le,nt],oe=le):(ae=oe,oe=n),oe!==n?K=e.substring(K,ae):K=oe,Oe--,K===n&&(oe=n,Oe===0&&Ge(Ne)),K}function Vl(){var K,oe,le;for(Oe++,K=ae,oe=[],le=e.charAt(ae),Y.test(le)?ae++:(le=n,Oe===0&&Ge($t));le!==n;)oe.push(le),oe.length>=2?le=n:(le=e.charAt(ae),Y.test(le)?ae++:(le=n,Oe===0&&Ge($t)));return oe.length<1?(ae=K,K=n):K=oe,Oe--,K===n&&(oe=n,Oe===0&&Ge(yr)),K}function Ul(){var K,oe,le,nt,et;if(Oe++,K=ae,Qn(),e.charCodeAt(ae)===36?(oe=S,ae++):(oe=n,Oe===0&&Ge(Xr)),oe!==n){if(le=ae,nt=[],et=e.charAt(ae),$.test(et)?ae++:(et=n,Oe===0&&Ge(xe)),et!==n)for(;et!==n;)nt.push(et),et=e.charAt(ae),$.test(et)?ae++:(et=n,Oe===0&&Ge(xe));else nt=n;nt!==n?le=e.substring(le,ae):le=nt,le!==n?K=jt(le):(ae=K,K=n)}else ae=K,K=n;return Oe--,K===n&&Oe===0&&Ge(Kn),K}function Bi(){var K;return K=sh(),K===n&&(K=Fu()),K}function sh(){var K,oe,le,nt,et;if(Oe++,K=ae,e.charCodeAt(ae)===123?(oe=w,ae++):(oe=n,Oe===0&&Ge(F)),oe!==n){for(le=ae,nt=[],et=e.charAt(ae),ve.test(et)?ae++:(et=n,Oe===0&&Ge(te));et!==n;)nt.push(et),et=e.charAt(ae),ve.test(et)?ae++:(et=n,Oe===0&&Ge(te));le=e.substring(le,ae),e.charCodeAt(ae)===125?(nt=N,ae++):(nt=n,Oe===0&&Ge(fe)),nt!==n?K=Fn(le):(ae=K,K=n)}else ae=K,K=n;return Oe--,K===n&&(oe=n,Oe===0&&Ge(wr)),K}function Fu(){var K,oe,le,nt,et;if(Oe++,K=ae,e.charCodeAt(ae)===59?(oe=E,ae++):(oe=n,Oe===0&&Ge(Te)),oe!==n){for(le=ae,nt=[],et=e.charAt(ae),W.test(et)?ae++:(et=n,Oe===0&&Ge(Se));et!==n;)nt.push(et),et=e.charAt(ae),W.test(et)?ae++:(et=n,Oe===0&&Ge(Se));le=e.substring(le,ae),K=Jr(le)}else ae=K,K=n;return Oe--,K===n&&(oe=n,Oe===0&&Ge(Re)),K}function za(){var K,oe,le,nt;return Oe++,K=ae,Qn(),e.charCodeAt(ae)===40?(oe=C,ae++):(oe=n,Oe===0&&Ge(mt)),oe!==n?(le=$u(),le!==n?(Qn(),e.charCodeAt(ae)===41?(nt=P,ae++):(nt=n,Oe===0&&Ge(It)),nt!==n?K=Tu(le):(ae=K,K=n)):(ae=K,K=n)):(ae=K,K=n),Oe--,K===n&&Oe===0&&Ge(Ce),K}function es(){var K,oe,le;return Oe++,K=ae,e.substr(ae,3)===k?(oe=k,ae+=3):(oe=n,Oe===0&&Ge(yi)),oe===n&&(e.substr(ae,3)===T?(oe=T,ae+=3):(oe=n,Oe===0&&Ge(Fs)),oe===n&&(e.substr(ae,7)===R?(oe=R,ae+=7):(oe=n,Oe===0&&Ge(hs)),oe===n&&(e.charCodeAt(ae)===42?(oe=A,ae++):(oe=n,Oe===0&&Ge($a))))),oe!==n?(Qn(),le=Bi(),le===n&&(le=null),K=$l(oe,le)):(ae=K,K=n),Oe--,K===n&&(oe=n,Oe===0&&Ge(Kt)),K}function Qn(){var K,oe;for(Oe++,K=[],oe=e.charAt(ae),he.test(oe)?ae++:(oe=n,Oe===0&&Ge(Vs));oe!==n;)K.push(oe),oe=e.charAt(ae),he.test(oe)?ae++:(oe=n,Oe===0&&Ge(Vs));return Oe--,oe=n,Oe===0&&Ge(zs),K}if(ps=o(),t.peg$library)return{peg$result:ps,peg$currPos:ae,peg$FAILED:n,peg$maxFailExpected:Hs,peg$maxFailPos:br};if(ps!==n&&ae===e.length)return ps;throw ps!==n&&ae<e.length&&Ge(Ll()),Ou(Hs,br<e.length?e.charAt(br):null,br<e.length?Ru(br,br+1):Ru(br,br))}const yf=0xffffffffffffffffn;function _g(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function i1(e,t){return e*t&yf}function TH(e){return function(){let t=BigInt(e&yf),n=BigInt(e>>64n&yf);const s=i1(_g(i1(t,5n),7n),9n);return n^=t,t=(_g(t,24n)^n^n<<16n)&yf,n=_g(n,37n),e=n<<64n|t,s}}const th=TH(0xa187eb39cdcaed8f31c4b365b102e01en),AH=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>th()))),RH=Array.from({length:8},()=>th()),OH=Array.from({length:16},()=>th()),Pg=th(),cr="w",Br="b",Tn="p",Tx="n",wf="b",Ac="r",ga="q",Mn="k",kg="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class af{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,n){const{color:s,piece:i,from:o,to:u,flags:c,captured:f,promotion:m}=n,p=Bn(o),x=Bn(u);this.color=s,this.piece=i,this.from=p,this.to=x,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=p+x,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const v in xt)xt[v]&c&&(this.flags+=Ya[v]);f&&(this.captured=f),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(Ya.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Ya.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Ya.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Ya.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Ya.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Ya.BIG_PAWN)>-1}}const Xn=-1,Ya={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},xt={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ax={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},IH={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},MH={...Ax,...IH},ut={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Tg={b:[16,32,17,15],w:[-16,-32,-17,-15]},a1={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},DH=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],$H=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],LH={p:1,n:2,b:4,r:8,q:16,k:32},FH="pnbrqkPNBRQK",o1=[Tx,wf,Ac,ga],zH=7,VH=6,UH=1,BH=0,of={[Mn]:xt.KSIDE_CASTLE,[ga]:xt.QSIDE_CASTLE},da={w:[{square:ut.a1,flag:xt.QSIDE_CASTLE},{square:ut.h1,flag:xt.KSIDE_CASTLE}],b:[{square:ut.a8,flag:xt.QSIDE_CASTLE},{square:ut.h8,flag:xt.KSIDE_CASTLE}]},qH={b:UH,w:VH},Ag="--";function ao(e){return e>>4}function uu(e){return e&15}function tk(e){return"0123456789".indexOf(e)!==-1}function Bn(e){const t=uu(e),n=ao(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Ec(e){return e===cr?Br:cr}function HH(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(t[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=t[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let u=0;u<i.length;u++){let c=0,f=!1;for(let m=0;m<i[u].length;m++)if(tk(i[u][m])){if(f)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};c+=parseInt(i[u][m],10),f=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[u][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};c+=1,f=!1}if(c!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const o=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:u,regex:c}of o){if(!c.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${u} king`};if((t[0].match(c)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${u} kings`}}return Array.from(i[0]+i[7]).some(u=>u.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function WH(e,t){const n=e.from,s=e.to,i=e.piece;let o=0,u=0,c=0;for(let f=0,m=t.length;f<m;f++){const p=t[f].from,x=t[f].to,v=t[f].piece;i===v&&n!==p&&s===x&&(o++,ao(n)===ao(p)&&u++,uu(n)===uu(p)&&c++)}return o>0?u>0&&c>0?Bn(n):c>0?Bn(n).charAt(1):Bn(n).charAt(0):""}function fa(e,t,n,s,i,o=void 0,u=xt.NORMAL){const c=ao(s);if(i===Tn&&(c===zH||c===BH))for(let f=0;f<o1.length;f++){const m=o1[f];e.push({color:t,from:n,to:s,piece:i,captured:o,promotion:m,flags:u|xt.PROMOTION})}else e.push({color:t,from:n,to:s,piece:i,captured:o,flags:u})}function l1(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Tn:(t=t.toLowerCase(),t==="o"?Mn:t)}function Rg(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class du{_board=new Array(128);_turn=cr;_header={};_kings={w:Xn,b:Xn};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(t=kg,{skipValidation:n=!1}={}){this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:Xn,b:Xn},this._turn=cr,this._castling={w:0,b:0},this._epSquare=Xn,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...MH},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:s=!1}={}){let i=t.split(/\s+/);if(i.length>=2&&i.length<6){const c=["-","-","0","1"];t=i.concat(c.slice(-(6-i.length))).join(" ")}if(i=t.split(/\s+/),!n){const{ok:c,error:f}=HH(t);if(!c)throw new Error(f)}const o=i[0];let u=0;this.clear({preserveHeaders:s});for(let c=0;c<o.length;c++){const f=o.charAt(c);if(f==="/")u+=8;else if(tk(f))u+=parseInt(f,10);else{const m=f<"a"?cr:Br;this._put({type:f.toLowerCase(),color:m},Bn(u)),u++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=xt.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=xt.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=xt.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=xt.QSIDE_CASTLE),this._epSquare=i[3]==="-"?Xn:ut[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){let n=0,s="";for(let u=ut.a8;u<=ut.h1;u++){if(this._board[u]){n>0&&(s+=n,n=0);const{color:c,type:f}=this._board[u];s+=c===cr?f.toUpperCase():f.toLowerCase()}else n++;u+1&136&&(n>0&&(s+=n),u!==ut.h1&&(s+="/"),n=0,u+=8)}let i="";this._castling[cr]&xt.KSIDE_CASTLE&&(i+="K"),this._castling[cr]&xt.QSIDE_CASTLE&&(i+="Q"),this._castling[Br]&xt.KSIDE_CASTLE&&(i+="k"),this._castling[Br]&xt.QSIDE_CASTLE&&(i+="q"),i=i||"-";let o="-";if(this._epSquare!==Xn)if(t)o=Bn(this._epSquare);else{const u=this._epSquare+(this._turn===cr?16:-16),c=[u+1,u-1];for(const f of c){if(f&136)continue;const m=this._turn;if(this._board[f]?.color===m&&this._board[f]?.type===Tn){this._makeMove({color:m,from:f,to:this._epSquare,piece:Tn,captured:Tn,flags:xt.EP_CAPTURE});const p=!this._isKingAttacked(m);if(this._undoMove(),p){o=Bn(this._epSquare);break}}}}return[s,this._turn,i,o,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:s}=this._board[t],i={w:0,b:1}[n],o={p:0,n:1,b:2,r:3,q:4,k:5}[s];return AH[i][o][t]}_epKey(){return this._epSquare===Xn?0n:RH[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return OH[t]}_computeHash(){let t=0n;for(let n=ut.a8;n<=ut.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=Pg),t}_updateSetup(t){this._history.length>0||(t!==kg?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(kg)}get(t){return this._board[ut[t]]}findPiece(t){const n=[];for(let s=ut.a8;s<=ut.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==t.color||this._board[s].color===t.color&&this._board[s].type===t.type&&n.push(Bn(s))}return n}put({type:t,color:n},s){return this._put({type:t,color:n},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},s){if(FH.indexOf(t.toLowerCase())===-1||!(s in ut))return!1;const i=ut[s];if(t==Mn&&!(this._kings[n]==Xn||this._kings[n]==i))return!1;const o=this._board[i];return o&&o.type===Mn&&(this._kings[o.color]=Xn),this._set(i,{type:t,color:n}),t===Mn&&(this._kings[n]=i),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(ut[t]),n&&n.type===Mn&&(this._kings[n.color]=Xn),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){this._hash^=this._castlingKey();const t=this._board[ut.e1]?.type===Mn&&this._board[ut.e1]?.color===cr,n=this._board[ut.e8]?.type===Mn&&this._board[ut.e8]?.color===Br;(!t||this._board[ut.a1]?.type!==Ac||this._board[ut.a1]?.color!==cr)&&(this._castling.w&=-65),(!t||this._board[ut.h1]?.type!==Ac||this._board[ut.h1]?.color!==cr)&&(this._castling.w&=-33),(!n||this._board[ut.a8]?.type!==Ac||this._board[ut.a8]?.color!==Br)&&(this._castling.b&=-65),(!n||this._board[ut.h8]?.type!==Ac||this._board[ut.h8]?.color!==Br)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===Xn)return;const t=this._epSquare+(this._turn===cr?-16:16),n=this._epSquare+(this._turn===cr?16:-16),s=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||this._board[n]?.color!==Ec(this._turn)||this._board[n]?.type!==Tn){this._hash^=this._epKey(),this._epSquare=Xn;return}const i=o=>!(o&136)&&this._board[o]?.color===this._turn&&this._board[o]?.type===Tn;s.some(i)||(this._hash^=this._epKey(),this._epSquare=Xn)}_attacked(t,n,s){const i=[];for(let o=ut.a8;o<=ut.h1;o++){if(o&136){o+=7;continue}if(this._board[o]===void 0||this._board[o].color!==t)continue;const u=this._board[o],c=o-n;if(c===0)continue;const f=c+119;if(DH[f]&LH[u.type]){if(u.type===Tn){if(c>0&&u.color===cr||c<=0&&u.color===Br)if(s)i.push(Bn(o));else return!0;continue}if(u.type==="n"||u.type==="k")if(s){i.push(Bn(o));continue}else return!0;const m=$H[f];let p=o+m,x=!1;for(;p!==n;){if(this._board[p]!=null){x=!0;break}p+=m}if(!x)if(s){i.push(Bn(o));continue}else return!0}}return s?i:!1}attackers(t,n){return n?this._attacked(n,ut[t],!0):this._attacked(this._turn,ut[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(Ec(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,ut[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let s=0,i=0;for(let o=ut.a8;o<=ut.h1;o++){if(i=(i+1)%2,o&136){o+=7;continue}const u=this._board[o];u&&(t[u.type]=u.type in t?t[u.type]+1:1,u.type===wf&&n.push(i),s++)}if(s===2)return!0;if(s===3&&(t[wf]===1||t[Tx]===1))return!0;if(s===t[wf]+2){let o=0;const u=n.length;for(let c=0;c<u;c++)o+=n[c];if(o===0||o===u)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:s=void 0}={}){const i=this._moves({square:n,piece:s});return t?i.map(o=>new af(this,o)):i.map(o=>this._moveToSan(o,i))}_moves({legal:t=!0,piece:n=void 0,square:s=void 0}={}){const i=s?s.toLowerCase():void 0,o=n?.toLowerCase(),u=[],c=this._turn,f=Ec(c);let m=ut.a8,p=ut.h1,x=!1;if(i)if(i in ut)m=p=ut[i],x=!0;else return[];for(let b=m;b<=p;b++){if(b&136){b+=7;continue}if(!this._board[b]||this._board[b].color===f)continue;const{type:S}=this._board[b];let w;if(S===Tn){if(o&&o!==S)continue;w=b+Tg[c][0],this._board[w]||(fa(u,c,b,w,Tn),w=b+Tg[c][1],qH[c]===ao(b)&&!this._board[w]&&fa(u,c,b,w,Tn,void 0,xt.BIG_PAWN));for(let N=2;N<4;N++)w=b+Tg[c][N],!(w&136)&&(this._board[w]?.color===f?fa(u,c,b,w,Tn,this._board[w].type,xt.CAPTURE):w===this._epSquare&&fa(u,c,b,w,Tn,Tn,xt.EP_CAPTURE))}else{if(o&&o!==S)continue;for(let N=0,E=a1[S].length;N<E;N++){const C=a1[S][N];for(w=b;w+=C,!(w&136);){if(!this._board[w])fa(u,c,b,w,S);else{if(this._board[w].color===c)break;fa(u,c,b,w,S,this._board[w].type,xt.CAPTURE);break}if(S===Tx||S===Mn)break}}}}if((o===void 0||o===Mn)&&(!x||p===this._kings[c])){if(this._castling[c]&xt.KSIDE_CASTLE){const b=this._kings[c],S=b+2;!this._board[b+1]&&!this._board[S]&&!this._attacked(f,this._kings[c])&&!this._attacked(f,b+1)&&!this._attacked(f,S)&&fa(u,c,this._kings[c],S,Mn,void 0,xt.KSIDE_CASTLE)}if(this._castling[c]&xt.QSIDE_CASTLE){const b=this._kings[c],S=b-2;!this._board[b-1]&&!this._board[b-2]&&!this._board[b-3]&&!this._attacked(f,this._kings[c])&&!this._attacked(f,b-1)&&!this._attacked(f,S)&&fa(u,c,this._kings[c],S,Mn,void 0,xt.QSIDE_CASTLE)}}if(!t||this._kings[c]===-1)return u;const v=[];for(let b=0,S=u.length;b<S;b++)this._makeMove(u[b]),this._isKingAttacked(c)||v.push(u[b]),this._undoMove();return v}move(t,{strict:n=!1}={}){let s=null;if(typeof t=="string")s=this._moveFromSan(t,n);else if(t===null)s=this._moveFromSan(Ag,n);else if(typeof t=="object"){const o=this._moves();for(let u=0,c=o.length;u<c;u++)if(t.from===Bn(o[u].from)&&t.to===Bn(o[u].to)&&(!("promotion"in o[u])||t.promotion===o[u].promotion)){s=o[u];break}}if(!s)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&s.flags&xt.NULL_MOVE)throw new Error("Null move not allowed when in check");const i=new af(this,s);return this._makeMove(s),this._incPositionCount(),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){const n=this._turn,s=Ec(n);if(this._push(t),t.flags&xt.NULL_MOVE){n===Br&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=Xn;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&xt.EP_CAPTURE&&(this._turn===Br?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===Mn){if(this._kings[n]=t.to,t.flags&xt.KSIDE_CASTLE){const i=t.to-1,o=t.to+1;this._movePiece(o,i)}else if(t.flags&xt.QSIDE_CASTLE){const i=t.to+1,o=t.to-2;this._movePiece(o,i)}this._castling[n]=0}if(this._castling[n]){for(let i=0,o=da[n].length;i<o;i++)if(t.from===da[n][i].square&&this._castling[n]&da[n][i].flag){this._castling[n]^=da[n][i].flag;break}}if(this._castling[s]){for(let i=0,o=da[s].length;i<o;i++)if(t.to===da[s][i].square&&this._castling[s]&da[s][i].flag){this._castling[s]^=da[s][i].flag;break}}if(this._hash^=this._castlingKey(),t.flags&xt.BIG_PAWN){let i;n===Br?i=t.to-16:i=t.to+16,!(t.to-1&136)&&this._board[t.to-1]?.type===Tn&&this._board[t.to-1]?.color===s||!(t.to+1&136)&&this._board[t.to+1]?.type===Tn&&this._board[t.to+1]?.color===s?(this._epSquare=i,this._hash^=this._epKey()):this._epSquare=Xn}else this._epSquare=Xn;t.piece===Tn?this._halfMoves=0:t.flags&(xt.CAPTURE|xt.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===Br&&this._moveNumber++,this._turn=s,this._hash^=Pg}undo(){const t=this._hash,n=this._undoMove();if(n){const s=new af(this,n);return this._decPositionCount(t),s}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Pg;const s=this._turn,i=Ec(s);if(n.flags&xt.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:s})),n.captured)if(n.flags&xt.EP_CAPTURE){let o;s===Br?o=n.to-16:o=n.to+16,this._set(o,{type:Tn,color:i})}else this._set(n.to,{type:n.captured,color:i});if(n.flags&(xt.KSIDE_CASTLE|xt.QSIDE_CASTLE)){let o,u;n.flags&xt.KSIDE_CASTLE?(o=n.to+1,u=n.to-1):(o=n.to-2,u=n.to+1),this._movePiece(u,o)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const s=[];let i=!1;for(const v in this._header)this._header[v]&&s.push(`[${v} "${this._header[v]}"]`+t),i=!0;i&&this._history.length&&s.push(t);const o=v=>{const b=this._comments[this.fen()];if(typeof b<"u"){const S=v.length>0?" ":"";v=`${v}${S}{${b}}`}return v},u=[];for(;this._history.length>0;)u.push(this._undoMove());const c=[];let f="";for(u.length===0&&c.push(o(""));u.length>0;){f=o(f);const v=u.pop();if(!v)break;if(!this._history.length&&v.color==="b"){const b=`${this._moveNumber}. ...`;f=f?`${f} ${b}`:b}else v.color==="w"&&(f.length&&c.push(f),f=this._moveNumber+".");f=f+" "+this._moveToSan(v,this._moves({legal:!0})),this._makeMove(v)}if(f.length&&c.push(o(f)),c.push(this._header.Result||"*"),n===0)return s.join("")+c.join(" ");const m=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},p=function(v,b){for(const S of b.split(" "))if(S){if(v+S.length>n){for(;m();)v--;s.push(t),v=0}s.push(S),v+=S.length,s.push(" "),v++}return m()&&v--,v};let x=0;for(let v=0;v<c.length;v++){if(x+c[v].length>n&&c[v].includes("{")){x=p(x,c[v]);continue}x+c[v].length>n&&v!==0?(s[s.length-1]===" "&&s.pop(),s.push(t),x=0):v!==0&&(s.push(" "),x++),s.push(c[v]),x+=c[v].length}return s.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??Ax[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Ax[t]||null,!0):!1}getHeaders(){const t={};for(const[n,s]of Object.entries(this._header))s!==null&&(t[n]=s);return t}loadPgn(t,{strict:n=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(t=t.replace(new RegExp(s,"g"),`
`));const i=kH(t);this.reset();const o=i.headers;let u="";for(const m in o)m.toLowerCase()==="fen"&&(u=o[m]),this.header(m,o[m]);if(!n)u&&this.load(u,{preserveHeaders:!0});else if(o.SetUp==="1"){if(!("FEN"in o))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(o.FEN,{preserveHeaders:!0})}let c=i.root;for(;c;){if(c.move){const m=this._moveFromSan(c.move,n);if(m==null)throw new Error(`Invalid move in PGN: ${c.move}`);this._makeMove(m),this._incPositionCount()}c.comment!==void 0&&(this._comments[this.fen()]=c.comment),c=c.variations[0]}const f=i.result;f&&Object.keys(this._header).length&&this._header.Result!==f&&this.setHeader("Result",f)}_moveToSan(t,n){let s="";if(t.flags&xt.KSIDE_CASTLE)s="O-O";else if(t.flags&xt.QSIDE_CASTLE)s="O-O-O";else{if(t.flags&xt.NULL_MOVE)return Ag;if(t.piece!==Tn){const i=WH(t,n);s+=t.piece.toUpperCase()+i}t.flags&(xt.CAPTURE|xt.EP_CAPTURE)&&(t.piece===Tn&&(s+=Bn(t.from)[0]),s+="x"),s+=Bn(t.to),t.promotion&&(s+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(t,n=!1){let s=Rg(t);if(n||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==Ag)return{color:this._turn,from:0,to:0,piece:"k",flags:xt.NULL_MOVE};let i=l1(s),o=this._moves({legal:!0,piece:i});for(let v=0,b=o.length;v<b;v++)if(s===Rg(this._moveToSan(o[v],o)))return o[v];if(n)return null;let u,c,f,m,p,x=!1;if(c=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),c?(u=c[1],f=c[2],m=c[3],p=c[4],f.length==1&&(x=!0)):(c=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),c&&(u=c[1],f=c[2],m=c[3],p=c[4],f.length==1&&(x=!0))),i=l1(s),o=this._moves({legal:!0,piece:u||i}),!m)return null;for(let v=0,b=o.length;v<b;v++)if(f){if((!u||u.toLowerCase()==o[v].piece)&&ut[f]==o[v].from&&ut[m]==o[v].to&&(!p||p.toLowerCase()==o[v].promotion))return o[v];if(x){const S=Bn(o[v].from);if((!u||u.toLowerCase()==o[v].piece)&&ut[m]==o[v].to&&(f==S[0]||f==S[1])&&(!p||p.toLowerCase()==o[v].promotion))return o[v]}}else if(s===Rg(this._moveToSan(o[v],o)).replace("x",""))return o[v];return null}ascii(){let t=`   +------------------------+
`;for(let n=ut.a8;n<=ut.h1;n++){if(uu(n)===0&&(t+=" "+"87654321"[ao(n)]+" |"),this._board[n]){const s=this._board[n].type,o=this._board[n].color===cr?s.toUpperCase():s.toLowerCase();t+=" "+o+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let s=0;const i=this._turn;for(let o=0,u=n.length;o<u;o++)this._makeMove(n[o]),this._isKingAttacked(i)||(t-1>0?s+=this.perft(t-1):s++),this._undoMove();return s}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let s=ut.a8;s<=ut.h1;s++)this._board[s]==null?n.push(null):n.push({square:Bn(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(t.push(n),n=[],s+=8);return t}squareColor(t){if(t in ut){const n=ut[t];return(ao(n)+uu(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],s=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const i=n.pop();if(!i)break;t?s.push(new af(this,i)):s.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return s}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},s=i=>{i in this._comments&&(n[i]=this._comments[i])};for(;this._history.length>0;)t.push(this._undoMove());for(s(this.fen());;){const i=t.pop();if(!i)break;this._makeMove(i),s(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const i of[Mn,ga])n[i]!==void 0&&(n[i]?this._castling[t]|=of[i]:this._castling[t]&=~of[i]);this._updateCastlingRights();const s=this.getCastlingRights(t);return(n[Mn]===void 0||n[Mn]===s[Mn])&&(n[ga]===void 0||n[ga]===s[ga])}getCastlingRights(t){return{[Mn]:(this._castling[t]&of[Mn])!==0,[ga]:(this._castling[t]&of[ga])!==0}}moveNumber(){return this._moveNumber}}const Og={clasico:"Clasico (Robar)",bloqueo:"Bloqueo",cinco:"All Fives"},KH={clasico:"Roba del pozo si no puedes jugar. Gana quien se queda sin fichas o tiene menos puntos.",bloqueo:"No se roba. Si no puedes jugar, pasas. Gana quien se queda sin fichas o tiene menos puntos.",cinco:"Puntos por multiplos de 5 en los extremos. Roba si no puedes. Primer jugador a 100 puntos gana."},QH={0:[],1:[[.5,.5]],2:[[.2,.2],[.8,.8]],3:[[.2,.2],[.5,.5],[.8,.8]],4:[[.2,.2],[.8,.2],[.2,.8],[.8,.8]],5:[[.2,.2],[.8,.2],[.5,.5],[.2,.8],[.8,.8]],6:[[.2,.2],[.8,.2],[.2,.5],[.8,.5],[.2,.8],[.8,.8]]};let c1=0;function Rx({tile:e,selected:t,faceDown:n,onClick:s,horizontal:i,small:o,className:u,testId:c}){const f=o?28:40,m=o?56:80,p=m/2,x=o?3:4,v=o?3:5,b=f-v*2,S=h.useRef(`tileGrad_${c1++}`),w=h.useRef(`backGrad_${c1++}`),N=(C,P)=>(QH[C]||[]).map(([T,R],A)=>r.jsx("circle",{cx:v+T*b,cy:P+v+R*(p-v*2),r:x,fill:"#1a1a1a"},`${P}-${A}`));if(n){const C=i?m:f,P=i?f:m;return r.jsxs("svg",{width:C,height:P,viewBox:`0 0 ${C} ${P}`,className:`shrink-0 ${u||""}`,"data-testid":c,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:w.current,x1:"0",y1:"0",x2:"1",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#1a6b4a"}),r.jsx("stop",{offset:"100%",stopColor:"#0f4a32"})]})}),r.jsx("rect",{x:"1",y:"1",width:C-2,height:P-2,rx:"4",ry:"4",fill:`url(#${w.current})`,stroke:"#0d3a28",strokeWidth:"1.5"}),r.jsx("rect",{x:"4",y:"4",width:C-8,height:P-8,rx:"2",ry:"2",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"0.5"}),r.jsx("line",{x1:"4",y1:"4",x2:C-4,y2:P-4,stroke:"rgba(255,255,255,0.08)",strokeWidth:"0.5"}),r.jsx("line",{x1:C-4,y1:"4",x2:"4",y2:P-4,stroke:"rgba(255,255,255,0.08)",strokeWidth:"0.5"}),r.jsx("line",{x1:C/2,y1:"4",x2:C/2,y2:P-4,stroke:"rgba(255,255,255,0.06)",strokeWidth:"0.5"}),r.jsx("line",{x1:"4",y1:P/2,x2:C-4,y2:P/2,stroke:"rgba(255,255,255,0.06)",strokeWidth:"0.5"})]})}return r.jsxs("svg",{width:i?m:f,height:i?f:m,viewBox:`0 0 ${f} ${m}`,className:`shrink-0 cursor-pointer transition-transform ${t?"scale-110":""} ${u||""}`,onClick:s,style:i?{transform:"rotate(90deg)"}:void 0,"data-testid":c,children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:S.current,x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#f5f0e8"}),r.jsx("stop",{offset:"100%",stopColor:"#e8e0d0"})]}),t&&r.jsx("filter",{id:`glow_${S.current}`,children:r.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:"#f0c040",floodOpacity:"0.7"})})]}),r.jsx("rect",{x:"1",y:"1",width:f-2,height:m-2,rx:"4",ry:"4",fill:`url(#${S.current})`,stroke:t?"#d4a020":"#8b7355",strokeWidth:t?"2.5":"1.5",filter:t?`url(#glow_${S.current})`:void 0}),r.jsx("rect",{x:"2.5",y:"2.5",width:f-5,height:m-5,rx:"3",ry:"3",fill:"none",stroke:"rgba(0,0,0,0.06)",strokeWidth:"0.5"}),r.jsx("line",{x1:"3",y1:p,x2:f-3,y2:p,stroke:"#c0b090",strokeWidth:"1.5"}),r.jsx("g",{children:N(e[0],0)}),r.jsx("g",{children:N(e[1],p)})]})}function nk(){const e=[];for(let t=0;t<=6;t++)for(let n=t;n<=6;n++)e.push([t,n]);return e}function rk(e){const t=[...e];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[t[n],t[s]]=[t[s],t[n]]}return t}function Lc(e){return e.length===0?null:[e[0][0],e[e.length-1][1]]}function im(e,t){if(!t)return["left"];const n=[];return(e[0]===t[0]||e[1]===t[0])&&n.push("left"),(e[0]===t[1]||e[1]===t[1])&&n.push("right"),n}function cy(e,t,n){const s=[...e];if(s.length===0)return[[t[0],t[1]]];if(n==="left"){const i=s[0][0];t[1]===i?s.unshift([t[0],t[1]]):s.unshift([t[1],t[0]])}else{const i=s[s.length-1][1];t[0]===i?s.push([t[0],t[1]]):s.push([t[1],t[0]])}return s}function rl(e){if(e.length===0)return 0;if(e.length===1)return e[0][0]+e[0][1];const t=e[0][0],n=e[e.length-1][1];return t+n}function u1(e){return e.reduce((t,n)=>t+n[0]+n[1],0)}function GH(e,t,n){const s=rk(nk()),i={},o={};for(let u=1;u<=n;u++)i[String(u)]=s.slice((u-1)*7,u*7),o[String(u)]=0;return{hands:i,board:[],currentPlayer:1,playerCount:n,pool:s.slice(n*7),passes:0,scores:o,ruleType:e,targetScore:e==="cinco"?100:0,roundOver:!1,matchOver:!1,vsAI:t}}function ZH(e){const t=rk(nk()),n={};for(let s=1;s<=e.playerCount;s++)n[String(s)]=t.slice((s-1)*7,s*7);return{...e,hands:n,board:[],currentPlayer:1,pool:t.slice(e.playerCount*7),passes:0,roundOver:!1,matchOver:!1}}function sk(e){const t={};for(let o=1;o<=e.playerCount;o++)if((e.hands[String(o)]||[]).length===0){for(let c=1;c<=e.playerCount;c++)t[String(c)]=u1(e.hands[String(c)]||[]);return{winner:o,pipsByPlayer:t}}for(let o=1;o<=e.playerCount;o++)t[String(o)]=u1(e.hands[String(o)]||[]);let n=1/0,s=0,i=!1;for(let o=1;o<=e.playerCount;o++){const u=t[String(o)];u<n?(n=u,s=o,i=!1):u===n&&(i=!0)}return{winner:i?0:s,pipsByPlayer:t}}function Fc(e){for(let t=1;t<=e.playerCount;t++)if((e.hands[String(t)]||[]).length===0)return!0;return e.passes>=e.playerCount}function XH(e,t){const n=e.hands[t]||[],s=Lc(e.board),i=[];if(n.forEach((o,u)=>{const c=im(o,s);c.length>0&&i.push({idx:u,sides:c,tile:o})}),i.length>0){if(e.ruleType==="cinco"){let c=-1,f=null;for(const m of i)for(const p of m.sides){const x=cy(e.board,m.tile,p),v=rl(x);v%5===0&&v>c&&(c=v,f={idx:m.idx,side:p})}if(f)return{type:"play",tileIdx:f.idx,side:f.side}}const u=[...i].sort((c,f)=>{const m=c.tile[0]+c.tile[1];return f.tile[0]+f.tile[1]-m})[0];return{type:"play",tileIdx:u.idx,side:u.sides[0]}}return e.ruleType!=="bloqueo"&&e.pool.length>0?{type:"draw"}:{type:"pass"}}function ik(e,t){const n=XH(e,t),s=[...e.hands[t]||[]],i=Lc(e.board),o=e.currentPlayer%e.playerCount+1;if(n.type==="play"){const c=s[n.tileIdx],f=cy(e.board,c,n.side),m=s.filter((v,b)=>b!==n.tileIdx);let p={...e.scores};if(e.ruleType==="cinco"){const v=rl(f);v%5===0&&(p[t]=(p[t]||0)+v)}const x={...e,hands:{...e.hands,[t]:m},board:f,currentPlayer:o,passes:0,scores:p};return Fc(x)?zc(x):x}if(n.type==="draw"){let c=[...e.pool],f=[...s],m=!1;for(;c.length>0;){const p=c[0];if(c=c.slice(1),f=[...f,p],im(p,i).length>0){m=!0;const x={...e,hands:{...e.hands,[t]:f},pool:c};return ik(x,t)}}if(!m){const p={...e,hands:{...e.hands,[t]:f},pool:c,currentPlayer:o,passes:e.passes+1};return Fc(p)?zc(p):p}}const u={...e,currentPlayer:o,passes:e.passes+1};return Fc(u)?zc(u):u}function zc(e){const{winner:t,pipsByPlayer:n}=sk(e);let s={...e.scores};if(e.ruleType==="cinco"){if(t>0){let o=0;for(let c=1;c<=e.playerCount;c++)c!==t&&(o+=n[String(c)]||0);const u=Math.round(o/5)*5;s[String(t)]=(s[String(t)]||0)+u}let i=!1;for(let o=1;o<=e.playerCount;o++)if((s[String(o)]||0)>=e.targetScore){i=!0;break}return{...e,roundOver:!0,matchOver:i,scores:s}}return t>0&&(s[String(t)]=(s[String(t)]||0)+1),{...e,roundOver:!0,matchOver:!0,scores:s}}function JH({label:e,tileCount:t}){return r.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r.jsxs("span",{className:"text-xs font-medium mr-1",style:{color:"rgba(255,255,255,0.7)"},children:[e,": ",t]}),Array.from({length:t}).map((n,s)=>r.jsx(Rx,{tile:[0,0],faceDown:!0,small:!0,className:"opacity-80"},s))]})}function YH({onBack:e}){const[t,n]=h.useState(!0),[s,i]=h.useState("clasico"),[o,u]=h.useState(!0),[c,f]=h.useState(2),[m,p]=h.useState(null),[x,v]=h.useState(null),[b,S]=h.useState(!1),[w,N]=h.useState(null),[E,C]=h.useState(!1),{toast:P}=rt(),k=h.useRef(null),T=()=>{p(GH(s,o,c)),n(!1),v(null),N(null),C(!1)},R=()=>{m&&(p(ZH(m)),v(null),N(null),C(!1))},A=()=>{n(!0),p(null),v(null),N(null),C(!1),k.current&&clearTimeout(k.current)},B=h.useCallback(de=>de.vsAI&&de.currentPlayer!==1,[]);if(h.useEffect(()=>{if(!(!m||m.roundOver)&&B(m))return S(!0),k.current=setTimeout(()=>{p(de=>{if(!de||de.roundOver||!B(de))return de;const ge=String(de.currentPlayer);return ik(de,ge)}),S(!1)},800+Math.random()*600),()=>{k.current&&clearTimeout(k.current)}},[m?.currentPlayer,m?.roundOver,m?.vsAI,B]),t||!m)return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-domino-back",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]}),r.jsx("span",{className:"font-semibold text-lg",children:"Domino"})]}),r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsx(He,{className:"text-base",children:"Modo de Juego"})}),r.jsx(pe,{className:"space-y-4",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(D,{variant:o?"default":"outline",onClick:()=>u(!0),"data-testid":"button-vs-ai",className:"toggle-elevate",children:[r.jsx(hb,{className:"w-4 h-4 mr-1"})," vs Maquina"]}),r.jsxs(D,{variant:o?"outline":"default",onClick:()=>u(!1),"data-testid":"button-vs-local",className:"toggle-elevate",children:[r.jsx(rr,{className:"w-4 h-4 mr-1"})," Local"]})]})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsx(He,{className:"text-base",children:"Numero de Jugadores"})}),r.jsx(pe,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:[2,3,4].map(de=>r.jsxs(D,{variant:c===de?"default":"outline",onClick:()=>f(de),"data-testid":`button-player-count-${de}`,className:"toggle-elevate",children:[de," Jugadores"]},de))})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{children:r.jsx(He,{className:"text-base",children:"Estilo de Reglas"})}),r.jsx(pe,{className:"space-y-3",children:Object.keys(Og).map(de=>r.jsxs("button",{className:`w-full text-left p-3 rounded-md border transition-colors
                  ${s===de?"border-primary bg-primary/10 dark:bg-primary/20":"border-border hover-elevate"}`,onClick:()=>i(de),"data-testid":`button-rule-${de}`,children:[r.jsx("div",{className:"font-semibold text-sm",children:Og[de]}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:KH[de]})]},de))})]}),r.jsxs(D,{onClick:T,"data-testid":"button-start-domino",className:"w-full",children:[r.jsx(va,{className:"w-4 h-4 mr-1"})," Comenzar Partida"]})]});const Z=m.currentPlayer,$=String(Z),re=m.hands[$]||[],H=Lc(m.board),ie=re.some(de=>im(de,H).length>0),Y=x!==null?im(re[x],H):[],ve=de=>m.vsAI?de===1?"Tu":m.playerCount===2?"IA":`IA ${de-1}`:`Jugador ${de}`,W=Array.from({length:m.playerCount},(de,ge)=>ge+1).filter(de=>de!==Z),he=de=>{m.roundOver||b||E||v(x===de?null:de)},L=de=>{if(de.vsAI||de.roundOver){p(de);return}p(de),C(!0),v(null)},z=()=>{C(!1)},J=de=>{if(x===null||m.roundOver)return;const ge=re[x],xe=cy(m.board,ge,de),Ue=re.filter((Pt,Vt)=>Vt!==x),q=Z%m.playerCount+1;let Ne={...m.scores};if(m.ruleType==="cinco"){const Pt=rl(xe);Pt%5===0&&Pt>0?(Ne[$]=(Ne[$]||0)+Pt,N(Pt),P({title:`+${Pt} puntos!`,description:`Multiplo de 5 en los extremos (${ve(Z)})`})):N(null)}const yt={...m,hands:{...m.hands,[$]:Ue},board:xe,currentPlayer:q,passes:0,scores:Ne};Fc(yt)?p(zc(yt)):L(yt),v(null)},I=()=>{if(m.roundOver||m.pool.length===0)return;const de=m.pool[0],ge=m.pool.slice(1),xe={...m.hands,[$]:[...re,de]};p({...m,hands:xe,pool:ge})},ee=()=>{if(m.roundOver)return;const de=Z%m.playerCount+1,ge={...m,currentPlayer:de,passes:m.passes+1};Fc(ge)?p(zc(ge)):L(ge)},Ae=m.roundOver?sk(m):null,Ve=m.vsAI?m.playerCount===2?"vs IA":`vs ${m.playerCount-1} IAs`:`${m.playerCount} Jugadores`;return r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:A,"data-testid":"button-domino-setup",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Menu"]}),r.jsxs("span",{className:"font-semibold",children:["Domino - ",Og[m.ruleType]]}),m.vsAI&&r.jsxs(ye,{variant:"outline",children:[r.jsx(hb,{className:"w-3 h-3 mr-1"})," ",Ve]}),!m.vsAI&&r.jsxs(ye,{variant:"outline",children:[r.jsx(rr,{className:"w-3 h-3 mr-1"})," ",Ve]})]}),m.ruleType==="cinco"&&r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Array.from({length:m.playerCount},(de,ge)=>ge+1).map(de=>r.jsxs(ye,{variant:"secondary","data-testid":`text-score-p${de}`,children:[ve(de),": ",m.scores[String(de)]||0," pts"]},de)),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Meta: ",m.targetScore]})]}),E&&!m.roundOver&&r.jsx(ce,{children:r.jsxs(pe,{className:"py-8 text-center space-y-4",children:[r.jsx(rr,{className:"w-12 h-12 mx-auto text-primary"}),r.jsxs("p",{className:"font-semibold text-lg",children:["Turno del ",ve(Z)]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pasa el dispositivo al ",ve(Z)]}),r.jsx(D,{onClick:z,"data-testid":"button-reveal-hand",children:"Mostrar mis fichas"})]})}),!E&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, #1a5c2e 0%, #1e6b35 50%, #1a5c2e 100%)",boxShadow:"inset 0 2px 10px rgba(0,0,0,0.3)",border:"3px solid #2d1810"},children:[r.jsx("div",{className:"absolute inset-0 rounded-lg pointer-events-none",style:{border:"6px solid transparent",borderImage:"linear-gradient(135deg, #5c3a1e, #8b6914, #5c3a1e) 1"}}),r.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.04]",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.3) 1px, transparent 1px)",backgroundSize:"8px 8px"}}),r.jsxs("div",{className:"relative p-4 space-y-3",children:[r.jsx("div",{className:"space-y-2",children:W.map(de=>r.jsx(JH,{label:ve(de),tileCount:(m.hands[String(de)]||[]).length},de))}),r.jsxs("div",{className:"py-3",style:{borderTop:"1px solid rgba(255,255,255,0.1)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[r.jsx(ly,{className:"w-full",children:r.jsxs("div",{className:"flex items-center gap-1.5 min-h-[120px] px-1",children:[m.board.length===0&&r.jsx("span",{className:"text-sm mx-auto",style:{color:"rgba(255,255,255,0.5)"},children:"Mesa vacia - coloca la primera ficha"}),m.board.map((de,ge)=>r.jsx(Rx,{tile:de,horizontal:!0,small:!0},ge))]})}),m.ruleType==="cinco"&&m.board.length>0&&r.jsx("div",{className:"text-center mt-1",children:r.jsxs("span",{className:"text-xs",style:{color:"rgba(255,255,255,0.6)"},children:["Extremos: ",Lc(m.board)?.[0]," + ",Lc(m.board)?.[1]," = ",rl(m.board),rl(m.board)%5===0&&rl(m.board)>0&&r.jsx("span",{className:"font-bold ml-1",style:{color:"#ffd700"},children:"(x5!)"})]})})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-xs font-medium",style:{color:"rgba(255,255,255,0.7)"},children:["Fichas de ",ve(Z)," (",re.length,"):"]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:re.map((de,ge)=>r.jsx(Rx,{tile:de,selected:x===ge,onClick:()=>he(ge),testId:`tile-player-${ge}`},ge))})]})]})]}),!m.roundOver&&r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(ze,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"La maquina esta pensando..."})]}),!b&&r.jsxs(r.Fragment,{children:[r.jsxs(ye,{variant:"outline","data-testid":"text-turn-indicator",children:["Turno: ",ve(Z)]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[x!==null&&Y.includes("left")&&r.jsxs(D,{size:"sm",onClick:()=>J("left"),"data-testid":"button-place-left",children:[r.jsx(kl,{className:"w-4 h-4 mr-1"})," Izquierda"]}),x!==null&&Y.includes("right")&&r.jsxs(D,{size:"sm",onClick:()=>J("right"),"data-testid":"button-place-right",children:["Derecha ",r.jsx(xo,{className:"w-4 h-4 ml-1"})]}),!ie&&m.ruleType!=="bloqueo"&&m.pool.length>0&&r.jsxs(D,{size:"sm",variant:"secondary",onClick:I,"data-testid":"button-draw",children:["Robar (",m.pool.length,")"]}),!ie&&(m.ruleType==="bloqueo"||m.pool.length===0)&&r.jsx(D,{size:"sm",variant:"secondary",onClick:ee,"data-testid":"button-pass",children:"Pasar"})]})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Pozo: ",m.pool.length," fichas"]})]})]}),m.roundOver&&Ae&&r.jsx(ce,{children:r.jsxs(pe,{className:"py-4 text-center space-y-3",children:[Ae.winner>0?r.jsxs(ye,{className:"bg-green-600 text-white text-lg","data-testid":"text-round-winner",children:[ve(Ae.winner)," gano la ronda!"]}):r.jsx(ye,{variant:"secondary",className:"text-lg","data-testid":"text-round-draw",children:"Empate"}),r.jsx("div",{className:"text-sm text-muted-foreground space-y-1",children:Array.from({length:m.playerCount},(de,ge)=>ge+1).map(de=>r.jsxs("p",{children:[ve(de)," puntos restantes: ",Ae.pipsByPlayer[String(de)]||0]},de))}),m.ruleType==="cinco"&&r.jsxs("div",{className:"text-sm",children:[r.jsxs("p",{className:"font-semibold",children:["Marcador: ",Array.from({length:m.playerCount},(de,ge)=>ge+1).map(de=>`${ve(de)} ${m.scores[String(de)]||0}`).join(" - ")]}),m.matchOver&&(()=>{const de=Array.from({length:m.playerCount},(ge,xe)=>xe+1).find(ge=>(m.scores[String(ge)]||0)>=m.targetScore);return r.jsx(ye,{className:"mt-2 bg-yellow-500 text-black text-base","data-testid":"text-match-winner",children:de?`${ve(de)} gano la partida!`:""})})()]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[m.ruleType==="cinco"&&!m.matchOver&&r.jsx(D,{onClick:R,"data-testid":"button-next-round",children:"Siguiente Ronda"}),r.jsxs(D,{variant:m.matchOver?"default":"secondary",onClick:A,"data-testid":"button-new-game",children:[r.jsx(vo,{className:"w-4 h-4 mr-1"})," Nueva Partida"]})]})]})})]})}const ak={tictactoe:yR,connect4:Qx,memory:cR,checkers:hl,chess:dR,bingo:OR,domino:TR},eW=[no,li,sr,hl,Bc,Nn,hR,hu,AR,_R,wm,oR];function tW(){return{board:Array.from({length:3},()=>["","",""]),currentPlayer:"X"}}function ok(e){for(let t=0;t<3;t++){if(e[t][0]&&e[t][0]===e[t][1]&&e[t][1]===e[t][2])return e[t][0];if(e[0][t]&&e[0][t]===e[1][t]&&e[1][t]===e[2][t])return e[0][t]}return e[0][0]&&e[0][0]===e[1][1]&&e[1][1]===e[2][2]?e[0][0]:e[0][2]&&e[0][2]===e[1][1]&&e[1][1]===e[2][0]?e[0][2]:null}function lk(e){return e.every(t=>t.every(n=>n!==""))}function nW(){return{board:Array.from({length:6},()=>Array(7).fill(0)),currentPlayer:1}}function rW(e,t,n){const s=e.map(i=>[...i]);for(let i=5;i>=0;i--)if(s[i][t]===0)return s[i][t]=n,s;return null}function ck(e){for(let t=0;t<6;t++)for(let n=0;n<7;n++){const s=e[t][n];if(s&&(n+3<7&&s===e[t][n+1]&&s===e[t][n+2]&&s===e[t][n+3]||t+3<6&&s===e[t+1][n]&&s===e[t+2][n]&&s===e[t+3][n]||t+3<6&&n+3<7&&s===e[t+1][n+1]&&s===e[t+2][n+2]&&s===e[t+3][n+3]||t+3<6&&n-3>=0&&s===e[t+1][n-1]&&s===e[t+2][n-2]&&s===e[t+3][n-3]))return s}return null}function uk(e){return e[0].every(t=>t!==0)}function sW(){const e=[];for(let n=0;n<12;n++)e.push(n,n);return{cards:e.sort(()=>Math.random()-.5).map((n,s)=>({id:s,iconIdx:n,flipped:!1,matched:!1})),currentPlayer:1,scores:[0,0]}}function iW(){const e=Array.from({length:8},()=>Array(8).fill(0));for(let t=0;t<3;t++)for(let n=0;n<8;n++)(t+n)%2===1&&(e[t][n]=2);for(let t=5;t<8;t++)for(let n=0;n<8;n++)(t+n)%2===1&&(e[t][n]=1);return{board:e,currentPlayer:1}}function uy(e,t,n,s){const i=e[t][n];if(i===0)return[];const o=i===3||i===4,u=i===1||i===3?1:2;if(u!==s)return[];const c=[];(u===1||o)&&c.push([-1,-1],[-1,1]),(u===2||o)&&c.push([1,-1],[1,1]);const f=[],m=(p,x,v,b,S)=>{let w=!1;for(const[N,E]of S){const C=p+N,P=x+E,k=p+2*N,T=x+2*E;if(k<0||k>7||T<0||T>7)continue;const R=v[C][P],A=R===1||R===3?1:R===2||R===4?2:0;if(A!==0&&A!==s&&v[k][T]===0){if(b.some($=>$.r===C&&$.c===P))continue;w=!0;const B=v.map($=>[...$]);B[k][T]=B[p][x],B[p][x]=0,B[C][P]=0;const Z=[...b,{r:C,c:P}];m(k,T,B,Z,S),f.push({r:k,c:T,captures:Z})}}return w};if(m(t,n,e,[],c),f.length===0)for(const[p,x]of c){const v=t+p,b=n+x;v>=0&&v<=7&&b>=0&&b<=7&&e[v][b]===0&&f.push({r:v,c:b,captures:[]})}return f}function aW(e,t){for(let n=0;n<8;n++)for(let s=0;s<8;s++){const i=e[n][s];if((i===1||i===3?1:i===2||i===4?2:0)!==t)continue;if(uy(e,n,s,t).some(c=>c.captures.length>0))return!0}return!1}function am(e,t){for(let n=0;n<8;n++)for(let s=0;s<8;s++){const i=e[n][s];if((i===1||i===3?1:i===2||i===4?2:0)===t&&uy(e,n,s,t).length>0)return!0}return!1}function om(e,t){let n=0;for(const s of e)for(const i of s)(i===1||i===3?1:i===2||i===4?2:0)===t&&n++;return n}function d1(){const e=[[1,15],[16,30],[31,45],[46,60],[61,75]],t=[];for(let n=0;n<5;n++){const[s,i]=e[n],o=[];for(;o.length<5;){const u=s+Math.floor(Math.random()*(i-s+1));o.includes(u)||o.push(u)}t.push(o)}return t}function oW(){return{calledNumbers:[],cards:{1:d1(),2:d1()},markedCells:{1:Array.from({length:5},(e,t)=>Array.from({length:5},(n,s)=>t===2&&s===2)),2:Array.from({length:5},(e,t)=>Array.from({length:5},(n,s)=>t===2&&s===2))},caller:"auto"}}function lm(e){for(let t=0;t<5;t++)if(e.every(n=>n[t]))return!0;for(let t=0;t<5;t++)if(e[t].every(n=>n))return!0;return!!([0,1,2,3,4].every(t=>e[t][t])||[0,1,2,3,4].every(t=>e[t][4-t]))}function lW(){const e=[];for(let t=0;t<=6;t++)for(let n=t;n<=6;n++)e.push([t,n]);return e}function cW(e){const t=[...e];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[t[n],t[s]]=[t[s],t[n]]}return t}function uW(){const e=cW(lW());return{hands:{1:e.slice(0,7),2:e.slice(7,14)},board:[],currentPlayer:1,pool:e.slice(14),passes:0}}function dW(e){if(e.length===0)return null;const t=e[0],n=e[e.length-1];return[t[0],n[1]]}function Ig(e,t){if(!t)return["left"];const n=[];return(e[0]===t[0]||e[1]===t[0])&&n.push("left"),(e[0]===t[1]||e[1]===t[1])&&n.push("right"),n}function fW(e,t,n){const s=[...e];if(s.length===0)return[[t[0],t[1]]];if(n==="left"){const i=s[0][0];t[1]===i?s.unshift([t[0],t[1]]):s.unshift([t[1],t[0]])}else{const i=s[s.length-1][1];t[0]===i?s.push([t[0],t[1]]):s.push([t[1],t[0]])}return s}const mW={K:"",Q:"",R:"",B:"",N:"",P:"",k:"",q:"",r:"",b:"",n:"",p:""};function hW({state:e,onMove:t,disabled:n,playerNumber:s}){const i=ok(e.board),o=!i&&lk(e.board),u=(c,f)=>{if(n||i||o||e.board[c][f])return;const m=e.board.map(p=>[...p]);m[c][f]=e.currentPlayer,t({board:m,currentPlayer:e.currentPlayer==="X"?"O":"X"})};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!i&&!o&&r.jsxs(ye,{variant:"outline","data-testid":"text-current-player",children:["Turno: ",s?`Jugador ${e.currentPlayer==="X"?1:2}`:e.currentPlayer]}),i&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Ganador: ",i]}),o&&r.jsx(ye,{variant:"secondary","data-testid":"text-draw",children:"Empate"}),r.jsx("div",{className:"grid grid-cols-3 gap-1",style:{width:"min(80vw, 280px)"},children:e.board.map((c,f)=>c.map((m,p)=>r.jsx("button",{"data-testid":`cell-ttt-${f}-${p}`,className:`aspect-square rounded-md border-2 flex items-center justify-center text-3xl font-bold transition-colors
                ${m?"bg-muted":"hover-elevate cursor-pointer bg-card"}
                ${m==="X"?"text-orange-500 border-orange-300":m==="O"?"text-blue-500 border-blue-300":"border-border"}`,onClick:()=>u(f,p),disabled:n||!!i||o||!!m,children:m},`${f}-${p}`)))})]})}function pW({state:e,onMove:t,disabled:n}){const s=ck(e.board),i=!s&&uk(e.board),o=u=>{if(n||s||i)return;const c=rW(e.board,u,e.currentPlayer);c&&t({board:c,currentPlayer:e.currentPlayer===1?2:1})};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!s&&!i&&r.jsxs(ye,{variant:"outline","data-testid":"text-current-player",children:["Turno: Jugador ",e.currentPlayer,r.jsx(Qx,{className:`w-3 h-3 ml-1 ${e.currentPlayer===1?"fill-red-500 text-red-500":"fill-yellow-500 text-yellow-500"}`})]}),s&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Ganador: Jugador ",s]}),i&&r.jsx(ye,{variant:"secondary","data-testid":"text-draw",children:"Empate"}),r.jsx("div",{className:"bg-blue-600 dark:bg-blue-800 p-2 rounded-md",style:{width:"min(90vw, 350px)"},children:r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:7},(u,c)=>r.jsx("button",{"data-testid":`button-c4-col-${c}`,className:"aspect-square flex items-center justify-center rounded-md hover-elevate",onClick:()=>o(c),disabled:n||!!s||i,children:r.jsx(kl,{className:"w-4 h-4 text-white rotate-[-90deg]"})},`top-${c}`)),e.board.map((u,c)=>u.map((f,m)=>r.jsx("div",{"data-testid":`cell-c4-${c}-${m}`,className:"aspect-square rounded-full border-2 border-blue-700 dark:border-blue-900 flex items-center justify-center",style:{backgroundColor:f===1?"#ef4444":f===2?"#eab308":"white"}},`${c}-${m}`)))]})})]})}function gW({state:e,onMove:t,disabled:n}){const[s,i]=h.useState([]),[o,u]=h.useState(!1),c=e.cards.every(m=>m.matched),f=m=>{if(n||o||e.cards[m].flipped||e.cards[m].matched||s.length>=2)return;const p=[...s,m];i(p);const x=e.cards.map((v,b)=>b===m?{...v,flipped:!0}:v);if(p.length===2){u(!0);const[v,b]=p;if(x[v].iconIdx===x[b].iconIdx){const S=x.map((N,E)=>E===v||E===b?{...N,matched:!0}:N),w=[...e.scores];w[e.currentPlayer-1]++,setTimeout(()=>{t({cards:S,currentPlayer:e.currentPlayer,scores:w}),i([]),u(!1)},600)}else setTimeout(()=>{const S=x.map((w,N)=>N===v||N===b?{...w,flipped:!1}:w);t({cards:S,currentPlayer:e.currentPlayer===1?2:1,scores:e.scores}),i([]),u(!1)},1e3)}else t({...e,cards:x})};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs(ye,{variant:e.currentPlayer===1?"default":"outline","data-testid":"text-score-p1",children:["J1: ",e.scores[0]]}),r.jsxs(ye,{variant:e.currentPlayer===2?"default":"outline","data-testid":"text-score-p2",children:["J2: ",e.scores[1]]})]}),c&&r.jsx(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:e.scores[0]>e.scores[1]?"Jugador 1 gana":e.scores[1]>e.scores[0]?"Jugador 2 gana":"Empate"}),r.jsx("div",{className:"grid grid-cols-6 gap-2",style:{width:"min(90vw, 420px)"},children:e.cards.map((m,p)=>{const x=eW[m.iconIdx];return r.jsx("button",{"data-testid":`card-memory-${p}`,className:`aspect-square rounded-md border-2 flex items-center justify-center transition-all
                ${m.matched?"bg-green-100 dark:bg-green-900/30 border-green-400":m.flipped?"bg-orange-50 dark:bg-orange-900/20 border-orange-400":"bg-primary/10 border-primary/30 hover-elevate cursor-pointer"}`,onClick:()=>f(p),disabled:n||m.flipped||m.matched||o,children:m.flipped||m.matched?r.jsx(x,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"}):r.jsx(va,{className:"w-6 h-6 text-primary/40"})},m.id)})})]})}function xW({state:e,onMove:t,disabled:n}){const[s,i]=h.useState(null),[o,u]=h.useState([]),c=om(e.board,1),f=om(e.board,2),m=am(e.board,1),p=am(e.board,2),x=f===0||!p?1:c===0||!m?2:null,v=aW(e.board,e.currentPlayer),b=(S,w)=>{if(n||x)return;const N=e.board[S][w];if((N===1||N===3?1:N===2||N===4?2:0)===e.currentPlayer){const C=uy(e.board,S,w,e.currentPlayer),P=v?C.filter(k=>k.captures.length>0):C;P.length>0&&(i({r:S,c:w}),u(P));return}if(s){const C=o.find(P=>P.r===S&&P.c===w);if(C){const P=e.board.map(k=>[...k]);P[S][w]=P[s.r][s.c],P[s.r][s.c]=0;for(const k of C.captures)P[k.r][k.c]=0;e.currentPlayer===1&&S===0&&P[S][w]===1&&(P[S][w]=3),e.currentPlayer===2&&S===7&&P[S][w]===2&&(P[S][w]=4),t({board:P,currentPlayer:e.currentPlayer===1?2:1}),i(null),u([])}}};return h.useEffect(()=>{i(null),u([])},[e.currentPlayer]),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!x&&r.jsxs(ye,{variant:"outline","data-testid":"text-current-player",children:["Turno: Jugador ",e.currentPlayer]}),x&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Ganador: Jugador ",x]}),r.jsx("div",{className:"grid grid-cols-8 border rounded-md",style:{width:"min(90vw, 360px)"},children:e.board.map((S,w)=>S.map((N,E)=>{const C=(w+E)%2===1,P=s?.r===w&&s?.c===E,k=o.some(T=>T.r===w&&T.c===E);return r.jsxs("button",{"data-testid":`cell-checkers-${w}-${E}`,className:`aspect-square flex items-center justify-center text-lg
                  ${C?"bg-amber-800 dark:bg-amber-900":"bg-amber-100 dark:bg-amber-200"}
                  ${P?"ring-2 ring-yellow-400 ring-inset":""}
                  ${k?"ring-2 ring-green-400 ring-inset":""}`,onClick:()=>b(w,E),disabled:n||!!x,children:[N===1&&r.jsx("div",{className:"w-[70%] h-[70%] rounded-full bg-red-500 border-2 border-red-700"}),N===2&&r.jsx("div",{className:"w-[70%] h-[70%] rounded-full bg-stone-800 dark:bg-stone-200 border-2 border-stone-900 dark:border-stone-400"}),N===3&&r.jsx("div",{className:"w-[70%] h-[70%] rounded-full bg-red-500 border-2 border-red-700 flex items-center justify-center",children:r.jsx(hl,{className:"w-3 h-3 text-yellow-300"})}),N===4&&r.jsx("div",{className:"w-[70%] h-[70%] rounded-full bg-stone-800 dark:bg-stone-200 border-2 border-stone-900 dark:border-stone-400 flex items-center justify-center",children:r.jsx(hl,{className:"w-3 h-3 text-yellow-500"})})]},`${w}-${E}`)}))})]})}function vW({state:e,onMove:t,disabled:n,playerNumber:s}){const[i,o]=h.useState(null),u=h.useMemo(()=>{const P=new du;return P.load(e.fen),P},[e.fen]),c=u.board(),f=s===2,m=h.useMemo(()=>{if(!i)return new Set;const P=u.moves({square:i,verbose:!0});return new Set(P.map(k=>k.to))},[i,u]),p=u.turn(),x=u.isCheck(),v=u.isCheckmate(),b=u.isStalemate(),S=u.isDraw(),w=u.isGameOver(),N=P=>{if(n||w)return;const k=u.get(P);if(i){if(m.has(P)){const T=new du(e.fen);if(T.move({from:i,to:P,promotion:"q"})){t({fen:T.fen(),pgn:T.pgn()}),o(null);return}}if(k&&k.color===p){o(P);return}o(null);return}k&&k.color===p&&o(P)},E=f?[...c].reverse():c,C="abcdefgh";return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!w&&r.jsxs(ye,{variant:"outline","data-testid":"text-current-player",children:["Turno: ",p==="w"?"Blancas":"Negras",x&&" - Jaque!"]}),v&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Jaque Mate - ",p==="w"?"Negras":"Blancas"," ganan"]}),b&&r.jsx(ye,{variant:"secondary","data-testid":"text-draw",children:"Tablas (Ahogado)"}),S&&!b&&r.jsx(ye,{variant:"secondary","data-testid":"text-draw",children:"Tablas"}),r.jsx("div",{className:"grid grid-cols-8 border rounded-md",style:{width:"min(90vw, 360px)"},children:E.map((P,k)=>{const T=f?k:7-k;return(f?[...P].reverse():P).map((A,B)=>{const Z=f?7-B:B,$=C[Z]+(T+1),re=(T+Z)%2===0,H=i===$,ie=m.has($),Y=A?mW[A.color==="w"?A.type.toUpperCase():A.type]:"";return r.jsxs("button",{"data-testid":`cell-chess-${$}`,className:`aspect-square flex items-center justify-center text-2xl sm:text-3xl
                  ${re?"bg-amber-100 dark:bg-amber-200":"bg-amber-700 dark:bg-amber-800"}
                  ${H?"ring-2 ring-yellow-400 ring-inset":""}
                  ${ie?"ring-2 ring-green-400 ring-inset":""}`,onClick:()=>N($),disabled:n||w,children:[Y&&r.jsx("span",{className:A?.color==="w"?"text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]":"text-stone-900 drop-shadow-[0_1px_1px_rgba(255,255,255,0.3)]",children:Y}),!Y&&ie&&r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/50"})]},$)})})})]})}function yW({state:e,onMove:t,playerView:n,disabled:s}){const i=e.cards[n],o=e.markedCells[n],u=["B","I","N","G","O"],c=lm(e.markedCells[1]),f=lm(e.markedCells[2]),m=c?1:f?2:null,p=e.calledNumbers.length>0?e.calledNumbers[e.calledNumbers.length-1]:null,x=(v,b)=>{if(s||m||v===2&&b===2)return;const S=i[v][b];if(!e.calledNumbers.includes(S)||o[v][b])return;const w={...e.markedCells};w[n]=w[n].map((N,E)=>E===v?N.map((C,P)=>P===b?!0:C):N),t({...e,markedCells:w})};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p!==null&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{className:"text-lg px-4 py-1","data-testid":"text-called-number",children:p}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",e.calledNumbers.length," llamados)"]})]}),m&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Jugador ",m," - BINGO!"]}),r.jsxs("div",{className:"grid grid-cols-5 gap-1",style:{width:"min(85vw, 300px)"},children:[u.map((v,b)=>r.jsx("div",{className:"aspect-square flex items-center justify-center font-bold text-lg text-primary",children:v},v)),Array.from({length:5},(v,b)=>Array.from({length:5},(S,w)=>{const N=w===2&&b===2,E=i[w][b],C=o[w][b],P=e.calledNumbers.includes(E);return r.jsx("button",{"data-testid":`cell-bingo-${w}-${b}`,className:`aspect-square rounded-md border-2 flex items-center justify-center text-sm font-bold transition-colors
                  ${N?"bg-yellow-200 dark:bg-yellow-800 border-yellow-400":C?"bg-green-500 text-white border-green-600":P?"bg-orange-100 dark:bg-orange-900/30 border-orange-400 hover-elevate cursor-pointer":"bg-card border-border"}`,onClick:()=>x(w,b),disabled:s||!!m||N||!P||C,children:N?r.jsx(no,{className:"w-4 h-4 text-yellow-600"}):E},`${w}-${b}`)}))]})]})}function wW({state:e,onMove:t,playerView:n,disabled:s}){const[i,o]=h.useState(null),u=e.hands[n]||[],c=dW(e.board),f=String(e.currentPlayer)===n,m=e.currentPlayer===1?"2":"1",p=e.hands[m]||[],x=u.length===0||p.length===0||e.passes>=2,v=(e.hands[1]||[]).reduce((T,R)=>T+R[0]+R[1],0),b=(e.hands[2]||[]).reduce((T,R)=>T+R[0]+R[1],0),S=x?e.hands[1]?.length===0?1:e.hands[2]?.length===0?2:v<b?1:b<v?2:0:null,w=u.some(T=>Ig(T,c).length>0),N=T=>{s||!f||x||o(i===T?null:T)},E=T=>{if(i===null||s||!f||x)return;const R=u[i];if(!Ig(R,c).includes(T))return;const B=fW(e.board,R,T),Z=u.filter((re,H)=>H!==i),$={...e.hands,[n]:Z};t({...e,hands:$,board:B,currentPlayer:e.currentPlayer===1?2:1,passes:0}),o(null)},C=()=>{if(s||!f||x||e.pool.length===0)return;const T=e.pool[0],R=e.pool.slice(1),A={...e.hands,[n]:[...u,T]};t({...e,hands:A,pool:R})},P=()=>{s||!f||x||t({...e,currentPlayer:e.currentPlayer===1?2:1,passes:e.passes+1})},k=i!==null?Ig(u[i],c):[];return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[!x&&r.jsxs(ye,{variant:"outline","data-testid":"text-current-player",children:["Turno: Jugador ",e.currentPlayer]}),S!==null&&S>0&&r.jsxs(ye,{className:"bg-green-600 text-white","data-testid":"text-winner",children:["Ganador: Jugador ",S]}),S===0&&r.jsx(ye,{variant:"secondary","data-testid":"text-draw",children:"Empate"}),r.jsx(ly,{className:"w-full max-w-md",children:r.jsxs("div",{className:"flex items-center gap-1 p-2 min-h-[50px]",children:[e.board.map((T,R)=>r.jsxs("div",{className:"flex items-center border rounded-md bg-card px-1 py-0.5 text-xs font-bold shrink-0",children:[r.jsx("span",{children:T[0]}),r.jsx("span",{className:"mx-0.5 text-muted-foreground",children:"|"}),r.jsx("span",{children:T[1]})]},R)),e.board.length===0&&r.jsx("span",{className:"text-muted-foreground text-sm",children:"Mesa vacia"})]})}),r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:u.map((T,R)=>r.jsxs("button",{"data-testid":`tile-domino-${R}`,className:`flex items-center border-2 rounded-md px-2 py-1 text-sm font-bold transition-colors
              ${i===R?"ring-2 ring-yellow-400 border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"border-border bg-card hover-elevate"}`,onClick:()=>N(R),disabled:s||!f||x,children:[r.jsx("span",{children:T[0]}),r.jsx("span",{className:"mx-1 text-muted-foreground",children:"|"}),r.jsx("span",{children:T[1]})]},R))}),f&&!x&&r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[i!==null&&k.includes("left")&&r.jsxs(D,{size:"sm",onClick:()=>E("left"),"data-testid":"button-place-left",children:[r.jsx(kl,{className:"w-4 h-4 mr-1"})," Izquierda"]}),i!==null&&k.includes("right")&&r.jsxs(D,{size:"sm",onClick:()=>E("right"),"data-testid":"button-place-right",children:["Derecha ",r.jsx(xo,{className:"w-4 h-4 ml-1"})]}),!w&&e.pool.length>0&&r.jsxs(D,{size:"sm",variant:"secondary",onClick:C,"data-testid":"button-draw",children:["Robar (",e.pool.length,")"]}),!w&&e.pool.length===0&&r.jsx(D,{size:"sm",variant:"secondary",onClick:P,"data-testid":"button-pass",children:"Pasar"})]}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Pozo: ",e.pool.length," fichas"]})]})}function dk({gameType:e,state:t,onMove:n,disabled:s,playerNumber:i,userId:o}){switch(e){case"tictactoe":return r.jsx(hW,{state:t,onMove:n,disabled:s,playerNumber:i});case"connect4":return r.jsx(pW,{state:t,onMove:n,disabled:s});case"memory":return r.jsx(gW,{state:t,onMove:n,disabled:s});case"checkers":return r.jsx(xW,{state:t,onMove:n,disabled:s});case"chess":return r.jsx(vW,{state:t,onMove:n,disabled:s,playerNumber:i});case"bingo":return r.jsx(yW,{state:t,onMove:n,playerView:String(i||1),disabled:s});case"domino":return r.jsx(wW,{state:t,onMove:n,playerView:String(i||1),disabled:s});default:return null}}function f1(e){switch(e){case"tictactoe":return tW();case"connect4":return nW();case"memory":return sW();case"checkers":return iW();case"chess":return{fen:new du().fen(),pgn:""};case"bingo":return oW();case"domino":return uW()}}function cm(e,t){switch(e){case"tictactoe":{const n=ok(t.board);return n==="X"?{winner:1,isDraw:!1}:n==="O"?{winner:2,isDraw:!1}:lk(t.board)?{winner:null,isDraw:!0}:{winner:null,isDraw:!1}}case"connect4":{const n=ck(t.board);return n?{winner:n,isDraw:!1}:uk(t.board)?{winner:null,isDraw:!0}:{winner:null,isDraw:!1}}case"memory":return t.cards.every(n=>n.matched)?t.scores[0]>t.scores[1]?{winner:1,isDraw:!1}:t.scores[1]>t.scores[0]?{winner:2,isDraw:!1}:{winner:null,isDraw:!0}:{winner:null,isDraw:!1};case"checkers":{const n=om(t.board,1);return om(t.board,2)===0||!am(t.board,2)?{winner:1,isDraw:!1}:n===0||!am(t.board,1)?{winner:2,isDraw:!1}:{winner:null,isDraw:!1}}case"chess":{const n=new du(t.fen);return n.isCheckmate()?{winner:n.turn()==="w"?2:1,isDraw:!1}:n.isDraw()?{winner:null,isDraw:!0}:{winner:null,isDraw:!1}}case"bingo":return lm(t.markedCells[1])?{winner:1,isDraw:!1}:lm(t.markedCells[2])?{winner:2,isDraw:!1}:{winner:null,isDraw:!1};case"domino":{const n=t.hands[1]||[],s=t.hands[2]||[];if(!(n.length===0||s.length===0||t.passes>=2))return{winner:null,isDraw:!1};if(n.length===0)return{winner:1,isDraw:!1};if(s.length===0)return{winner:2,isDraw:!1};const o=n.reduce((c,f)=>c+f[0]+f[1],0),u=s.reduce((c,f)=>c+f[0]+f[1],0);return o<u?{winner:1,isDraw:!1}:u<o?{winner:2,isDraw:!1}:{winner:null,isDraw:!0}}default:return{winner:null,isDraw:!1}}}function bW(e,t){switch(e){case"tictactoe":return t.currentPlayer==="X"?1:2;case"connect4":return t.currentPlayer;case"memory":return t.currentPlayer;case"checkers":return t.currentPlayer;case"chess":return new du(t.fen).turn()==="w"?1:2;case"bingo":return 1;case"domino":return t.currentPlayer;default:return 1}}function jW({gameType:e,onBack:t,userId:n}){const[s,i]=h.useState(()=>f1(e)),[o,u]=h.useState(null),c=bl[e].name;h.useEffect(()=>{if(e==="bingo"){const v=setInterval(()=>{i(b=>{const{winner:S}=cm("bingo",b);if(S!==null)return b;const w=Array.from({length:75},(E,C)=>C+1).filter(E=>!b.calledNumbers.includes(E));if(w.length===0)return b;const N=w[Math.floor(Math.random()*w.length)];return{...b,calledNumbers:[...b.calledNumbers,N]}})},3e3);return u(v),()=>clearInterval(v)}},[e]);const f=()=>{i(f1(e))},{winner:m,isDraw:p}=cm(e,s),x=m!==null||p;return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-back-to-lobby",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]}),r.jsxs("span",{className:"font-semibold",children:[c," - Modo Local"]})]}),r.jsx(ce,{children:r.jsxs(pe,{className:"py-6",children:[r.jsx(dk,{gameType:e,state:s,onMove:i,disabled:!1,userId:n}),x&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs(D,{onClick:f,"data-testid":"button-play-again",children:[r.jsx(vo,{className:"w-4 h-4 mr-1"})," Jugar de nuevo"]})})]})})]})}function NW({roomId:e,gameType:t,onBack:n,userId:s}){const{toast:i}=rt(),o=bl[t].name,[u,c]=h.useState(null),{data:f,isLoading:m}=vt({queryKey:["/api/game-rooms",e],refetchInterval:2e3}),p=De({mutationFn:async({gameState:E,currentTurn:C})=>{await sn("PATCH",`/api/game-rooms/${e}/state`,{gameState:E,currentTurn:C})},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/game-rooms",e]})}}),x=De({mutationFn:async({winnerId:E,isDraw:C})=>{await sn("POST",`/api/game-rooms/${e}/finish`,{winnerId:E,isDraw:C})},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/game-rooms",e]}),Bt.invalidateQueries({queryKey:["/api/game-stats"]})}}),v=De({mutationFn:async()=>{await sn("POST",`/api/game-rooms/${e}/leave`)},onSuccess:()=>{Bt.invalidateQueries({queryKey:["/api/game-rooms"]}),n()}}),b=f?.player1Id===s?1:2;h.useEffect(()=>{if(f?.status==="playing"&&f.gameState)try{c(JSON.parse(f.gameState))}catch{}},[f?.gameState,f?.status]),h.useEffect(()=>{if(t==="bingo"&&f?.status==="playing"&&b===1){const E=setInterval(()=>{c(C=>{if(!C)return C;const{winner:P}=cm("bingo",C);if(P!==null)return C;const k=Array.from({length:75},(A,B)=>B+1).filter(A=>!C.calledNumbers.includes(A));if(k.length===0)return C;const T=k[Math.floor(Math.random()*k.length)],R={...C,calledNumbers:[...C.calledNumbers,T]};return p.mutate({gameState:JSON.stringify(R),currentTurn:s}),R})},3e3);return()=>clearInterval(E)}},[t,f?.status,b]);const S=()=>{f?.roomCode&&(navigator.clipboard.writeText(f.roomCode),i({title:"Codigo copiado"}))},w=E=>{c(E);const{winner:C,isDraw:P}=cm(t,E),T=bW(t,E)===1?f?.player1Id||0:f?.player2Id||0;if(p.mutate({gameState:JSON.stringify(E),currentTurn:T}),C!==null||P){const R=C===1?f?.player1Id??void 0:C===2?f?.player2Id??void 0:void 0;x.mutate({winnerId:R,isDraw:P})}},N=f?.currentTurn===s;return m?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx(ze,{className:"w-8 h-8 animate-spin"})}):f?r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>v.mutate(),"data-testid":"button-leave-room",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Salir"]}),r.jsx("span",{className:"font-semibold",children:o}),r.jsx(ye,{variant:"outline",children:f.status==="waiting"?"Esperando":f.status==="playing"?"Jugando":"Terminado"})]}),r.jsx(ce,{children:r.jsxs(pe,{className:"py-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Codigo:"}),r.jsx(ye,{variant:"secondary",className:"text-lg font-mono","data-testid":"text-room-code",children:f.roomCode}),r.jsx(D,{variant:"ghost",size:"icon",onClick:S,"data-testid":"button-copy-code",children:r.jsx(gR,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{variant:"outline","data-testid":"text-player1",children:f.player1Name||"Jugador 1"}),r.jsx(Kg,{className:"w-4 h-4"}),r.jsx(ye,{variant:"outline","data-testid":"text-player2",children:f.player2Id?f.player2Name||"Jugador 2":"Esperando..."})]})]}),f.status==="waiting"&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ze,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"Esperando oponente..."}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Comparte el codigo ",r.jsx("strong",{children:f.roomCode})]})]}),f.status==="playing"&&u&&r.jsxs(r.Fragment,{children:[!N&&t!=="bingo"&&r.jsx("div",{className:"text-center py-2 mb-2",children:r.jsx(ye,{variant:"secondary",children:"Esperando al oponente..."})}),r.jsx(dk,{gameType:t,state:u,onMove:w,disabled:!N&&t!=="bingo",playerNumber:b,userId:s})]}),f.status==="finished"&&r.jsx("div",{className:"text-center py-4",children:f.isDraw?r.jsx(ye,{variant:"secondary",className:"text-lg","data-testid":"text-result",children:"Empate"}):r.jsx(ye,{className:"bg-green-600 text-white text-lg","data-testid":"text-result",children:f.winnerId===s?"Ganaste!":"Perdiste"})})]})})]}):r.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Sala no encontrada"})}function SW({gameType:e,onBack:t,userId:n,onJoinRoom:s,onLocalPlay:i}){const{toast:o}=rt(),[u,c]=h.useState(""),f=bl[e].name,m=ak[e],{data:p,isLoading:x}=vt({queryKey:["/api/game-rooms",{gameType:e}],queryFn:async()=>{const w=await fetch(`/api/game-rooms?gameType=${e}`,{credentials:"include"});if(!w.ok)throw new Error("Error");return w.json()},refetchInterval:5e3}),v=De({mutationFn:async()=>(await sn("POST","/api/game-rooms",{gameType:e})).json(),onSuccess:w=>{Bt.invalidateQueries({queryKey:["/api/game-rooms"]}),s(w.id)},onError:w=>{o({title:"Error",description:w.message,variant:"destructive"})}}),b=De({mutationFn:async w=>(await sn("POST",`/api/game-rooms/${w}/join`),w),onSuccess:w=>{Bt.invalidateQueries({queryKey:["/api/game-rooms"]}),s(w)},onError:w=>{o({title:"Error",description:w.message,variant:"destructive"})}}),S=async()=>{if(u.trim())try{const E=(await(await fetch(`/api/game-rooms?gameType=${e}`,{credentials:"include"})).json()).find(C=>C.roomCode===u.trim().toUpperCase());E?b.mutate(E.id):o({title:"Error",description:"Sala no encontrada",variant:"destructive"})}catch{o({title:"Error",description:"Error al buscar sala",variant:"destructive"})}};return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-back-to-hub",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]}),r.jsx(m,{className:"w-5 h-5 text-primary"}),r.jsx("span",{className:"font-semibold text-lg",children:f})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(D,{onClick:()=>v.mutate(),disabled:v.isPending,"data-testid":"button-create-room",children:[v.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-1"}):r.jsx($n,{className:"w-4 h-4 mr-1"}),"Crear Sala"]}),r.jsxs(D,{variant:"secondary",onClick:i,"data-testid":"button-local-play",children:[r.jsx(rr,{className:"w-4 h-4 mr-1"})," Jugar Local"]})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsx(He,{className:"text-base",children:"Unirse con codigo"})}),r.jsx(pe,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Le,{placeholder:"Codigo de sala",value:u,onChange:w=>c(w.target.value.toUpperCase()),className:"font-mono","data-testid":"input-join-code"}),r.jsx(D,{onClick:S,disabled:!u.trim(),"data-testid":"button-join-by-code",children:"Unirse"})]})})]}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsx(He,{className:"text-base",children:"Salas disponibles"})}),r.jsxs(pe,{children:[x&&r.jsx("div",{className:"flex justify-center py-4",children:r.jsx(ze,{className:"w-6 h-6 animate-spin"})}),!x&&(!p||p.length===0)&&r.jsx("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No hay salas activas"}),p&&p.length>0&&r.jsx("div",{className:"space-y-2",children:p.map(w=>r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-3 border rounded-md","data-testid":`room-${w.id}`,children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(ye,{variant:"outline",className:"font-mono",children:w.roomCode}),r.jsx("span",{className:"text-sm",children:w.player1Name||"Jugador"}),r.jsx(ye,{variant:w.status==="waiting"?"secondary":"default",children:w.status==="waiting"?"Esperando":"Jugando"})]}),w.status==="waiting"&&w.player1Id!==n&&r.jsx(D,{size:"sm",onClick:()=>b.mutate(w.id),disabled:b.isPending,"data-testid":`button-join-room-${w.id}`,children:"Unirse"})]},w.id))})]})]})]})}function CW({onBack:e}){const{data:t,isLoading:n}=vt({queryKey:["/api/game-stats"]});return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-back-from-stats",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]}),r.jsx(qc,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"font-semibold text-lg",children:"Mis Estadisticas"})]}),r.jsx(ce,{children:r.jsxs(pe,{className:"py-4",children:[n&&r.jsx("div",{className:"flex justify-center py-4",children:r.jsx(ze,{className:"w-6 h-6 animate-spin"})}),!n&&(!t||t.length===0)&&r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Sin estadisticas aun"}),t&&t.length>0&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2 px-3",children:"Juego"}),r.jsx("th",{className:"text-center py-2 px-3",children:"Victorias"}),r.jsx("th",{className:"text-center py-2 px-3",children:"Derrotas"}),r.jsx("th",{className:"text-center py-2 px-3",children:"Empates"})]})}),r.jsx("tbody",{children:t.map(s=>{const i=s.gameType,o=bl[i];return r.jsxs("tr",{className:"border-b last:border-0","data-testid":`stat-row-${s.gameType}`,children:[r.jsx("td",{className:"py-2 px-3 font-medium",children:o?.name||s.gameType}),r.jsx("td",{className:"text-center py-2 px-3 text-green-600",children:s.wins}),r.jsx("td",{className:"text-center py-2 px-3 text-red-600",children:s.losses}),r.jsx("td",{className:"text-center py-2 px-3 text-muted-foreground",children:s.draws})]},s.gameType)})})]})})]})})]})}function EW({onBack:e}){const{user:t}=an();if(!t)return null;const n=t.id,[s,i]=h.useState({view:"hub"}),[o,u]=h.useState(""),{toast:c}=rt(),f=Object.keys(bl),m=async()=>{if(o.trim())try{for(const p of f){const x=await fetch(`/api/game-rooms?gameType=${p}`,{credentials:"include"});if(!x.ok)continue;const b=(await x.json()).find(S=>S.roomCode===o.trim().toUpperCase());if(b){const S=await sn("POST",`/api/game-rooms/${b.id}/join`);Bt.invalidateQueries({queryKey:["/api/game-rooms"]}),i({view:"room",roomId:b.id,gameType:p,isLocal:!1});return}}c({title:"Error",description:"Sala no encontrada",variant:"destructive"})}catch{c({title:"Error",description:"Error al buscar sala",variant:"destructive"})}};return s.view==="stats"?r.jsx(CW,{onBack:()=>i({view:"hub"})}):s.view==="domino_full"?r.jsx(YH,{onBack:()=>i({view:"hub"})}):s.view==="local"?r.jsx(jW,{gameType:s.gameType,onBack:()=>i({view:"lobby",gameType:s.gameType}),userId:n}):s.view==="room"?r.jsx(NW,{roomId:s.roomId,gameType:s.gameType,onBack:()=>i({view:"lobby",gameType:s.gameType}),userId:n}):s.view==="lobby"?r.jsx(SW,{gameType:s.gameType,onBack:()=>i({view:"hub"}),userId:n,onJoinRoom:p=>i({view:"room",roomId:p,gameType:s.gameType,isLocal:!1}),onLocalPlay:()=>i({view:"local",gameType:s.gameType})}):r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs(D,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-back-from-hub",children:[r.jsx(pr,{className:"w-4 h-4 mr-1"})," Volver"]}),r.jsx(sr,{className:"w-5 h-5 text-orange-500"}),r.jsx("span",{className:"font-semibold text-lg",children:"Juegos de Mesa"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(D,{variant:"secondary",onClick:()=>i({view:"stats"}),"data-testid":"button-my-stats",children:[r.jsx(qc,{className:"w-4 h-4 mr-1"})," Mis Estadisticas"]})}),r.jsxs(ce,{children:[r.jsx(Qe,{className:"pb-2",children:r.jsx(He,{className:"text-base",children:"Unirse con codigo"})}),r.jsx(pe,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Le,{placeholder:"Codigo de sala",value:o,onChange:p=>u(p.target.value.toUpperCase()),className:"font-mono","data-testid":"input-hub-join-code"}),r.jsx(D,{onClick:m,disabled:!o.trim(),"data-testid":"button-hub-join",children:"Unirse"})]})})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:f.map(p=>{const x=bl[p],v=ak[p];return r.jsx(ce,{className:"hover-elevate cursor-pointer",onClick:()=>i(p==="domino"?{view:"domino_full"}:{view:"lobby",gameType:p}),"data-testid":`card-game-${p}`,children:r.jsxs(pe,{className:"py-4 flex flex-col items-center gap-2 text-center",children:[r.jsx(v,{className:"w-10 h-10 text-primary"}),r.jsx("span",{className:"font-semibold text-sm",children:x.name}),r.jsx("span",{className:"text-xs text-muted-foreground",children:x.description})]})},p)})})]})}const lf=[0,50,150,300,500,800,1200,1700,2300,3e3,4e3,5e3,6500,8e3,1e4],m1=[{name:"Chispa",color:"text-orange-300",minLevel:1},{name:"Brasa",color:"text-orange-400",minLevel:3},{name:"Llama",color:"text-orange-500",minLevel:5},{name:"Antorcha",color:"text-orange-600",minLevel:8},{name:"Hoguera",color:"text-red-500",minLevel:11},{name:"Fuego Sagrado",color:"text-red-600",minLevel:15}];function dy(e){let t=m1[0];for(const n of m1)e>=n.minLevel&&(t=n);return t}function _W(e){let t=1;for(let o=1;o<lf.length&&e>=lf[o];o++)t=o+1;const n=lf[t-1]||0,s=lf[t]||n+1e3,i=(e-n)/(s-n)*100;return{currentLevel:t,progress:Math.min(i,100),nextThreshold:s,currentThreshold:n}}function fk(e){switch(e){case"facil":return"bg-green-500/10 text-green-600 border-green-500/20";case"medio":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"dificil":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"experto":return"bg-red-500/10 text-red-600 border-red-500/20";default:return""}}function h1({level:e}){const t=dy(e),n=Math.min(40+e*3,80);return r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx(sr,{className:`${t.color} drop-shadow-lg`,style:{width:n,height:n,filter:`drop-shadow(0 0 ${8+e}px currentColor)`,animation:"pulse 2s ease-in-out infinite"}}),r.jsx(va,{className:"absolute -top-2 -right-2 text-yellow-400 w-5 h-5",style:{animation:"pulse 1.5s ease-in-out infinite alternate"}})]}),r.jsx(ye,{variant:"outline",className:"mt-2",children:t.name})]})}function p1({energy:e,maxEnergy:t}){const n=Math.min(e/t*100,100),s=n>60?"bg-yellow-400":n>25?"bg-orange-400":"bg-red-400";return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wm,{className:"w-5 h-5 text-yellow-500"}),r.jsxs("div",{className:"relative w-28 h-5 rounded-md bg-muted border border-muted-foreground/20 overflow-hidden",children:[r.jsx("div",{className:`absolute inset-y-0 left-0 ${s} transition-all duration-500 rounded-md`,style:{width:`${n}%`}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-[10px] font-bold text-foreground drop-shadow-sm",children:[e,"/",t]})})]})]})}function Ox({children:e,variant:t="default"}){const n={default:"border-primary/30",gold:"border-amber-400/50",fire:"border-orange-500/40",story:"border-indigo-400/40"},s={default:"shadow-primary/10",gold:"shadow-amber-400/15",fire:"shadow-orange-500/15",story:"shadow-indigo-400/15"},i={default:"text-primary/40",gold:"text-amber-400/60",fire:"text-orange-500/50",story:"text-indigo-400/50"};return r.jsxs("div",{className:`relative border-2 ${n[t]} rounded-lg shadow-lg ${s[t]} p-0.5`,children:[r.jsx("div",{className:`absolute -top-1.5 -left-1.5 ${i[t]}`,children:r.jsx(va,{className:"w-3 h-3"})}),r.jsx("div",{className:`absolute -top-1.5 -right-1.5 ${i[t]}`,children:r.jsx(va,{className:"w-3 h-3"})}),r.jsx("div",{className:`absolute -bottom-1.5 -left-1.5 ${i[t]}`,children:r.jsx(va,{className:"w-3 h-3"})}),r.jsx("div",{className:`absolute -bottom-1.5 -right-1.5 ${i[t]}`,children:r.jsx(va,{className:"w-3 h-3"})}),e]})}function PW({question:e,onAnswer:t,isSubmitting:n}){const[s,i]=h.useState(null),o=c=>{n||(i(c),t(c))},u=e.difficulty==="experto"?"gold":e.difficulty==="dificil"?"fire":"default";return r.jsx(Ox,{variant:u,children:r.jsxs(ce,{className:"max-w-2xl mx-auto border-0 shadow-none",children:[r.jsxs(Qe,{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx(ye,{variant:"outline",className:fk(e.difficulty),children:TS[e.difficulty]||e.difficulty}),r.jsx(ye,{variant:"secondary",children:e.category}),r.jsxs(ye,{variant:"outline",className:"ml-auto",children:[r.jsx(no,{className:"w-3 h-3 mr-1"})," ",e.points," pts"]})]}),r.jsx(He,{className:"text-lg leading-relaxed","data-testid":"text-question",children:e.question}),e.bibleReference&&r.jsx(wt,{className:"italic",children:e.bibleReference})]}),r.jsxs(pe,{children:[e.type==="verdadero_falso"?r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Verdadero","Falso"].map(c=>r.jsx(D,{variant:s===c?"default":"outline",className:"h-auto py-4 text-base",onClick:()=>o(c),disabled:n,"data-testid":`button-answer-${c.toLowerCase()}`,children:c},c))}):e.options?r.jsx("div",{className:"grid gap-2",children:e.options.map((c,f)=>r.jsxs(D,{variant:s===c?"default":"outline",className:"h-auto py-3 text-left justify-start text-sm leading-normal whitespace-normal",onClick:()=>o(c),disabled:n,"data-testid":`button-answer-${f}`,children:[r.jsxs("span",{className:"font-bold mr-2 shrink-0",children:[String.fromCharCode(65+f),"."]}),c]},f))}):r.jsx("p",{className:"text-muted-foreground",children:"Tipo de pregunta no soportado"}),n&&r.jsx("div",{className:"flex justify-center mt-4",children:r.jsx(ze,{className:"w-6 h-6 animate-spin text-primary"})})]})]})})}function kW({result:e,onNext:t}){return r.jsxs(ce,{className:`max-w-2xl mx-auto border-2 ${e.correct?"border-green-500/50":"border-red-500/50"}`,children:[r.jsxs(Qe,{className:"text-center",children:[e.correct?r.jsxs(r.Fragment,{children:[r.jsx(ks,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}),r.jsx(He,{className:"text-green-600","data-testid":"text-result-correct",children:"Correcto"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ri,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),r.jsx(He,{className:"text-red-600","data-testid":"text-result-incorrect",children:"Incorrecto"})]}),r.jsx(wt,{className:"text-lg",children:e.correct?`+${e.pointsEarned} puntos`:"No te desanimes, sigue intentando"})]}),r.jsxs(pe,{className:"space-y-4",children:[e.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-4",children:[r.jsx("p",{className:"text-sm font-medium mb-1",children:"Explicacion:"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.explanation})]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Nivel ",e.profile.level]}),r.jsxs("span",{children:["Racha: ",e.profile.streak]}),r.jsxs("span",{children:["Puntos: ",e.profile.totalPoints]})]}),r.jsxs(D,{onClick:t,"data-testid":"button-next-question",children:["Siguiente ",r.jsx(xo,{className:"w-4 h-4 ml-1"})]})]})]})]})}function TW({currentLevel:e}){return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[r.jsx(Sf,{className:"w-4 h-4"})," Mapa de Niveles"]}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:15},(t,n)=>n+1).map(t=>{const n=dy(t),s=t<=e,i=t===e;return r.jsxs("div",{className:`relative aspect-square rounded-md border-2 flex flex-col items-center justify-center text-xs transition-all ${i?"border-primary bg-primary/10 ring-2 ring-primary/30":s?"border-muted-foreground/20 bg-muted/50":"border-muted bg-muted/20 opacity-50"}`,"data-testid":`level-node-${t}`,children:[s?r.jsx(sr,{className:`w-5 h-5 ${n.color}`}):r.jsx(mN,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:`font-bold mt-0.5 ${i?"text-primary":""}`,children:t})]},t)})})]})}function g1(){const{data:e=[],isLoading:t}=vt({queryKey:["/api/game/leaderboard"]});if(t)return r.jsx(ze,{className:"w-6 h-6 animate-spin text-primary mx-auto"});const n=[hl,jR,lR];return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[r.jsx(qc,{className:"w-4 h-4"})," Clasificacion"]}),e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Se el primero en jugar"}):r.jsx("div",{className:"space-y-2",children:e.map((s,i)=>{const o=n[i];return r.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-md ${i<3?"bg-primary/5":""}`,"data-testid":`leaderboard-entry-${i}`,children:[r.jsx("span",{className:"w-6 text-center font-bold text-sm text-muted-foreground",children:o?r.jsx(o,{className:`w-4 h-4 mx-auto ${i===0?"text-yellow-500":i===1?"text-slate-400":"text-amber-600"}`}):i+1}),r.jsxs(mr,{className:"h-7 w-7",children:[s.avatarUrl&&r.jsx(ds,{src:s.avatarUrl}),r.jsx(hr,{className:"text-[10px] bg-primary/10 text-primary",children:(s.displayName||s.username).slice(0,2).toUpperCase()})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:s.displayName||s.username}),r.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Nivel ",s.level]})]}),r.jsx("span",{className:"text-sm font-bold text-primary",children:s.totalPoints})]},s.userId)})})]})}function AW(){const{data:e=[],isLoading:t}=vt({queryKey:["/api/game/missions"]}),{toast:n}=rt(),s=De({mutationFn:async i=>(await sn("POST",`/api/game/missions/${i}/claim`)).json(),onSuccess:i=>{Bt.invalidateQueries({queryKey:["/api/game/missions"]}),Bt.invalidateQueries({queryKey:["/api/game/profile"]}),n({title:"Recompensa reclamada",description:`+${i.energy} energia, +${i.points} puntos`})}});return t?r.jsx(ze,{className:"w-6 h-6 animate-spin text-primary mx-auto"}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[r.jsx(cN,{className:"w-4 h-4"})," Misiones"]}),e.length===0?r.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay misiones disponibles"}):r.jsx("div",{className:"space-y-2",children:e.map(i=>r.jsx("div",{className:`p-3 rounded-md border ${i.isCompleted?"bg-green-500/5 border-green-500/20":"bg-muted/30"}`,"data-testid":`mission-${i.id}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium",children:i.title}),r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:i.description}),r.jsxs("div",{className:"mt-2",children:[r.jsx(Cl,{value:i.progress/i.targetCount*100,className:"h-1.5"}),r.jsxs("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:[i.progress,"/",i.targetCount]})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-1",children:[r.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[i.rewardEnergy>0&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(wm,{className:"w-3 h-3 text-yellow-500"}),"+",i.rewardEnergy]}),i.rewardPoints>0&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(no,{className:"w-3 h-3 text-primary"}),"+",i.rewardPoints]})]}),i.isCompleted&&r.jsx(D,{size:"sm",variant:"outline",onClick:()=>s.mutate(i.id),disabled:s.isPending,"data-testid":`button-claim-mission-${i.id}`,children:"Reclamar"})]})]})},i.id))})]})}function RW({activity:e,onComplete:t}){const[n,s]=h.useState(e.completed),[i,o]=h.useState(e.completed?{correct:e.isCorrect,explanation:e.explanation??null,correctAnswer:e.correctAnswer??null}:null),u=De({mutationFn:async({userAnswer:m,isCorrect:p})=>(await sn("POST",`/api/story/activities/${e.id}/complete`,{userAnswer:m,isCorrect:p})).json(),onSuccess:m=>{s(!0),o({correct:m.isCorrect,explanation:m.explanation,correctAnswer:m.correctAnswer}),Bt.invalidateQueries({queryKey:["/api/story/chapters"]}),t(m.userAnswer,m.isCorrect)}});let c={};try{c=JSON.parse(e.content)}catch{c={}}const f=G5[e.activityType]||e.activityType;return e.activityType==="reflexion"?r.jsx(Ox,{variant:"story",children:r.jsxs(ce,{className:"max-w-2xl mx-auto border-0 shadow-none",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-blue-500/10 text-blue-600 border-blue-500/20",children:f}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsx("div",{className:"bg-muted/50 rounded-md p-4 border-l-4 border-primary/30",children:r.jsx("p",{className:"text-sm leading-relaxed italic",children:c.text})}),c.reflection&&r.jsxs("div",{className:"bg-primary/5 rounded-md p-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Pregunta para reflexionar:"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.reflection})]}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),n?r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(ks,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Reflexion completada"})]}):r.jsxs(D,{onClick:()=>u.mutate({userAnswer:"reflexion_completada",isCorrect:null}),disabled:u.isPending,"data-testid":"button-complete-reflection",children:[u.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ks,{className:"w-4 h-4 mr-2"})," He reflexionado sobre esto"]}),i?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Nota del estudio:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.explanation})]})]})]})}):e.activityType==="completar_versiculo"?r.jsx(OW,{activity:e,parsed:c,answered:n,setAnswered:s,feedback:i,completeMutation:u,actLabel:f}):e.activityType==="ordenar_eventos"?r.jsx(IW,{activity:e,parsed:c,answered:n,setAnswered:s,feedback:i,completeMutation:u,actLabel:f}):e.activityType==="parear"?r.jsx(MW,{activity:e,parsed:c,answered:n,setAnswered:s,feedback:i,completeMutation:u,actLabel:f}):e.activityType==="comparar_pasajes"?r.jsx(Ox,{variant:"story",children:r.jsxs(ce,{className:"max-w-2xl mx-auto border-0 shadow-none",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-indigo-500/10 text-indigo-600 border-indigo-500/20",children:f}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-muted/50 rounded-md p-4 border-l-4 border-blue-400/50",children:[r.jsx("p",{className:"text-xs font-bold text-blue-600 mb-2",children:c.passage1?.reference}),r.jsx("p",{className:"text-sm leading-relaxed italic",children:c.passage1?.text})]}),r.jsxs("div",{className:"bg-muted/50 rounded-md p-4 border-l-4 border-purple-400/50",children:[r.jsx("p",{className:"text-xs font-bold text-purple-600 mb-2",children:c.passage2?.reference}),r.jsx("p",{className:"text-sm leading-relaxed italic",children:c.passage2?.text})]})]}),c.question&&r.jsxs("div",{className:"bg-primary/5 rounded-md p-4",children:[r.jsx("p",{className:"text-sm font-medium mb-1",children:"Pregunta:"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.question})]}),n?r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(ks,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Comparacion completada"})]}):r.jsxs(D,{onClick:()=>u.mutate({userAnswer:"comparacion_completada",isCorrect:null}),disabled:u.isPending,"data-testid":"button-complete-compare",children:[u.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ks,{className:"w-4 h-4 mr-2"})," He comparado los pasajes"]}),i?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.explanation})]})]})]})}):e.activityType==="opcion_multiple"?r.jsx(DW,{activity:e,parsed:c,answered:n,setAnswered:s,feedback:i,completeMutation:u,actLabel:f}):e.activityType==="verdadero_falso"?r.jsx($W,{activity:e,parsed:c,answered:n,setAnswered:s,feedback:i,completeMutation:u,actLabel:f}):r.jsx(ce,{className:"max-w-2xl mx-auto",children:r.jsxs(pe,{className:"py-8 text-center text-muted-foreground",children:["Tipo de actividad no reconocido: ",e.activityType]})})}function OW({activity:e,parsed:t,answered:n,setAnswered:s,feedback:i,completeMutation:o,actLabel:u}){const[c,f]=h.useState(()=>{if(e.completed&&e.userAnswer)try{return JSON.parse(e.userAnswer)}catch{return Array(t.missingWords?.length||0).fill("")}return Array(t.missingWords?.length||0).fill("")}),m=()=>{const x=t.missingWords?.every((v,b)=>c[b]?.toLowerCase().trim()===v.toLowerCase().trim());o.mutate({userAnswer:JSON.stringify(c),isCorrect:x})},p=t.verse?.split("_____")||[];return r.jsxs(ce,{className:"max-w-2xl mx-auto",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-emerald-500/10 text-emerald-600 border-emerald-500/20",children:u}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsx("div",{className:"bg-muted/50 rounded-md p-4 border-l-4 border-primary/30",children:r.jsx("div",{className:"text-sm leading-relaxed",children:p.map((x,v)=>r.jsxs("span",{children:[r.jsx("span",{className:"italic",children:x}),v<p.length-1&&(n?r.jsxs("span",{className:`font-bold mx-1 ${i?.correct!==!1?"text-green-600":"text-red-500"}`,children:["[",c[v]||t.missingWords?.[v],"]"]}):r.jsx(Le,{className:"inline-block w-32 mx-1 text-center",placeholder:"...",value:c[v]||"",onChange:b=>{const S=[...c];S[v]=b.target.value,f(S)},"data-testid":`input-word-${v}`}))]},v))})}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),n?r.jsxs("div",{className:"space-y-2",children:[i?.correct===!1&&t.fullVerse&&r.jsxs("div",{className:"bg-green-500/10 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium text-green-600 mb-1",children:"Versiculo completo:"}),r.jsx("p",{className:"text-xs italic",children:t.fullVerse})]}),r.jsxs("div",{className:`flex items-center gap-2 ${i?.correct!==!1?"text-green-600":"text-orange-500"}`,children:[i?.correct!==!1?r.jsx(ks,{className:"w-5 h-5"}):r.jsx(ri,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:i?.correct!==!1?"Correcto":"Respuesta parcial - revisa el versiculo completo"})]}),i?.correct===!1&&r.jsxs(D,{variant:"outline",onClick:()=>{s(!1),f(Array(t.missingWords?.length||0).fill(""))},"data-testid":"button-retry-activity",children:[r.jsx(vo,{className:"w-4 h-4 mr-2"})," Reintentar"]})]}):r.jsxs(D,{onClick:m,disabled:o.isPending||c.some(x=>!x.trim()),"data-testid":"button-submit-complete",children:[o.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-2"}):null," Verificar"]}),i?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.explanation})]})]})]})}function IW({activity:e,parsed:t,answered:n,setAnswered:s,feedback:i,completeMutation:o,actLabel:u}){const[c,f]=h.useState(t.items?.map((x,v)=>v).sort(()=>Math.random()-.5)||[]),m=(x,v)=>{if(v<0||v>=c.length)return;const b=[...c],[S]=b.splice(x,1);b.splice(v,0,S),f(b)},p=()=>{const x=t.items?.map((b,S)=>S)||[],v=JSON.stringify(c)===JSON.stringify(x);o.mutate({userAnswer:JSON.stringify(c),isCorrect:v})};return r.jsxs(ce,{className:"max-w-2xl mx-auto",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-amber-500/10 text-amber-600 border-amber-500/20",children:u}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-2",children:c.map((x,v)=>r.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-md border ${n?v===x?"border-green-500/30 bg-green-500/5":"border-red-500/30 bg-red-500/5":"bg-muted/30"}`,children:[r.jsxs("span",{className:"text-xs font-bold text-muted-foreground w-6",children:[v+1,"."]}),r.jsx(uN,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsx("span",{className:"text-sm flex-1",children:t.items?.[x]}),!n&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>m(v,v-1),disabled:v===0,"data-testid":`button-move-up-${v}`,children:r.jsx(kl,{className:"w-4 h-4 rotate-90"})}),r.jsx(D,{size:"icon",variant:"ghost",onClick:()=>m(v,v+1),disabled:v===c.length-1,"data-testid":`button-move-down-${v}`,children:r.jsx(xo,{className:"w-4 h-4 rotate-90"})})]})]},x))}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),n?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex items-center gap-2 ${i?.correct?"text-green-600":"text-orange-500"}`,children:[i?.correct?r.jsx(ks,{className:"w-5 h-5"}):r.jsx(ri,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:i?.correct?"Orden correcto":"Orden incorrecto - revisa la secuencia biblica"})]}),i?.correct===!1&&r.jsxs(D,{variant:"outline",onClick:()=>{s(!1),f(t.items?.map((x,v)=>v).sort(()=>Math.random()-.5)||[])},"data-testid":"button-retry-activity",children:[r.jsx(vo,{className:"w-4 h-4 mr-2"})," Reintentar"]})]}):r.jsxs(D,{onClick:p,disabled:o.isPending,"data-testid":"button-submit-order",children:[o.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-2"}):null," Verificar Orden"]}),i?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.explanation})]})]})]})}function MW({activity:e,parsed:t,answered:n,setAnswered:s,feedback:i,completeMutation:o,actLabel:u}){const c=t.pairs||[],[f,m]=h.useState(null),[p,x]=h.useState({}),v=h.useState(()=>c.map((w,N)=>N).sort(()=>Math.random()-.5))[0],b=w=>{if(f===null||n)return;const N={...p,[f]:w};x(N),m(null)},S=()=>{const w=c.every((N,E)=>p[E]===E);o.mutate({userAnswer:JSON.stringify(p),isCorrect:w})};return r.jsxs(ce,{className:"max-w-2xl mx-auto",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-violet-500/10 text-violet-600 border-violet-500/20",children:u}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Concepto"}),c.map((w,N)=>r.jsxs(D,{variant:f===N?"default":p[N]!==void 0?"secondary":"outline",className:"w-full h-auto py-2 text-xs text-left justify-start whitespace-normal",onClick:()=>!n&&m(N),disabled:n||p[N]!==void 0,"data-testid":`button-left-${N}`,children:[w[0],p[N]!==void 0&&r.jsx(dN,{className:"w-3 h-3 ml-auto shrink-0"})]},N))]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Definicion"}),v.map(w=>{const N=Object.values(p).includes(w);return r.jsx(D,{variant:N?"secondary":"outline",className:"w-full h-auto py-2 text-xs text-left justify-start whitespace-normal",onClick:()=>b(w),disabled:n||N||f===null,"data-testid":`button-right-${w}`,children:c[w][1]},w)})]})]}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),n?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:`flex items-center gap-2 ${i?.correct?"text-green-600":"text-orange-500"}`,children:[i?.correct?r.jsx(ks,{className:"w-5 h-5"}):r.jsx(ri,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:i?.correct?"Todas las parejas correctas":"Algunas parejas incorrectas - revisa las conexiones"})]}),i?.correct===!1&&r.jsxs(D,{variant:"outline",onClick:()=>{s(!1),x({}),m(null)},"data-testid":"button-retry-activity",children:[r.jsx(vo,{className:"w-4 h-4 mr-2"})," Reintentar"]})]}):r.jsxs(D,{onClick:S,disabled:o.isPending||Object.keys(p).length<c.length,"data-testid":"button-submit-pairs",children:[o.isPending?r.jsx(ze,{className:"w-4 h-4 animate-spin mr-2"}):null," Verificar Parejas"]}),i?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.explanation})]})]})]})}function DW({activity:e,parsed:t,answered:n,setAnswered:s,feedback:i,completeMutation:o,actLabel:u}){const[c,f]=h.useState(e.completed?e.userAnswer:null),[m,p]=h.useState(i),[x,v]=h.useState(n),b=w=>{if(x)return;f(w);const N=w===e.correctAnswer;o.mutate({userAnswer:w,isCorrect:N},{onSuccess:E=>{v(!0),p({correct:E.isCorrect,explanation:E.explanation,correctAnswer:E.correctAnswer})}})},S=()=>{f(null),v(!1),p(null),s(!1)};return r.jsxs(ce,{className:"max-w-2xl mx-auto",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-green-500/10 text-green-600 border-green-500/20",children:u}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm font-medium",children:t.question}),r.jsx("div",{className:"grid gap-2",children:t.options?.map((w,N)=>r.jsxs(D,{variant:c===w?m?.correct?"default":"destructive":"outline",className:"h-auto py-3 text-left justify-start text-sm leading-normal whitespace-normal",onClick:()=>b(w),disabled:x||o.isPending,"data-testid":`button-story-answer-${N}`,children:[r.jsxs("span",{className:"font-bold mr-2 shrink-0",children:[String.fromCharCode(65+N),"."]}),w]},N))}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),x&&m?.correct===!1&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"bg-orange-500/10 rounded-md p-3",children:r.jsxs("p",{className:"text-xs font-medium text-orange-600",children:["Respuesta incorrecta. La correcta es: ",m.correctAnswer]})}),r.jsxs(D,{variant:"outline",onClick:S,"data-testid":"button-retry-activity",children:[r.jsx(vo,{className:"w-4 h-4 mr-2"})," Reintentar"]})]}),x&&m?.correct&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(ks,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Correcto"})]}),m?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:m.explanation})]})]})]})}function $W({activity:e,parsed:t,answered:n,setAnswered:s,feedback:i,completeMutation:o,actLabel:u}){const[c,f]=h.useState(e.completed?e.userAnswer:null),[m,p]=h.useState(i),[x,v]=h.useState(n),b=w=>{if(x)return;f(w);const N=w===e.correctAnswer;o.mutate({userAnswer:w,isCorrect:N},{onSuccess:E=>{v(!0),p({correct:E.isCorrect,explanation:E.explanation,correctAnswer:E.correctAnswer})}})},S=()=>{f(null),v(!1),p(null),s(!1)};return r.jsxs(ce,{className:"max-w-2xl mx-auto",children:[r.jsxs(Qe,{children:[r.jsx(ye,{variant:"outline",className:"w-fit mb-2 bg-cyan-500/10 text-cyan-600 border-cyan-500/20",children:u}),r.jsx(He,{className:"text-lg",children:e.title}),r.jsx(wt,{children:e.instruction})]}),r.jsxs(pe,{className:"space-y-4",children:[r.jsx("div",{className:"bg-muted/50 rounded-md p-4",children:r.jsx("p",{className:"text-sm font-medium",children:t.statement})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Verdadero","Falso"].map(w=>r.jsx(D,{variant:c===w?m?.correct?"default":"destructive":"outline",className:"h-auto py-4 text-base",onClick:()=>b(w),disabled:x||o.isPending,"data-testid":`button-story-${w.toLowerCase()}`,children:w},w))}),e.bibleReference&&r.jsx("p",{className:"text-xs text-muted-foreground italic",children:e.bibleReference}),x&&m?.correct===!1&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"bg-orange-500/10 rounded-md p-3",children:r.jsxs("p",{className:"text-xs font-medium text-orange-600",children:["Respuesta incorrecta. La correcta es: ",m.correctAnswer]})}),r.jsxs(D,{variant:"outline",onClick:S,"data-testid":"button-retry-activity",children:[r.jsx(vo,{className:"w-4 h-4 mr-2"})," Reintentar"]})]}),x&&m?.correct&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(ks,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Correcto"})]}),m?.explanation&&r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-xs font-medium mb-1",children:"Ensenanza:"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:m.explanation})]})]})]})}function LW({onBack:e}){const[t,n]=h.useState(null),[s,i]=h.useState(0),{data:o=[],isLoading:u}=vt({queryKey:["/api/story/chapters"]}),{data:c,isLoading:f}=vt({queryKey:["/api/story/chapters",t],enabled:t!==null});if(t!==null&&c){const m=c.activities,p=m[s],x=m.filter(v=>v.completed).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs(D,{variant:"ghost",onClick:()=>n(null),"data-testid":"button-back-chapters",children:[r.jsx(pr,{className:"w-4 h-4 mr-2"})," Capitulos"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{variant:"outline",children:c.chapter.category}),r.jsxs(ye,{variant:"secondary",children:[x,"/",m.length," completadas"]})]})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold mb-1",children:["Cap. ",c.chapter.chapterNumber,": ",c.chapter.title]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:c.chapter.description}),r.jsx(Cl,{value:x/Math.max(m.length,1)*100,className:"h-2 mt-3"})]}),r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-4",children:m.map((v,b)=>r.jsxs(D,{size:"sm",variant:b===s?"default":v.completed?"secondary":"outline",onClick:()=>i(b),"data-testid":`button-activity-nav-${b}`,children:[v.completed?r.jsx(ks,{className:"w-3 h-3 mr-1"}):null,b+1]},v.id))}),p&&r.jsx(RW,{activity:p,onComplete:()=>{Bt.invalidateQueries({queryKey:["/api/story/chapters",t]})}},p.id),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsxs(D,{variant:"outline",disabled:s===0,onClick:()=>i(s-1),"data-testid":"button-prev-activity",children:[r.jsx(pr,{className:"w-4 h-4 mr-2"})," Anterior"]}),r.jsxs(D,{variant:"outline",disabled:s>=m.length-1,onClick:()=>i(s+1),"data-testid":"button-next-activity",children:["Siguiente ",r.jsx(aN,{className:"w-4 h-4 ml-2"})]})]})]})}return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs(D,{variant:"ghost",onClick:e,"data-testid":"button-back-modes",children:[r.jsx(pr,{className:"w-4 h-4 mr-2"})," Volver"]}),r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Nn,{className:"w-6 h-6 text-primary"})," Modo Historia"]})]}),r.jsx(ce,{children:r.jsx(pe,{className:"pt-6",children:r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Nn,{className:"w-12 h-12 text-primary mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold",children:"Viaje por la Biblia"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Explora los capitulos de la historia biblica sin limites. Aprende a tu ritmo con actividades variadas."})]})})}),u?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(m=>{const x=m.completedActivities>0?m.completedActivities/4*100:0;return r.jsxs(ce,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>{n(m.id),i(0)},"data-testid":`card-chapter-${m.chapterNumber}`,children:[r.jsxs(Qe,{className:"pb-2",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsx(ye,{variant:"outline",children:m.category}),m.bibleBook&&r.jsx(ye,{variant:"secondary",children:m.bibleBook})]}),r.jsxs(He,{className:"text-base mt-2",children:["Cap. ",m.chapterNumber,": ",m.title]}),r.jsx(wt,{className:"text-xs",children:m.description})]}),r.jsx(pe,{className:"pt-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cl,{value:x,className:"h-1.5 flex-1"}),r.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[m.completedActivities," hechas"]})]})})]},m.id)})})]})}function FW(){const{user:e}=an(),{toast:t}=rt(),[n,s]=h.useState("select"),[i,o]=h.useState("menu"),[u,c]=h.useState("facil"),[f,m]=h.useState(null),[p,x]=h.useState(null),[v,b]=h.useState([]),[S,w]=h.useState("jugar"),{data:N,isLoading:E}=vt({queryKey:["/api/game/profile"],enabled:!!e}),C=De({mutationFn:async $=>{const re=v.slice(-20).join(",");return(await sn("GET",`/api/game/question?difficulty=${$}&exclude=${re}`)).json()},onSuccess:$=>{m($),o("playing")},onError:()=>{t({title:"Sin preguntas",description:"No hay mas preguntas disponibles para esta dificultad.",variant:"destructive"})}}),P=De({mutationFn:async({questionId:$,selectedAnswer:re})=>(await sn("POST","/api/game/answer",{questionId:$,selectedAnswer:re})).json(),onSuccess:$=>{x($),o("result"),f&&b(re=>[...re,f.id]),Bt.invalidateQueries({queryKey:["/api/game/profile"]}),Bt.invalidateQueries({queryKey:["/api/game/leaderboard"]}),Bt.invalidateQueries({queryKey:["/api/game/missions"]})},onError:$=>{t({title:"Error",description:$?.message||"No se pudo enviar respuesta",variant:"destructive"})}}),k=h.useCallback($=>{c($),C.mutate($)},[]),T=h.useCallback($=>{f&&P.mutate({questionId:f.id,selectedAnswer:$})},[f]),R=h.useCallback(()=>{C.mutate(u)},[u]);if(!e)return r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center",children:[r.jsx(sr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"El Guardian de la Llama"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Inicia sesion para jugar y mantener la llama viva en el altar."}),r.jsx(lt,{href:"/login",children:r.jsx(D,{"data-testid":"button-login-to-play",children:"Iniciar Sesion"})})]})});if(E)return r.jsx(Ot,{children:r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(ze,{className:"h-8 w-8 animate-spin text-primary"})})});const A=N,B=_W(A.totalPoints),Z=dy(A.level);return n==="select"?r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(h1,{level:A.level}),r.jsxs("h1",{className:"text-2xl font-bold mt-4 flex items-center justify-center gap-2","data-testid":"text-game-title",children:[r.jsx(sr,{className:`w-7 h-7 ${Z.color}`})," El Guardian de la Llama"]}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Selecciona un modo de juego"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[r.jsxs(ce,{className:"hover-elevate cursor-pointer",onClick:()=>s("competitivo"),"data-testid":"card-mode-competitivo",children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-3 w-16 h-16 rounded-md bg-red-500/10 flex items-center justify-center",children:r.jsx(Kg,{className:"w-8 h-8 text-red-500"})}),r.jsx(He,{children:"Modo Competitivo"}),r.jsx(wt,{children:"Compite con otros miembros por el primer lugar en la clasificacion"})]}),r.jsxs(pe,{children:[r.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wm,{className:"w-4 h-4 text-yellow-500"})," Sistema de energia (15 max)"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qc,{className:"w-4 h-4 text-amber-500"})," Clasificacion global"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(no,{className:"w-4 h-4 text-primary"})," Puntos y niveles"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cN,{className:"w-4 h-4 text-green-500"})," Misiones con recompensas"]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Nivel ",A.level]}),r.jsxs("span",{children:[A.totalPoints," pts"]}),r.jsx(p1,{energy:A.energy,maxEnergy:A.maxEnergy})]})]})]}),r.jsxs(ce,{className:"hover-elevate cursor-pointer",onClick:()=>s("historia"),"data-testid":"card-mode-historia",children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-3 w-16 h-16 rounded-md bg-blue-500/10 flex items-center justify-center",children:r.jsx(Nn,{className:"w-8 h-8 text-blue-500"})}),r.jsx(He,{children:"Modo Historia"}),r.jsx(wt,{children:"Recorre la Biblia a tu ritmo con actividades variadas y sin limites"})]}),r.jsxs(pe,{children:[r.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nn,{className:"w-4 h-4 text-blue-500"})," Sin limites de energia"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sf,{className:"w-4 h-4 text-indigo-500"})," Capitulos tematicos"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(uN,{className:"w-4 h-4 text-purple-500"})," Ordenar, parear, completar"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dN,{className:"w-4 h-4 text-emerald-500"})," Comparar pasajes y reflexionar"]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx(ye,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/20",children:"Estudio libre - sin puntos competitivos"})})]})]}),r.jsxs(ce,{className:"hover-elevate cursor-pointer",onClick:()=>s("juegos_mesa"),"data-testid":"card-mode-juegos-mesa",children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-3 w-16 h-16 rounded-md bg-emerald-500/10 flex items-center justify-center",children:r.jsx(hl,{className:"w-8 h-8 text-emerald-600"})}),r.jsx(He,{children:"Juegos de Mesa"}),r.jsx(wt,{children:"Juega online con otros miembros o en modo local"})]}),r.jsxs(pe,{children:[r.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sf,{className:"w-4 h-4 text-emerald-500"})," Ajedrez, Damas, Domino y mas"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qc,{className:"w-4 h-4 text-amber-500"})," Registro de victorias y derrotas"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(va,{className:"w-4 h-4 text-indigo-500"})," Salas multijugador con codigo"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(no,{className:"w-4 h-4 text-purple-500"})," 7 juegos clasicos disponibles"]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx(ye,{variant:"outline",className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20",children:"Multijugador - compite con miembros"})})]})]})]})]})}):n==="historia"?r.jsx(Ot,{children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:r.jsx(LW,{onBack:()=>s("select")})})}):n==="juegos_mesa"?r.jsx(Ot,{children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:r.jsx(EW,{onBack:()=>s("select")})})}):r.jsx(Ot,{children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(D,{variant:"ghost",size:"icon",onClick:()=>{s("select"),o("menu")},"data-testid":"button-back-mode-select",children:r.jsx(pr,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2","data-testid":"text-competitive-title",children:[r.jsx(Kg,{className:"w-6 h-6 text-red-500"})," Modo Competitivo"]}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"Compite y gana puntos"})]})]}),r.jsx(p1,{energy:A.energy,maxEnergy:A.maxEnergy})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Dl,{value:S,onValueChange:w,children:[r.jsxs(So,{className:"w-full grid grid-cols-3 mb-4","data-testid":"tabs-game",children:[r.jsx(Ht,{value:"jugar",children:"Jugar"}),r.jsx(Ht,{value:"clasificacion",children:"Clasificacion"}),r.jsx(Ht,{value:"misiones",children:"Misiones"})]}),r.jsxs(Wt,{value:"jugar",children:[i==="menu"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ce,{children:[r.jsxs(Qe,{className:"text-center",children:[r.jsx(h1,{level:A.level}),r.jsxs(He,{className:"mt-4",children:["Nivel ",A.level]}),r.jsxs(wt,{children:[A.totalPoints," puntos totales",A.streak>0&&` | Racha: ${A.streak}`,A.bestStreak>0&&` | Mejor racha: ${A.bestStreak}`]}),r.jsxs("div",{className:"mt-3 max-w-xs mx-auto",children:[r.jsx(Cl,{value:B.progress,className:"h-2"}),r.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[A.totalPoints-B.currentThreshold," / ",B.nextThreshold-B.currentThreshold," para nivel ",B.currentLevel+1]})]})]}),r.jsx(pe,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto text-center",children:[r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsx("p",{className:"text-2xl font-bold",children:A.questionsAnswered}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Respondidas"})]}),r.jsxs("div",{className:"bg-muted/50 rounded-md p-3",children:[r.jsxs("p",{className:"text-2xl font-bold",children:[A.questionsAnswered>0?Math.round(A.correctAnswers/A.questionsAnswered*100):0,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Precision"})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Selecciona la dificultad:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(TS).map(([$,re])=>{const H=$==="medio"&&A.level<3||$==="dificil"&&A.level<5||$==="experto"&&A.level<8,ie=$==="facil"?10:$==="medio"?20:$==="dificil"?35:50;return r.jsxs(D,{variant:"outline",className:`h-auto py-4 flex flex-col gap-1 ${fk($)}`,onClick:()=>k($),disabled:H||A.energy<=0||C.isPending,"data-testid":`button-difficulty-${$}`,children:[H?r.jsx(mN,{className:"w-5 h-5"}):r.jsx(no,{className:"w-5 h-5"}),r.jsx("span",{className:"font-bold",children:re}),r.jsx("span",{className:"text-[10px]",children:H?`Nivel ${$==="medio"?3:$==="dificil"?5:8}`:`${ie} pts`})]},$)})}),A.energy<=0&&r.jsx("p",{className:"text-sm text-destructive mt-3 text-center",children:"Sin energia. Completa misiones o espera a que se recargue (1 cada 10 min)."})]})]}),i==="playing"&&f&&r.jsx(PW,{question:f,onAnswer:T,isSubmitting:P.isPending}),i==="result"&&p&&r.jsx(kW,{result:p,onNext:p.profile.energy>0?R:()=>o("menu")}),C.isPending&&i!=="playing"&&r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})})]}),r.jsx(Wt,{value:"clasificacion",children:r.jsx(ce,{children:r.jsx(pe,{className:"pt-6",children:r.jsx(g1,{})})})}),r.jsx(Wt,{value:"misiones",children:r.jsx(ce,{children:r.jsx(pe,{className:"pt-6",children:r.jsx(AW,{})})})})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ce,{children:r.jsx(pe,{className:"pt-6",children:r.jsx(TW,{currentLevel:A.level})})}),r.jsx(ce,{children:r.jsx(pe,{className:"pt-6",children:r.jsx(g1,{})})})]})]})]})})}function zW(){return r.jsxs(P4,{children:[r.jsx(Cn,{path:"/",component:vV}),r.jsx(Cn,{path:"/historia",component:wV}),r.jsx(Cn,{path:"/equipo",component:l7}),r.jsx(Cn,{path:"/en-vivo",component:b9}),r.jsx(Cn,{path:"/eventos",component:IB}),r.jsx(Cn,{path:"/capacitaciones",component:Eq}),r.jsx(Cn,{path:"/capacitaciones/:id",component:Pq}),r.jsx(Cn,{path:"/aula/:id",component:Mq}),r.jsx(Cn,{path:"/contacto",component:TB}),r.jsx(Cn,{path:"/login",component:DB}),r.jsx(Cn,{path:"/registro",component:FB}),r.jsx(Cn,{path:"/perfil",component:zB}),r.jsx(Cn,{path:"/admin",component:Sq}),r.jsx(Cn,{path:"/comunidad",component:Cq}),r.jsx(Cn,{path:"/mis-capacitaciones",component:kq}),r.jsx(Cn,{path:"/maestro",component:Tq}),r.jsx(Cn,{path:"/biblioteca",component:rH}),r.jsx(Cn,{path:"/oracion",component:iH}),r.jsx(Cn,{path:"/regiones",component:uH}),r.jsx(Cn,{path:"/juego",component:FW}),r.jsx(Cn,{component:pV})]})}function VW(){return r.jsx(Y4,{client:Bt,children:r.jsxs(WI,{children:[r.jsx(wO,{}),r.jsx(zW,{})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});n4.createRoot(document.getElementById("root")).render(r.jsx(VW,{}));
